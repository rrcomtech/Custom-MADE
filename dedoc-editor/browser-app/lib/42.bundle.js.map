{"version":3,"sources":["webpack:///../node_modules/@theia/callhierarchy/src/browser/index.ts","webpack:///../node_modules/@theia/plugin-ext/src/common/object-identifier.ts","webpack:///../node_modules/@theia/plugin-ext/src/main/browser/callhierarchy/callhierarchy-type-converters.ts","webpack:///../node_modules/@theia/plugin-ext/src/main/browser/languages-main.ts"],"names":[],"mappings":"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","file":"42.bundle.js","sourcesContent":["/********************************************************************************\n * Copyright (C) 2018 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nexport * from './callhierarchy';\nexport * from './callhierarchy-contribution';\nexport * from './callhierarchy-frontend-module';\nexport * from './callhierarchy-service';\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nexport interface ObjectIdentifier {\n    $ident: number;\n}\n\nexport namespace ObjectIdentifier {\n    export const name = '$ident';\n\n    export function mixin<T>(obj: T, id: number): T & ObjectIdentifier {\n        Object.defineProperty(obj, name, { value: id, enumerable: true });\n        return <T & ObjectIdentifier>obj;\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    export function of(obj: any): number {\n        return obj[name];\n    }\n}\n","/********************************************************************************\n * Copyright (C) 2020 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { Definition as CallHierarchyDefinition, Caller as CallHierarchyCaller } from '@theia/callhierarchy/lib/browser';\nimport * as model from '../../../common/plugin-api-rpc-model';\nimport * as rpc from '../../../common/plugin-api-rpc';\nimport * as callhierarchy from 'vscode-languageserver-types';\nimport URI from 'vscode-uri';\nimport { UriComponents } from '../../../common/uri-components';\nimport { Location } from 'vscode-languageserver-types';\n\nexport function toUriComponents(uri: string): UriComponents {\n    return URI.parse(uri);\n}\n\nexport function fromUriComponents(uri: UriComponents): string {\n    return URI.revive(uri).toString();\n}\n\nexport function fromLocation(location: Location): model.Location {\n    return <model.Location>{\n        uri: URI.parse(location.uri),\n        range: fromRange(location.range)\n    };\n}\n\nexport function toLocation(uri: UriComponents, range: model.Range): Location {\n    return <Location>{\n        uri: URI.revive(uri).toString(),\n        range: toRange(range)\n    };\n}\n\nexport function fromPosition(position: callhierarchy.Position): rpc.Position {\n    return <rpc.Position>{\n        lineNumber: position.line,\n        column: position.character\n    };\n}\n\nexport function fromRange(range: callhierarchy.Range): model.Range {\n    const { start, end } = range;\n    return {\n        startLineNumber: start.line,\n        startColumn: start.character,\n        endLineNumber: end.line,\n        endColumn: end.character\n    };\n}\n\nexport function toRange(range: model.Range): callhierarchy.Range {\n    return callhierarchy.Range.create(range.startLineNumber, range.startColumn, range.endLineNumber, range.endColumn);\n}\n\nexport namespace SymbolKindConverter {\n    // tslint:disable-next-line:no-null-keyword\n    const fromMapping: { [kind: number]: model.SymbolKind } = Object.create(null);\n    fromMapping[callhierarchy.SymbolKind.File] = model.SymbolKind.File;\n    fromMapping[callhierarchy.SymbolKind.Module] = model.SymbolKind.Module;\n    fromMapping[callhierarchy.SymbolKind.Namespace] = model.SymbolKind.Namespace;\n    fromMapping[callhierarchy.SymbolKind.Package] = model.SymbolKind.Package;\n    fromMapping[callhierarchy.SymbolKind.Class] = model.SymbolKind.Class;\n    fromMapping[callhierarchy.SymbolKind.Method] = model.SymbolKind.Method;\n    fromMapping[callhierarchy.SymbolKind.Property] = model.SymbolKind.Property;\n    fromMapping[callhierarchy.SymbolKind.Field] = model.SymbolKind.Field;\n    fromMapping[callhierarchy.SymbolKind.Constructor] = model.SymbolKind.Constructor;\n    fromMapping[callhierarchy.SymbolKind.Enum] = model.SymbolKind.Enum;\n    fromMapping[callhierarchy.SymbolKind.Interface] = model.SymbolKind.Interface;\n    fromMapping[callhierarchy.SymbolKind.Function] = model.SymbolKind.Function;\n    fromMapping[callhierarchy.SymbolKind.Variable] = model.SymbolKind.Variable;\n    fromMapping[callhierarchy.SymbolKind.Constant] = model.SymbolKind.Constant;\n    fromMapping[callhierarchy.SymbolKind.String] = model.SymbolKind.String;\n    fromMapping[callhierarchy.SymbolKind.Number] = model.SymbolKind.Number;\n    fromMapping[callhierarchy.SymbolKind.Boolean] = model.SymbolKind.Boolean;\n    fromMapping[callhierarchy.SymbolKind.Array] = model.SymbolKind.Array;\n    fromMapping[callhierarchy.SymbolKind.Object] = model.SymbolKind.Object;\n    fromMapping[callhierarchy.SymbolKind.Key] = model.SymbolKind.Key;\n    fromMapping[callhierarchy.SymbolKind.Null] = model.SymbolKind.Null;\n    fromMapping[callhierarchy.SymbolKind.EnumMember] = model.SymbolKind.EnumMember;\n    fromMapping[callhierarchy.SymbolKind.Struct] = model.SymbolKind.Struct;\n    fromMapping[callhierarchy.SymbolKind.Event] = model.SymbolKind.Event;\n    fromMapping[callhierarchy.SymbolKind.Operator] = model.SymbolKind.Operator;\n    fromMapping[callhierarchy.SymbolKind.TypeParameter] = model.SymbolKind.TypeParameter;\n\n    export function fromSymbolKind(kind: callhierarchy.SymbolKind): model.SymbolKind {\n        return fromMapping[kind] || model.SymbolKind.Property;\n    }\n\n    // tslint:disable-next-line:no-null-keyword\n    const toMapping: { [kind: number]: callhierarchy.SymbolKind } = Object.create(null);\n    toMapping[model.SymbolKind.File] = callhierarchy.SymbolKind.File;\n    toMapping[model.SymbolKind.Module] = callhierarchy.SymbolKind.Module;\n    toMapping[model.SymbolKind.Namespace] = callhierarchy.SymbolKind.Namespace;\n    toMapping[model.SymbolKind.Package] = callhierarchy.SymbolKind.Package;\n    toMapping[model.SymbolKind.Class] = callhierarchy.SymbolKind.Class;\n    toMapping[model.SymbolKind.Method] = callhierarchy.SymbolKind.Method;\n    toMapping[model.SymbolKind.Property] = callhierarchy.SymbolKind.Property;\n    toMapping[model.SymbolKind.Field] = callhierarchy.SymbolKind.Field;\n    toMapping[model.SymbolKind.Constructor] = callhierarchy.SymbolKind.Constructor;\n    toMapping[model.SymbolKind.Enum] = callhierarchy.SymbolKind.Enum;\n    toMapping[model.SymbolKind.Interface] = callhierarchy.SymbolKind.Interface;\n    toMapping[model.SymbolKind.Function] = callhierarchy.SymbolKind.Function;\n    toMapping[model.SymbolKind.Variable] = callhierarchy.SymbolKind.Variable;\n    toMapping[model.SymbolKind.Constant] = callhierarchy.SymbolKind.Constant;\n    toMapping[model.SymbolKind.String] = callhierarchy.SymbolKind.String;\n    toMapping[model.SymbolKind.Number] = callhierarchy.SymbolKind.Number;\n    toMapping[model.SymbolKind.Boolean] = callhierarchy.SymbolKind.Boolean;\n    toMapping[model.SymbolKind.Array] = callhierarchy.SymbolKind.Array;\n    toMapping[model.SymbolKind.Object] = callhierarchy.SymbolKind.Object;\n    toMapping[model.SymbolKind.Key] = callhierarchy.SymbolKind.Key;\n    toMapping[model.SymbolKind.Null] = callhierarchy.SymbolKind.Null;\n    toMapping[model.SymbolKind.EnumMember] = callhierarchy.SymbolKind.EnumMember;\n    toMapping[model.SymbolKind.Struct] = callhierarchy.SymbolKind.Struct;\n    toMapping[model.SymbolKind.Event] = callhierarchy.SymbolKind.Event;\n    toMapping[model.SymbolKind.Operator] = callhierarchy.SymbolKind.Operator;\n    toMapping[model.SymbolKind.TypeParameter] = callhierarchy.SymbolKind.TypeParameter;\n\n    export function toSymbolKind(kind: model.SymbolKind): callhierarchy.SymbolKind {\n        return toMapping[kind] || model.SymbolKind.Property;\n    }\n}\n\nexport function toDefinition(definition: model.CallHierarchyDefinition): CallHierarchyDefinition;\nexport function toDefinition(definition: model.CallHierarchyDefinition | undefined): CallHierarchyDefinition | undefined;\nexport function toDefinition(definition: model.CallHierarchyDefinition | undefined): CallHierarchyDefinition | undefined {\n    if (!definition) {\n        return undefined;\n    }\n    return {\n        location: {\n            uri: fromUriComponents(definition.uri),\n            range: toRange(definition.range)\n        },\n        selectionRange: toRange(definition.selectionRange),\n        symbolName: definition.name,\n        symbolKind: SymbolKindConverter.toSymbolKind(definition.kind),\n        containerName: undefined\n    };\n}\n\nexport function fromDefinition(definition: CallHierarchyDefinition): model.CallHierarchyDefinition {\n    return {\n        uri: toUriComponents(definition.location.uri),\n        range: fromRange(definition.location.range),\n        selectionRange: fromRange(definition.selectionRange),\n        name: definition.symbolName,\n        kind: SymbolKindConverter.fromSymbolKind(definition.symbolKind)\n    };\n}\n\nexport function toCaller(caller: model.CallHierarchyReference): CallHierarchyCaller {\n    return {\n        callerDefinition: toDefinition(caller.callerDefinition),\n        references: caller.references.map(toRange)\n    };\n}\n\nexport function fromCaller(caller: CallHierarchyCaller): model.CallHierarchyReference {\n    return <model.CallHierarchyReference>{\n        callerDefinition: fromDefinition(caller.callerDefinition),\n        references: caller.references.map(fromRange)\n    };\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n// Method `$changeLanguage` copied and modified\n// from https://github.com/microsoft/vscode/blob/e9c50663154c369a06355ce752b447af5b580dc3/src/vs/workbench/api/browser/mainThreadLanguages.ts#L30-L42\n\nimport {\n    LanguagesMain,\n    SerializedLanguageConfiguration,\n    SerializedRegExp,\n    SerializedIndentationRule,\n    SerializedOnEnterRule,\n    MAIN_RPC_CONTEXT,\n    LanguagesExt,\n    WorkspaceEditDto,\n    ResourceTextEditDto,\n    PluginInfo\n} from '../../common/plugin-api-rpc';\nimport { injectable, inject } from 'inversify';\nimport {\n    SerializedDocumentFilter, MarkerData, Range, WorkspaceSymbolProvider, RelatedInformation,\n    MarkerSeverity, DocumentLink, WorkspaceSymbolParams, CodeAction\n} from '../../common/plugin-api-rpc-model';\nimport { RPCProtocol } from '../../common/rpc-protocol';\nimport { fromLanguageSelector } from '../../plugin/type-converters';\nimport { DocumentFilter, MonacoModelIdentifier, testGlob } from 'monaco-languageclient/lib';\nimport { MonacoLanguages } from '@theia/monaco/lib/browser/monaco-languages';\nimport CoreURI from '@theia/core/lib/common/uri';\nimport { Disposable, DisposableCollection } from '@theia/core/lib/common/disposable';\nimport { Emitter } from '@theia/core/lib/common/event';\nimport { ProblemManager } from '@theia/markers/lib/browser';\nimport * as vst from 'vscode-languageserver-types';\nimport * as theia from '@theia/plugin';\nimport { UriComponents } from '../../common/uri-components';\nimport { CancellationToken } from '@theia/core/lib/common';\nimport { LanguageSelector } from '@theia/languages/lib/common/language-selector';\nimport { CallHierarchyService, CallHierarchyServiceProvider, Caller, Definition } from '@theia/callhierarchy/lib/browser';\nimport { toDefinition, toUriComponents, fromDefinition, fromPosition, toCaller } from './callhierarchy/callhierarchy-type-converters';\nimport { Position, DocumentUri } from 'vscode-languageserver-types';\nimport { ObjectIdentifier } from '../../common/object-identifier';\n\n@injectable()\nexport class LanguagesMainImpl implements LanguagesMain, Disposable {\n\n    @inject(MonacoLanguages)\n    private readonly monacoLanguages: MonacoLanguages;\n\n    @inject(ProblemManager)\n    private readonly problemManager: ProblemManager;\n\n    @inject(CallHierarchyServiceProvider)\n    private readonly callHierarchyServiceContributionRegistry: CallHierarchyServiceProvider;\n\n    private readonly proxy: LanguagesExt;\n    private readonly services = new Map<number, Disposable>();\n    private readonly toDispose = new DisposableCollection();\n\n    constructor(@inject(RPCProtocol) rpc: RPCProtocol) {\n        this.proxy = rpc.getProxy(MAIN_RPC_CONTEXT.LANGUAGES_EXT);\n    }\n\n    dispose(): void {\n        this.toDispose.dispose();\n    }\n\n    $getLanguages(): Promise<string[]> {\n        return Promise.resolve(monaco.languages.getLanguages().map(l => l.id));\n    }\n\n    $changeLanguage(resource: UriComponents, languageId: string): Promise<void> {\n        const uri = monaco.Uri.revive(resource);\n        const model = monaco.editor.getModel(uri);\n        if (!model) {\n            return Promise.reject(new Error('Invalid uri'));\n        }\n        const langId = monaco.languages.getEncodedLanguageId(languageId);\n        if (!langId) {\n            return Promise.reject(new Error(`Unknown language ID: ${languageId}`));\n        }\n        monaco.editor.setModelLanguage(model, languageId);\n        return Promise.resolve(undefined);\n    }\n\n    protected register(handle: number, service: Disposable): void {\n        this.services.set(handle, service);\n        this.toDispose.push(Disposable.create(() => this.$unregister(handle)));\n    }\n\n    $unregister(handle: number): void {\n        const disposable = this.services.get(handle);\n        if (disposable) {\n            this.services.delete(handle);\n            disposable.dispose();\n        }\n    }\n\n    $setLanguageConfiguration(handle: number, languageId: string, configuration: SerializedLanguageConfiguration): void {\n        const config: monaco.languages.LanguageConfiguration = {\n            comments: configuration.comments,\n            brackets: configuration.brackets,\n            wordPattern: reviveRegExp(configuration.wordPattern),\n            indentationRules: reviveIndentationRule(configuration.indentationRules),\n            onEnterRules: reviveOnEnterRules(configuration.onEnterRules),\n        };\n\n        this.register(handle, monaco.languages.setLanguageConfiguration(languageId, config));\n    }\n\n    $registerCompletionSupport(handle: number, pluginInfo: PluginInfo, selector: SerializedDocumentFilter[], triggerCharacters: string[], supportsResolveDetails: boolean): void {\n        this.register(handle, monaco.modes.CompletionProviderRegistry.register(fromLanguageSelector(selector), {\n            triggerCharacters,\n            provideCompletionItems: (model, position, context, token) => this.provideCompletionItems(handle, model, position, context, token),\n            resolveCompletionItem: supportsResolveDetails\n                ? (model, position, suggestion, token) => Promise.resolve(this.resolveCompletionItem(handle, model, position, suggestion, token))\n                : undefined\n        }));\n    }\n\n    protected provideCompletionItems(handle: number, model: monaco.editor.ITextModel, position: monaco.Position,\n        context: monaco.languages.CompletionContext, token: monaco.CancellationToken): monaco.languages.ProviderResult<monaco.languages.CompletionList> {\n        return this.proxy.$provideCompletionItems(handle, model.uri, position, context, token).then(result => {\n            if (!result) {\n                return undefined;\n            }\n            return {\n                suggestions: result.completions,\n                incomplete: result.incomplete,\n                dispose: () => this.proxy.$releaseCompletionItems(handle, result.id)\n            };\n        });\n    }\n\n    protected resolveCompletionItem(handle: number, model: monaco.editor.ITextModel, position: monaco.Position,\n        item: monaco.languages.CompletionItem, token: monaco.CancellationToken): monaco.languages.ProviderResult<monaco.languages.CompletionItem> {\n        return this.proxy.$resolveCompletionItem(handle, model.uri, position, item, token);\n    }\n\n    $registerDefinitionProvider(handle: number, pluginInfo: PluginInfo, selector: SerializedDocumentFilter[]): void {\n        const languageSelector = fromLanguageSelector(selector);\n        const definitionProvider = this.createDefinitionProvider(handle);\n        this.register(handle, monaco.languages.registerDefinitionProvider(languageSelector, definitionProvider));\n    }\n\n    $registerDeclarationProvider(handle: number, pluginInfo: PluginInfo, selector: SerializedDocumentFilter[]): void {\n        const languageSelector = fromLanguageSelector(selector);\n        const declarationProvider = this.createDeclarationProvider(handle);\n        this.register(handle, monaco.languages.registerDeclarationProvider(languageSelector, declarationProvider));\n    }\n\n    $registerReferenceProvider(handle: number, pluginInfo: PluginInfo, selector: SerializedDocumentFilter[]): void {\n        const languageSelector = fromLanguageSelector(selector);\n        const referenceProvider = this.createReferenceProvider(handle);\n        this.register(handle, monaco.languages.registerReferenceProvider(languageSelector, referenceProvider));\n    }\n\n    protected createReferenceProvider(handle: number): monaco.languages.ReferenceProvider {\n        return {\n            provideReferences: (model, position, context, token) => this.provideReferences(handle, model, position, context, token)\n        };\n    }\n\n    protected provideReferences(handle: number, model: monaco.editor.ITextModel, position: monaco.Position,\n        context: monaco.languages.ReferenceContext, token: monaco.CancellationToken): monaco.languages.ProviderResult<monaco.languages.Location[]> {\n        return this.proxy.$provideReferences(handle, model.uri, position, context, token).then(result => {\n            if (!result) {\n                return undefined;\n            }\n\n            if (Array.isArray(result)) {\n                const references: monaco.languages.Location[] = [];\n                for (const item of result) {\n                    references.push({ ...item, uri: monaco.Uri.revive(item.uri) });\n                }\n                return references;\n            }\n\n            return undefined;\n        });\n    }\n\n    $registerSignatureHelpProvider(handle: number, pluginInfo: PluginInfo, selector: SerializedDocumentFilter[], metadata: theia.SignatureHelpProviderMetadata): void {\n        const languageSelector = fromLanguageSelector(selector);\n        const signatureHelpProvider = this.createSignatureHelpProvider(handle, metadata);\n        this.register(handle, monaco.languages.registerSignatureHelpProvider(languageSelector, signatureHelpProvider));\n    }\n\n    $clearDiagnostics(id: string): void {\n        for (const uri of this.problemManager.getUris()) {\n            this.problemManager.setMarkers(new CoreURI(uri), id, []);\n        }\n    }\n\n    $changeDiagnostics(id: string, delta: [string, MarkerData[]][]): void {\n        for (const [uriString, markers] of delta) {\n            const uri = new CoreURI(uriString);\n            this.problemManager.setMarkers(uri, id, markers.map(reviveMarker));\n        }\n    }\n\n    $registerImplementationProvider(handle: number, pluginInfo: PluginInfo, selector: SerializedDocumentFilter[]): void {\n        const languageSelector = fromLanguageSelector(selector);\n        const implementationProvider = this.createImplementationProvider(handle);\n        this.register(handle, monaco.languages.registerImplementationProvider(languageSelector, implementationProvider));\n    }\n\n    protected createImplementationProvider(handle: number): monaco.languages.ImplementationProvider {\n        return {\n            provideImplementation: (model, position, token) => this.provideImplementation(handle, model, position, token)\n        };\n    }\n\n    protected provideImplementation(handle: number, model: monaco.editor.ITextModel,\n        position: monaco.Position, token: monaco.CancellationToken): monaco.languages.ProviderResult<monaco.languages.Definition> {\n        return this.proxy.$provideImplementation(handle, model.uri, position, token).then(result => {\n            if (!result) {\n                return undefined;\n            }\n\n            if (Array.isArray(result)) {\n                // using DefinitionLink because Location is mandatory part of DefinitionLink\n                const definitionLinks: monaco.languages.LocationLink[] = [];\n                for (const item of result) {\n                    definitionLinks.push({ ...item, uri: monaco.Uri.revive(item.uri) });\n                }\n                return definitionLinks;\n            } else {\n                // single Location\n                return <monaco.languages.Location>{\n                    uri: monaco.Uri.revive(result.uri),\n                    range: result.range\n                };\n            }\n        });\n    }\n\n    $registerTypeDefinitionProvider(handle: number, pluginInfo: PluginInfo, selector: SerializedDocumentFilter[]): void {\n        const languageSelector = fromLanguageSelector(selector);\n        const typeDefinitionProvider = this.createTypeDefinitionProvider(handle);\n        this.register(handle, monaco.languages.registerTypeDefinitionProvider(languageSelector, typeDefinitionProvider));\n    }\n\n    protected createTypeDefinitionProvider(handle: number): monaco.languages.TypeDefinitionProvider {\n        return {\n            provideTypeDefinition: (model, position, token) => this.provideTypeDefinition(handle, model, position, token)\n        };\n    }\n\n    protected provideTypeDefinition(handle: number, model: monaco.editor.ITextModel,\n        position: monaco.Position, token: monaco.CancellationToken): monaco.languages.ProviderResult<monaco.languages.Definition> {\n        return this.proxy.$provideTypeDefinition(handle, model.uri, position, token).then(result => {\n            if (!result) {\n                return undefined;\n            }\n\n            if (Array.isArray(result)) {\n                // using DefinitionLink because Location is mandatory part of DefinitionLink\n                const definitionLinks: monaco.languages.LocationLink[] = [];\n                for (const item of result) {\n                    definitionLinks.push({ ...item, uri: monaco.Uri.revive(item.uri) });\n                }\n                return definitionLinks;\n            } else {\n                // single Location\n                return <monaco.languages.Location>{\n                    uri: monaco.Uri.revive(result.uri),\n                    range: result.range\n                };\n            }\n        });\n    }\n\n    $registerHoverProvider(handle: number, pluginInfo: PluginInfo, selector: SerializedDocumentFilter[]): void {\n        const languageSelector = fromLanguageSelector(selector);\n        const hoverProvider = this.createHoverProvider(handle);\n        this.register(handle, monaco.languages.registerHoverProvider(languageSelector, hoverProvider));\n    }\n\n    protected createHoverProvider(handle: number): monaco.languages.HoverProvider {\n        return {\n            provideHover: (model, position, token) => this.provideHover(handle, model, position, token)\n        };\n    }\n\n    protected provideHover(handle: number, model: monaco.editor.ITextModel, position: monaco.Position,\n        token: monaco.CancellationToken): monaco.languages.ProviderResult<monaco.languages.Hover> {\n        return this.proxy.$provideHover(handle, model.uri, position, token);\n    }\n\n    $registerDocumentHighlightProvider(handle: number, pluginInfo: PluginInfo, selector: SerializedDocumentFilter[]): void {\n        const languageSelector = fromLanguageSelector(selector);\n        const documentHighlightProvider = this.createDocumentHighlightProvider(handle);\n        this.register(handle, monaco.languages.registerDocumentHighlightProvider(languageSelector, documentHighlightProvider));\n    }\n\n    protected createDocumentHighlightProvider(handle: number): monaco.languages.DocumentHighlightProvider {\n        return {\n            provideDocumentHighlights: (model, position, token) => this.provideDocumentHighlights(handle, model, position, token)\n        };\n    }\n\n    protected provideDocumentHighlights(handle: number, model: monaco.editor.ITextModel, position: monaco.Position,\n        token: monaco.CancellationToken): monaco.languages.ProviderResult<monaco.languages.DocumentHighlight[]> {\n        return this.proxy.$provideDocumentHighlights(handle, model.uri, position, token).then(result => {\n            if (!result) {\n                return undefined;\n            }\n\n            if (Array.isArray(result)) {\n                const highlights: monaco.languages.DocumentHighlight[] = [];\n                for (const item of result) {\n                    highlights.push(\n                        {\n                            ...item,\n                            kind: (item.kind ? item.kind : monaco.languages.DocumentHighlightKind.Text)\n                        });\n                }\n                return highlights;\n            }\n\n            return undefined;\n        });\n    }\n\n    $registerWorkspaceSymbolProvider(handle: number, pluginInfo: PluginInfo): void {\n        const workspaceSymbolProvider = this.createWorkspaceSymbolProvider(handle);\n        this.register(handle, this.monacoLanguages.registerWorkspaceSymbolProvider(workspaceSymbolProvider));\n    }\n\n    protected createWorkspaceSymbolProvider(handle: number): WorkspaceSymbolProvider {\n        return {\n            provideWorkspaceSymbols: (params, token) => this.provideWorkspaceSymbols(handle, params, token),\n            resolveWorkspaceSymbol: (symbol, token) => this.resolveWorkspaceSymbol(handle, symbol, token)\n        };\n    }\n\n    protected provideWorkspaceSymbols(handle: number, params: WorkspaceSymbolParams, token: monaco.CancellationToken): Thenable<vst.SymbolInformation[]> {\n        return this.proxy.$provideWorkspaceSymbols(handle, params.query, token);\n    }\n\n    protected resolveWorkspaceSymbol(handle: number, symbol: vst.SymbolInformation, token: monaco.CancellationToken): Thenable<vst.SymbolInformation> {\n        return this.proxy.$resolveWorkspaceSymbol(handle, symbol, token);\n    }\n\n    $registerDocumentLinkProvider(handle: number, pluginInfo: PluginInfo, selector: SerializedDocumentFilter[]): void {\n        const languageSelector = fromLanguageSelector(selector);\n        const linkProvider = this.createLinkProvider(handle);\n        this.register(handle, monaco.languages.registerLinkProvider(languageSelector, linkProvider));\n    }\n\n    protected createLinkProvider(handle: number): monaco.languages.LinkProvider {\n        return {\n            provideLinks: async (model, token) => this.provideLinks(handle, model, token),\n            resolveLink: async (link, token) => this.resolveLink(handle, link, token)\n        };\n    }\n\n    protected async provideLinks(handle: number, model: monaco.editor.ITextModel,\n        token: monaco.CancellationToken): Promise<monaco.languages.ProviderResult<monaco.languages.ILinksList>> {\n        const links = await this.proxy.$provideDocumentLinks(handle, model.uri, token);\n        if (!links) {\n            return undefined;\n        }\n        return {\n            links: links.map(link => this.toMonacoLink(link)),\n            dispose: () => {\n                if (links && Array.isArray(links)) {\n                    this.proxy.$releaseDocumentLinks(handle, links.map(link => ObjectIdentifier.of(link)));\n                }\n            }\n        };\n    }\n\n    protected async resolveLink(handle: number, link: monaco.languages.ILink,\n        token: monaco.CancellationToken): Promise<monaco.languages.ProviderResult<monaco.languages.ILink>> {\n        const resolved = await this.proxy.$resolveDocumentLink(handle, link, token);\n        return resolved && this.toMonacoLink(resolved);\n    }\n\n    protected toMonacoLink(link: DocumentLink): monaco.languages.ILink {\n        return {\n            ...link,\n            url: !!link.url && typeof link.url !== 'string' ? monaco.Uri.revive(link.url) : link.url\n        };\n    }\n\n    $registerCodeLensSupport(handle: number, pluginInfo: PluginInfo, selector: SerializedDocumentFilter[], eventHandle: number): void {\n        const languageSelector = fromLanguageSelector(selector);\n        const lensProvider = this.createCodeLensProvider(handle);\n\n        if (typeof eventHandle === 'number') {\n            const emitter = new Emitter<monaco.languages.CodeLensProvider>();\n            this.register(eventHandle, emitter);\n            lensProvider.onDidChange = emitter.event;\n        }\n\n        this.register(handle, monaco.languages.registerCodeLensProvider(languageSelector, lensProvider));\n    }\n\n    protected createCodeLensProvider(handle: number): monaco.languages.CodeLensProvider {\n        return {\n            provideCodeLenses: async (model, token) => this.provideCodeLenses(handle, model, token),\n            resolveCodeLens: (model, codeLens, token) => this.resolveCodeLens(handle, model, codeLens, token)\n        };\n    }\n\n    protected async provideCodeLenses(handle: number, model: monaco.editor.ITextModel,\n        token: monaco.CancellationToken): Promise<monaco.languages.ProviderResult<monaco.languages.CodeLensList>> {\n        const lenses = await this.proxy.$provideCodeLenses(handle, model.uri, token);\n        if (!lenses) {\n            return undefined;\n        }\n        return {\n            lenses,\n            dispose: () => {\n                if (lenses && Array.isArray(lenses)) {\n                    this.proxy.$releaseCodeLenses(handle, lenses.map(symbol => ObjectIdentifier.of(symbol)));\n                }\n            }\n        };\n    }\n\n    protected resolveCodeLens(handle: number, model: monaco.editor.ITextModel,\n        codeLens: monaco.languages.CodeLens, token: monaco.CancellationToken): monaco.languages.ProviderResult<monaco.languages.CodeLens> {\n        return this.proxy.$resolveCodeLens(handle, model.uri, codeLens, token);\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    $emitCodeLensEvent(eventHandle: number, event?: any): void {\n        const obj = this.services.get(eventHandle);\n        if (obj instanceof Emitter) {\n            obj.fire(event);\n        }\n    }\n\n    $registerOutlineSupport(handle: number, pluginInfo: PluginInfo, selector: SerializedDocumentFilter[]): void {\n        const languageSelector = fromLanguageSelector(selector);\n        const symbolProvider = this.createDocumentSymbolProvider(handle);\n        this.register(handle, monaco.modes.DocumentSymbolProviderRegistry.register(languageSelector, symbolProvider));\n    }\n\n    protected createDocumentSymbolProvider(handle: number): monaco.languages.DocumentSymbolProvider {\n        return {\n            provideDocumentSymbols: (model, token) => this.provideDocumentSymbols(handle, model, token)\n        };\n    }\n\n    protected provideDocumentSymbols(handle: number, model: monaco.editor.ITextModel,\n        token: monaco.CancellationToken): monaco.languages.ProviderResult<monaco.languages.DocumentSymbol[]> {\n        return this.proxy.$provideDocumentSymbols(handle, model.uri, token);\n    }\n\n    protected createDefinitionProvider(handle: number): monaco.languages.DefinitionProvider {\n        return {\n            provideDefinition: (model, position, token) => this.provideDefinition(handle, model, position, token)\n        };\n    }\n\n    protected createDeclarationProvider(handle: number): monaco.languages.DeclarationProvider {\n        return {\n            provideDeclaration: (model, position, token) => this.provideDeclaration(handle, model, position, token)\n        };\n    }\n\n    protected provideDeclaration(handle: number, model: monaco.editor.ITextModel, position: monaco.Position,\n        token: monaco.CancellationToken): monaco.languages.ProviderResult<monaco.languages.Definition> {\n        return this.proxy.$provideDeclaration(handle, model.uri, position, token).then(result => {\n            if (!result) {\n                return undefined;\n            }\n\n            if (Array.isArray(result)) {\n                // using DefinitionLink because Location is mandatory part of DefinitionLink\n                const definitionLinks: monaco.languages.LocationLink[] = [];\n                for (const item of result) {\n                    definitionLinks.push({ ...item, uri: monaco.Uri.revive(item.uri) });\n                }\n                return definitionLinks;\n            } else {\n                // single Location\n                return <monaco.languages.Location>{\n                    uri: monaco.Uri.revive(result.uri),\n                    range: result.range\n                };\n            }\n        });\n    }\n\n    protected provideDefinition(handle: number, model: monaco.editor.ITextModel,\n        position: monaco.Position, token: monaco.CancellationToken): monaco.languages.ProviderResult<monaco.languages.Definition> {\n        return this.proxy.$provideDefinition(handle, model.uri, position, token).then(result => {\n            if (!result) {\n                return undefined;\n            }\n\n            if (Array.isArray(result)) {\n                // using DefinitionLink because Location is mandatory part of DefinitionLink\n                const definitionLinks: monaco.languages.LocationLink[] = [];\n                for (const item of result) {\n                    definitionLinks.push({ ...item, uri: monaco.Uri.revive(item.uri) });\n                }\n                return definitionLinks;\n            } else {\n                // single Location\n                return <monaco.languages.Location>{\n                    uri: monaco.Uri.revive(result.uri),\n                    range: result.range\n                };\n            }\n        });\n    }\n\n    protected createSignatureHelpProvider(handle: number, metadata: theia.SignatureHelpProviderMetadata): monaco.languages.SignatureHelpProvider {\n        return {\n            signatureHelpTriggerCharacters: metadata.triggerCharacters,\n            signatureHelpRetriggerCharacters: metadata.retriggerCharacters,\n            provideSignatureHelp: async (model, position, token, context) => this.provideSignatureHelp(handle, model, position, token, context)\n        };\n    }\n\n    protected async provideSignatureHelp(handle: number, model: monaco.editor.ITextModel,\n        position: monaco.Position, token: monaco.CancellationToken,\n        context: monaco.languages.SignatureHelpContext): Promise<monaco.languages.ProviderResult<monaco.languages.SignatureHelpResult>> {\n        const value = await this.proxy.$provideSignatureHelp(handle, model.uri, position, context, token);\n        if (!value) {\n            return undefined;\n        }\n        return {\n            value,\n            dispose: () => {\n                if (typeof value.id === 'number') {\n                    this.proxy.$releaseSignatureHelp(handle, value.id);\n                }\n            }\n        };\n    }\n\n    $registerDocumentFormattingSupport(handle: number, pluginInfo: PluginInfo, selector: SerializedDocumentFilter[]): void {\n        const languageSelector = fromLanguageSelector(selector);\n        const documentFormattingEditSupport = this.createDocumentFormattingSupport(handle);\n        this.register(handle, monaco.languages.registerDocumentFormattingEditProvider(languageSelector, documentFormattingEditSupport));\n    }\n\n    createDocumentFormattingSupport(handle: number): monaco.languages.DocumentFormattingEditProvider {\n        return {\n            provideDocumentFormattingEdits: (model, options, token) => this.provideDocumentFormattingEdits(handle, model, options, token)\n        };\n    }\n\n    protected provideDocumentFormattingEdits(handle: number, model: monaco.editor.ITextModel,\n        options: monaco.languages.FormattingOptions, token: monaco.CancellationToken): monaco.languages.ProviderResult<monaco.languages.TextEdit[]> {\n        return this.proxy.$provideDocumentFormattingEdits(handle, model.uri, options, token);\n    }\n\n    $registerRangeFormattingProvider(handle: number, pluginInfo: PluginInfo, selector: SerializedDocumentFilter[]): void {\n        const languageSelector = fromLanguageSelector(selector);\n        const rangeFormattingEditProvider = this.createRangeFormattingProvider(handle);\n        this.register(handle, monaco.languages.registerDocumentRangeFormattingEditProvider(languageSelector, rangeFormattingEditProvider));\n    }\n\n    createRangeFormattingProvider(handle: number): monaco.languages.DocumentRangeFormattingEditProvider {\n        return {\n            provideDocumentRangeFormattingEdits: (model, range: Range, options, token) => this.provideDocumentRangeFormattingEdits(handle, model, range, options, token)\n        };\n    }\n\n    protected provideDocumentRangeFormattingEdits(handle: number, model: monaco.editor.ITextModel,\n        range: Range, options: monaco.languages.FormattingOptions, token: monaco.CancellationToken): monaco.languages.ProviderResult<monaco.languages.TextEdit[]> {\n        return this.proxy.$provideDocumentRangeFormattingEdits(handle, model.uri, range, options, token);\n    }\n\n    $registerOnTypeFormattingProvider(handle: number, pluginInfo: PluginInfo, selector: SerializedDocumentFilter[], autoFormatTriggerCharacters: string[]): void {\n        const languageSelector = fromLanguageSelector(selector);\n        const onTypeFormattingProvider = this.createOnTypeFormattingProvider(handle, autoFormatTriggerCharacters);\n        this.register(handle, monaco.languages.registerOnTypeFormattingEditProvider(languageSelector, onTypeFormattingProvider));\n    }\n\n    protected createOnTypeFormattingProvider(\n        handle: number,\n        autoFormatTriggerCharacters: string[]\n    ): monaco.languages.OnTypeFormattingEditProvider {\n        return {\n            autoFormatTriggerCharacters,\n            provideOnTypeFormattingEdits: (model, position, ch, options, token) => this.provideOnTypeFormattingEdits(handle, model, position, ch, options, token)\n        };\n    }\n\n    protected provideOnTypeFormattingEdits(handle: number, model: monaco.editor.ITextModel, position: monaco.Position,\n        ch: string, options: monaco.languages.FormattingOptions, token: monaco.CancellationToken): monaco.languages.ProviderResult<monaco.languages.TextEdit[]> {\n        return this.proxy.$provideOnTypeFormattingEdits(handle, model.uri, position, ch, options, token);\n    }\n\n    $registerFoldingRangeProvider(handle: number, pluginInfo: PluginInfo, selector: SerializedDocumentFilter[]): void {\n        const languageSelector = fromLanguageSelector(selector);\n        const provider = this.createFoldingRangeProvider(handle);\n        this.register(handle, monaco.languages.registerFoldingRangeProvider(languageSelector, provider));\n    }\n\n    createFoldingRangeProvider(handle: number): monaco.languages.FoldingRangeProvider {\n        return {\n            provideFoldingRanges: (model, context, token) => this.provideFoldingRanges(handle, model, context, token)\n        };\n    }\n\n    protected provideFoldingRanges(handle: number, model: monaco.editor.ITextModel,\n        context: monaco.languages.FoldingContext, token: monaco.CancellationToken): monaco.languages.ProviderResult<monaco.languages.FoldingRange[]> {\n        return this.proxy.$provideFoldingRange(handle, model.uri, context, token);\n    }\n\n    $registerDocumentColorProvider(handle: number, pluginInfo: PluginInfo, selector: SerializedDocumentFilter[]): void {\n        const languageSelector = fromLanguageSelector(selector);\n        const colorProvider = this.createColorProvider(handle);\n        this.register(handle, monaco.languages.registerColorProvider(languageSelector, colorProvider));\n    }\n\n    createColorProvider(handle: number): monaco.languages.DocumentColorProvider {\n        return {\n            provideDocumentColors: (model, token) => this.provideDocumentColors(handle, model, token),\n            provideColorPresentations: (model, colorInfo, token) => this.provideColorPresentations(handle, model, colorInfo, token)\n        };\n    }\n\n    protected provideDocumentColors(handle: number, model: monaco.editor.ITextModel,\n        token: monaco.CancellationToken): monaco.languages.ProviderResult<monaco.languages.IColorInformation[]> {\n        return this.proxy.$provideDocumentColors(handle, model.uri, token).then(documentColors =>\n            documentColors.map(documentColor => {\n                const [red, green, blue, alpha] = documentColor.color;\n                const color = {\n                    red: red,\n                    green: green,\n                    blue: blue,\n                    alpha: alpha\n                };\n\n                return {\n                    color,\n                    range: documentColor.range\n                };\n            })\n        );\n    }\n\n    protected provideColorPresentations(handle: number, model: monaco.editor.ITextModel,\n        colorInfo: monaco.languages.IColorInformation, token: monaco.CancellationToken): monaco.languages.ProviderResult<monaco.languages.IColorPresentation[]> {\n        return this.proxy.$provideColorPresentations(handle, model.uri, {\n            color: [\n                colorInfo.color.red,\n                colorInfo.color.green,\n                colorInfo.color.blue,\n                colorInfo.color.alpha\n            ],\n            range: colorInfo.range\n        }, token);\n    }\n\n    $registerQuickFixProvider(handle: number, pluginInfo: PluginInfo, selector: SerializedDocumentFilter[], providedCodeActionKinds?: string[]): void {\n        const languageSelector = fromLanguageSelector(selector);\n        const quickFixProvider = {\n            provideCodeActions: (model: monaco.editor.ITextModel, range: monaco.Range,\n                context: monaco.languages.CodeActionContext, token: monaco.CancellationToken): monaco.languages.CodeActionList | Promise<monaco.languages.CodeActionList> => {\n                const markers = monaco.services.StaticServices.markerService.get().read({ resource: model.uri }).filter(m => monaco.Range.areIntersectingOrTouching(m, range));\n                return this.provideCodeActions(handle, model, range, { markers, only: context.only }, token);\n            },\n            providedCodeActionKinds\n        };\n        this.register(handle, monaco.modes.CodeActionProviderRegistry.register(languageSelector, quickFixProvider));\n    }\n\n    protected async provideCodeActions(handle: number, model: monaco.editor.ITextModel,\n        rangeOrSelection: Range, context: monaco.languages.CodeActionContext,\n        token: monaco.CancellationToken): Promise<monaco.languages.CodeActionList | monaco.languages.CodeActionList> {\n        const actions = await this.proxy.$provideCodeActions(handle, model.uri, rangeOrSelection, {\n            ...context\n        }, token);\n        if (!actions) {\n            return undefined!;\n        }\n        return {\n            actions: actions.map(a => toMonacoAction(a)),\n            dispose: () => {\n                // TODO this.proxy.$releaseCodeActions(handle, cacheId);\n            }\n        };\n    }\n\n    $registerRenameProvider(handle: number, pluginInfo: PluginInfo, selector: SerializedDocumentFilter[], supportsResolveLocation: boolean): void {\n        const languageSelector = fromLanguageSelector(selector);\n        const renameProvider = this.createRenameProvider(handle, supportsResolveLocation);\n        this.register(handle, monaco.languages.registerRenameProvider(languageSelector, renameProvider));\n    }\n\n    protected createRenameProvider(handle: number, supportsResolveLocation: boolean): monaco.languages.RenameProvider {\n        return {\n            provideRenameEdits: (model, position, newName, token) => this.provideRenameEdits(handle, model, position, newName, token)\n            ,\n            resolveRenameLocation: supportsResolveLocation\n                ? (model, position, token) =>\n                    this.resolveRenameLocation(handle, model, position, token)\n                : undefined\n        };\n    }\n\n    protected provideRenameEdits(handle: number, model: monaco.editor.ITextModel,\n        position: monaco.Position, newName: string, token: monaco.CancellationToken): monaco.languages.ProviderResult<monaco.languages.WorkspaceEdit & monaco.languages.Rejection> {\n        return this.proxy.$provideRenameEdits(handle, model.uri, position, newName, token).then(toMonacoWorkspaceEdit);\n    }\n\n    $registerCallHierarchyProvider(handle: number, selector: SerializedDocumentFilter[]): void {\n        const languageSelector = fromLanguageSelector(selector);\n        const callHierarchyService = this.createCallHierarchyService(handle, languageSelector);\n        this.register(handle, this.callHierarchyServiceContributionRegistry.add(callHierarchyService));\n    }\n\n    protected createCallHierarchyService(handle: number, language: LanguageSelector): CallHierarchyService {\n        return {\n            selector: language,\n            getRootDefinition: (uri: DocumentUri, position: Position, cancellationToken: CancellationToken) =>\n                this.proxy.$provideRootDefinition(handle, toUriComponents(uri), fromPosition(position), cancellationToken)\n                    .then(def => toDefinition(def)),\n            getCallers: (definition: Definition, cancellationToken: CancellationToken) => this.proxy.$provideCallers(handle, fromDefinition(definition), cancellationToken)\n                .then(result => {\n                    if (!result) {\n                        return undefined!;\n                    }\n\n                    if (Array.isArray(result)) {\n                        const callers: Caller[] = [];\n                        for (const item of result) {\n                            callers.push(toCaller(item));\n                        }\n                        return callers;\n                    }\n\n                    return undefined!;\n                })\n        };\n    }\n\n    protected matchModel(selector: LanguageSelector | undefined, model: MonacoModelIdentifier): boolean {\n        if (Array.isArray(selector)) {\n            return selector.some(filter => this.matchModel(filter, model));\n        }\n        if (DocumentFilter.is(selector)) {\n            if (!!selector.language && selector.language !== model.languageId) {\n                return false;\n            }\n            if (!!selector.scheme && selector.scheme !== model.uri.scheme) {\n                return false;\n            }\n            if (!!selector.pattern && !testGlob(selector.pattern, model.uri.path)) {\n                return false;\n            }\n            return true;\n        }\n        return selector === model.languageId;\n    }\n\n    protected resolveRenameLocation(handle: number, model: monaco.editor.ITextModel,\n        position: monaco.Position, token: monaco.CancellationToken): monaco.languages.ProviderResult<monaco.languages.RenameLocation> {\n        return this.proxy.$resolveRenameLocation(handle, model.uri, position, token);\n    }\n\n}\n\nfunction reviveMarker(marker: MarkerData): vst.Diagnostic {\n    const monacoMarker: vst.Diagnostic = {\n        code: marker.code,\n        severity: reviveSeverity(marker.severity),\n        range: reviveRange(marker.startLineNumber, marker.startColumn, marker.endLineNumber, marker.endColumn),\n        message: marker.message,\n        source: marker.source,\n        relatedInformation: undefined\n    };\n\n    if (marker.relatedInformation) {\n        monacoMarker.relatedInformation = marker.relatedInformation.map(reviveRelated);\n    }\n\n    return monacoMarker;\n}\n\nfunction reviveSeverity(severity: MarkerSeverity): vst.DiagnosticSeverity {\n    switch (severity) {\n        case MarkerSeverity.Error: return vst.DiagnosticSeverity.Error;\n        case MarkerSeverity.Warning: return vst.DiagnosticSeverity.Warning;\n        case MarkerSeverity.Info: return vst.DiagnosticSeverity.Information;\n        case MarkerSeverity.Hint: return vst.DiagnosticSeverity.Hint;\n    }\n}\n\nfunction reviveRange(startLine: number, startColumn: number, endLine: number, endColumn: number): vst.Range {\n    // note: language server range is 0-based, marker is 1-based, so need to deduct 1 here\n    return {\n        start: {\n            line: startLine - 1,\n            character: startColumn - 1\n        },\n        end: {\n            line: endLine - 1,\n            character: endColumn - 1\n        }\n    };\n}\n\nfunction reviveRelated(related: RelatedInformation): vst.DiagnosticRelatedInformation {\n    return {\n        message: related.message,\n        location: {\n            uri: related.resource,\n            range: reviveRange(related.startLineNumber, related.startColumn, related.endLineNumber, related.endColumn)\n        }\n    };\n}\n\nfunction reviveRegExp(regExp?: SerializedRegExp): RegExp | undefined {\n    if (typeof regExp === 'undefined' || regExp === null) {\n        return undefined;\n    }\n    return new RegExp(regExp.pattern, regExp.flags);\n}\n\nfunction reviveIndentationRule(indentationRule?: SerializedIndentationRule): monaco.languages.IndentationRule | undefined {\n    if (typeof indentationRule === 'undefined' || indentationRule === null) {\n        return undefined;\n    }\n    return {\n        increaseIndentPattern: reviveRegExp(indentationRule.increaseIndentPattern)!,\n        decreaseIndentPattern: reviveRegExp(indentationRule.decreaseIndentPattern)!,\n        indentNextLinePattern: reviveRegExp(indentationRule.indentNextLinePattern),\n        unIndentedLinePattern: reviveRegExp(indentationRule.unIndentedLinePattern),\n    };\n}\n\nfunction reviveOnEnterRule(onEnterRule: SerializedOnEnterRule): monaco.languages.OnEnterRule {\n    return {\n        beforeText: reviveRegExp(onEnterRule.beforeText)!,\n        afterText: reviveRegExp(onEnterRule.afterText),\n        action: onEnterRule.action\n    };\n}\n\nfunction reviveOnEnterRules(onEnterRules?: SerializedOnEnterRule[]): monaco.languages.OnEnterRule[] | undefined {\n    if (typeof onEnterRules === 'undefined' || onEnterRules === null) {\n        return undefined;\n    }\n    return onEnterRules.map(reviveOnEnterRule);\n}\n\nfunction toMonacoAction(action: CodeAction): monaco.languages.CodeAction {\n    return {\n        ...action,\n        diagnostics: action.diagnostics ? action.diagnostics.map(m => toMonacoMarkerData(m)) : undefined,\n        edit: action.edit ? toMonacoWorkspaceEdit(action.edit) : undefined\n    };\n}\n\nfunction toMonacoMarkerData(marker: MarkerData): monaco.editor.IMarkerData {\n    return {\n        ...marker,\n        relatedInformation: marker.relatedInformation\n            ? marker.relatedInformation.map(i => toMonacoRelatedInformation(i))\n            : undefined\n    };\n}\n\nfunction toMonacoRelatedInformation(relatedInfo: RelatedInformation): monaco.editor.IRelatedInformation {\n    return {\n        ...relatedInfo,\n        resource: monaco.Uri.parse(relatedInfo.resource)\n    };\n}\n\nexport function toMonacoWorkspaceEdit(data: WorkspaceEditDto | undefined): monaco.languages.WorkspaceEdit {\n    return {\n        edits: (data && data.edits || []).map(edit => {\n            if (ResourceTextEditDto.is(edit)) {\n                return { resource: monaco.Uri.revive(edit.resource), edits: edit.edits };\n            } else {\n                return { newUri: monaco.Uri.revive(edit.newUri), oldUri: monaco.Uri.revive(edit.oldUri), options: edit.options };\n            }\n        })\n    };\n}\n"],"sourceRoot":""}