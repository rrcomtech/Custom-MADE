{"version":3,"sources":["webpack:///../node_modules/@theia/plugin-ext/src/common/disposable-util.ts","webpack:///../node_modules/@theia/plugin-ext/src/common/index.ts","webpack:///../node_modules/@theia/plugin-ext/src/common/plugin-ext-api-contribution.ts","webpack:///../node_modules/@theia/plugin-ext/src/common/plugin-protocol.ts","webpack:///../node_modules/@theia/plugin-ext/src/common/uri-components.ts","webpack:///../node_modules/@theia/plugin-ext/src/main/browser/documents-main.ts","webpack:///../node_modules/@theia/plugin-ext/src/main/browser/editor/untitled-resource.ts","webpack:///../node_modules/@theia/plugin-ext/src/main/browser/menus/menus-contribution-handler.ts","webpack:///../node_modules/@theia/plugin-ext/src/main/browser/plugin-shared-style.ts","webpack:///../node_modules/@theia/plugin-ext/src/main/browser/scm-main.ts","webpack:///../node_modules/@theia/plugin-ext/src/main/browser/view/plugin-view-widget.ts","webpack:///../node_modules/@theia/plugin-ext/src/main/browser/view/tree-view-widget.tsx","webpack:///../node_modules/@theia/plugin-ext/src/main/browser/view/view-context-key-service.ts","webpack:///../node_modules/@theia/plugin-ext/src/main/browser/webview/webview-environment.ts","webpack:///../node_modules/@theia/plugin-ext/src/main/browser/webview/webview-preferences.ts","webpack:///../node_modules/@theia/plugin-ext/src/main/browser/webview/webview-resource-cache.ts","webpack:///../node_modules/@theia/plugin-ext/src/main/browser/webview/webview-theme-data-provider.ts","webpack:///../node_modules/@theia/plugin-ext/src/main/browser/webview/webview.ts","webpack:///../node_modules/@theia/plugin-ext/src/main/common/webview-protocol.ts","webpack:///../node_modules/mime/Mime.js","webpack:///../node_modules/mime/index.js","webpack:///../node_modules/mime/types/other.js","webpack:///../node_modules/mime/types/standard.js"],"names":[],"mappings":"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","file":"37.bundle.js","sourcesContent":["/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nexport interface Disposable {\n    dispose(): void;\n}\n\nexport function dispose<T extends Disposable>(disposable: T): T | undefined;\nexport function dispose<T extends Disposable>(...disposables: T[]): T[] | undefined;\nexport function dispose<T extends Disposable>(disposables: T[]): T[] | undefined;\nexport function dispose<T extends Disposable>(first: T | T[], ...rest: T[]): T | T[] | undefined {\n    if (Array.isArray(first)) {\n        first.forEach(d => d && d.dispose());\n        return [];\n    } else if (rest.length === 0) {\n        if (first) {\n            first.dispose();\n            return first;\n        }\n        return undefined;\n    } else {\n        dispose(first);\n        dispose(rest);\n        return [];\n    }\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\n// Here we expose types from @theia/plugin, so it becomes a direct dependency\nexport * from './plugin-protocol';\nexport * from './plugin-api-rpc';\nexport * from './plugin-ext-api-contribution';\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nimport { RPCProtocol } from './rpc-protocol';\nimport { PluginManager, Plugin } from './plugin-api-rpc';\nimport { interfaces } from 'inversify';\n\nexport const ExtPluginApiProvider = 'extPluginApi';\n/**\n * Provider for extension API description\n */\nexport interface ExtPluginApiProvider {\n    /**\n     * Provide API description\n     */\n    provideApi(): ExtPluginApi;\n}\n\n/**\n * Plugin API extension description.\n * This interface describes scripts for both plugin runtimes: frontend(WebWorker) and backend(NodeJs)\n */\nexport interface ExtPluginApi {\n\n    /**\n     * Path to the script which should be loaded to provide api, module should export `provideApi` function with\n     * [ExtPluginApiBackendInitializationFn](#ExtPluginApiBackendInitializationFn) signature\n     */\n    backendInitPath?: string;\n\n    /**\n     * Initialization information for frontend part of Plugin API\n     */\n    frontendExtApi?: FrontendExtPluginApi;\n}\n\nexport interface ExtPluginApiFrontendInitializationFn {\n    (rpc: RPCProtocol, plugins: Map<string, Plugin>): void;\n}\n\nexport interface ExtPluginApiBackendInitializationFn {\n    (rpc: RPCProtocol, pluginManager: PluginManager): void;\n}\n\n/**\n * Interface contains information for frontend(WebWorker) Plugin API extension initialization\n */\nexport interface FrontendExtPluginApi {\n    /**\n     * path to js file\n     */\n    initPath: string;\n    /** global variable name */\n    initVariable: string;\n    /**\n     * init function name,\n     * function should have  [ExtPluginApiFrontendInitializationFn](#ExtPluginApiFrontendInitializationFn)\n     */\n    initFunction: string;\n}\n\nexport const MainPluginApiProvider = Symbol('mainPluginApi');\n\n/**\n * Implementation should contains main(Theia) part of new namespace in Plugin API.\n * [initialize](#initialize) will be called once per plugin runtime\n */\nexport interface MainPluginApiProvider {\n    initialize(rpc: RPCProtocol, container: interfaces.Container): void;\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nimport { JsonRpcServer } from '@theia/core/lib/common/messaging/proxy-factory';\nimport { RPCProtocol } from './rpc-protocol';\nimport { Disposable } from '@theia/core/lib/common/disposable';\nimport { LogPart, KeysToAnyValues, KeysToKeysToAnyValue } from './types';\nimport { CharacterPair, CommentRule, PluginAPIFactory, Plugin } from './plugin-api-rpc';\nimport { ExtPluginApi } from './plugin-ext-api-contribution';\nimport { IJSONSchema, IJSONSchemaSnippet } from '@theia/core/lib/common/json-schema';\nimport { RecursivePartial } from '@theia/core/lib/common/types';\nimport { PreferenceSchema, PreferenceSchemaProperties } from '@theia/core/lib/common/preferences/preference-schema';\nimport { ProblemMatcherContribution, ProblemPatternContribution, TaskDefinition } from '@theia/task/lib/common';\nimport { FileStat } from '@theia/filesystem/lib/common';\nimport { ColorDefinition } from '@theia/core/lib/browser/color-registry';\n\nexport const hostedServicePath = '/services/hostedPlugin';\n\n/**\n * Plugin engine (API) type, i.e. 'theiaPlugin', 'vscode', etc.\n */\nexport type PluginEngine = string;\n\n/**\n * This interface describes a package.json object.\n */\nexport interface PluginPackage {\n    name: string;\n    publisher: string;\n    version: string;\n    engines: {\n        [type in PluginEngine]: string;\n    };\n    theiaPlugin?: {\n        frontend?: string;\n        backend?: string;\n    };\n    main?: string;\n    displayName: string;\n    description: string;\n    contributes?: PluginPackageContribution;\n    packagePath: string;\n    activationEvents?: string[];\n    extensionDependencies?: string[];\n    extensionPack?: string[];\n    icon?: string;\n}\nexport namespace PluginPackage {\n    export function toPluginUrl(pck: PluginPackage, relativePath: string): string {\n        return `hostedPlugin/${getPluginId(pck)}/${encodeURIComponent(relativePath)}`;\n    }\n}\n\n/**\n * This interface describes a package.json contribution section object.\n */\nexport interface PluginPackageContribution {\n    configuration?: RecursivePartial<PreferenceSchema> | RecursivePartial<PreferenceSchema>[];\n    configurationDefaults?: RecursivePartial<PreferenceSchemaProperties>;\n    languages?: PluginPackageLanguageContribution[];\n    grammars?: PluginPackageGrammarsContribution[];\n    viewsContainers?: { [location: string]: PluginPackageViewContainer[] };\n    views?: { [location: string]: PluginPackageView[] };\n    commands?: PluginPackageCommand | PluginPackageCommand[];\n    menus?: { [location: string]: PluginPackageMenu[] };\n    keybindings?: PluginPackageKeybinding | PluginPackageKeybinding[];\n    debuggers?: PluginPackageDebuggersContribution[];\n    snippets: PluginPackageSnippetsContribution[];\n    themes?: PluginThemeContribution[];\n    iconThemes?: PluginIconThemeContribution[];\n    colors?: PluginColorContribution[];\n    taskDefinitions?: PluginTaskDefinitionContribution[];\n    problemMatchers?: PluginProblemMatcherContribution[];\n    problemPatterns?: PluginProblemPatternContribution[];\n}\n\nexport interface PluginPackageViewContainer {\n    id: string;\n    title: string;\n    icon: string;\n}\n\nexport interface PluginPackageView {\n    id: string;\n    name: string;\n    when?: string;\n}\n\nexport interface PluginPackageCommand {\n    command: string;\n    title: string;\n    category?: string;\n    icon?: string | { light: string; dark: string; };\n}\n\nexport interface PluginPackageMenu {\n    command: string;\n    alt?: string;\n    group?: string;\n    when?: string;\n}\n\nexport interface PluginPackageKeybinding {\n    key?: string;\n    command: string;\n    when?: string;\n    mac?: string;\n    linux?: string;\n    win?: string;\n}\n\nexport interface PluginPackageGrammarsContribution {\n    language?: string;\n    scopeName: string;\n    path: string;\n    embeddedLanguages?: ScopeMap;\n    tokenTypes?: ScopeMap;\n    injectTo?: string[];\n}\n\nexport interface ScopeMap {\n    [scopeName: string]: string;\n}\n\nexport interface PluginPackageSnippetsContribution {\n    language?: string;\n    path?: string;\n}\n\nexport interface PluginColorContribution {\n    id?: string;\n    description?: string;\n    defaults?: { light?: string, dark?: string, highContrast?: string };\n}\n\nexport type PluginUiTheme = 'vs' | 'vs-dark' | 'hc-black';\n\nexport interface PluginThemeContribution {\n    id?: string;\n    label?: string;\n    description?: string;\n    path?: string;\n    uiTheme?: PluginUiTheme;\n}\n\nexport interface PluginIconThemeContribution {\n    id?: string;\n    label?: string;\n    description?: string;\n    path?: string;\n    uiTheme?: PluginUiTheme;\n}\n\nexport interface PlatformSpecificAdapterContribution {\n    program?: string;\n    args?: string[];\n    runtime?: string;\n    runtimeArgs?: string[];\n}\n\n/**\n * This interface describes a package.json debuggers contribution section object.\n */\nexport interface PluginPackageDebuggersContribution extends PlatformSpecificAdapterContribution {\n    type: string;\n    label?: string;\n    languages?: string[];\n    enableBreakpointsFor?: { languageIds: string[] };\n    configurationAttributes: { [request: string]: IJSONSchema };\n    configurationSnippets: IJSONSchemaSnippet[];\n    variables?: ScopeMap;\n    adapterExecutableCommand?: string;\n    win?: PlatformSpecificAdapterContribution;\n    winx86?: PlatformSpecificAdapterContribution;\n    windows?: PlatformSpecificAdapterContribution;\n    osx?: PlatformSpecificAdapterContribution;\n    linux?: PlatformSpecificAdapterContribution;\n}\n\n/**\n * This interface describes a package.json languages contribution section object.\n */\nexport interface PluginPackageLanguageContribution {\n    id: string;\n    extensions?: string[];\n    filenames?: string[];\n    filenamePatterns?: string[];\n    firstLine?: string;\n    aliases?: string[];\n    mimetypes?: string[];\n    configuration?: string;\n}\n\nexport interface PluginPackageLanguageContributionConfiguration {\n    comments?: CommentRule;\n    brackets?: CharacterPair[];\n    autoClosingPairs?: (CharacterPair | AutoClosingPairConditional)[];\n    surroundingPairs?: (CharacterPair | AutoClosingPair)[];\n    wordPattern?: string;\n    indentationRules?: IndentationRules;\n    folding?: FoldingRules;\n}\n\nexport interface PluginTaskDefinitionContribution {\n    type: string;\n    required: string[];\n    properties?: {\n        [name: string]: {\n            type: string;\n            description?: string;\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            [additionalProperty: string]: any;\n        }\n    }\n}\n\nexport interface PluginProblemMatcherContribution extends ProblemMatcherContribution {\n    name: string;\n}\n\nexport interface PluginProblemPatternContribution extends ProblemPatternContribution {\n    name: string;\n}\n\nexport const PluginScanner = Symbol('PluginScanner');\n/**\n * This scanner process package.json object and returns plugin metadata objects.\n */\nexport interface PluginScanner {\n    /**\n     * The type of plugin's API (engine name)\n     */\n    apiType: PluginEngine;\n\n    /**\n     * Creates plugin's model.\n     *\n     * @param {PluginPackage} plugin\n     * @returns {PluginModel}\n     */\n    getModel(plugin: PluginPackage): PluginModel;\n\n    /**\n     * Creates plugin's lifecycle.\n     *\n     * @returns {PluginLifecycle}\n     */\n    getLifecycle(plugin: PluginPackage): PluginLifecycle;\n\n    getContribution(plugin: PluginPackage): PluginContribution | undefined;\n\n    /**\n     * A mapping between a dependency as its defined in package.json\n     * and its deployable form, e.g. `publisher.name` -> `vscode:extension/publisher.name`\n     */\n    getDependencies(plugin: PluginPackage): Map<string, string> | undefined;\n}\n\n/**\n * A plugin resolver is handling how to resolve a plugin link into a local resource.\n */\nexport const PluginDeployerResolver = Symbol('PluginDeployerResolver');\n/**\n * A resolver handle a set of resource\n */\nexport interface PluginDeployerResolver {\n\n    init?(pluginDeployerResolverInit: PluginDeployerResolverInit): void;\n\n    accept(pluginSourceId: string): boolean;\n\n    resolve(pluginResolverContext: PluginDeployerResolverContext): Promise<void>;\n\n}\n\nexport const PluginDeployerDirectoryHandler = Symbol('PluginDeployerDirectoryHandler');\nexport interface PluginDeployerDirectoryHandler {\n    accept(pluginDeployerEntry: PluginDeployerEntry): boolean;\n\n    handle(context: PluginDeployerDirectoryHandlerContext): Promise<void>;\n}\n\nexport const PluginDeployerFileHandler = Symbol('PluginDeployerFileHandler');\nexport interface PluginDeployerFileHandler {\n\n    accept(pluginDeployerEntry: PluginDeployerEntry): boolean;\n\n    handle(context: PluginDeployerFileHandlerContext): Promise<void>;\n}\n\nexport interface PluginDeployerResolverInit {\n\n}\n\nexport interface PluginDeployerResolverContext {\n\n    addPlugin(pluginId: string, path: string): void;\n\n    getPlugins(): PluginDeployerEntry[];\n\n    getOriginId(): string;\n\n}\n\nexport interface PluginDeployerStartContext {\n    readonly userEntries: string[]\n    readonly systemEntries: string[]\n}\n\nexport const PluginDeployer = Symbol('PluginDeployer');\nexport interface PluginDeployer {\n\n    start(): void;\n\n}\n\nexport const PluginDeployerParticipant = Symbol('PluginDeployerParticipant');\n/**\n * A participant can hook into the plugin deployer lifecycle.\n */\nexport interface PluginDeployerParticipant {\n    onWillStart?(context: PluginDeployerStartContext): Promise<void>;\n}\n\nexport enum PluginDeployerEntryType {\n\n    FRONTEND,\n\n    BACKEND\n}\n\n/**\n * Whether a plugin installed by a user or system.\n */\nexport enum PluginType {\n    System,\n    User\n};\n\nexport interface PluginDeployerEntry {\n\n    /**\n     * ID (before any resolution)\n     */\n    id(): string;\n\n    /**\n     * Original resolved path\n     */\n    originalPath(): string;\n\n    /**\n     * Local path on the filesystem.\n     */\n    path(): string;\n\n    /**\n     * Get a specific entry\n     */\n    getValue<T>(key: string): T;\n\n    /**\n     * Store a value\n     */\n    storeValue<T>(key: string, value: T): void;\n\n    /**\n     * Update path\n     */\n    updatePath(newPath: string): void;\n\n    getChanges(): string[];\n\n    isFile(): boolean;\n\n    isDirectory(): boolean;\n\n    /**\n     * Resolved if a resolver has handle this plugin\n     */\n    isResolved(): boolean;\n\n    resolvedBy(): string;\n\n    /**\n     * Accepted when a handler is telling this location can go live\n     */\n    isAccepted(...types: PluginDeployerEntryType[]): boolean;\n\n    accept(...types: PluginDeployerEntryType[]): void;\n\n    hasError(): boolean;\n\n    type: PluginType\n    /**\n     * A fs path to a directory where a plugin is located.\n     * Depending on a plugin format it can be different from `path`.\n     * Use `path` if you want to resolve something within a plugin, like `README.md` file.\n     * Use `rootPath` if you want to manipulate the entire plugin location, like delete or move it.\n     */\n    rootPath: string\n}\n\nexport interface PluginDeployerFileHandlerContext {\n\n    unzip(sourcePath: string, destPath: string): Promise<void>;\n\n    pluginEntry(): PluginDeployerEntry;\n\n}\n\nexport interface PluginDeployerDirectoryHandlerContext {\n\n    pluginEntry(): PluginDeployerEntry;\n\n}\n\n/**\n * This interface describes a plugin model object, which is populated from package.json.\n */\nexport interface PluginModel {\n    id: string;\n    name: string;\n    publisher: string;\n    version: string;\n    displayName: string;\n    description: string;\n    engine: {\n        type: PluginEngine;\n        version: string;\n    };\n    entryPoint: PluginEntryPoint;\n    packagePath: string;\n    iconUrl?: string;\n    readmeUrl?: string;\n    licenseUrl?: string;\n}\n\nexport interface PluginEntryPoint {\n    frontend?: string;\n    backend?: string;\n}\n\n/**\n * This interface describes some static plugin contributions.\n */\nexport interface PluginContribution {\n    activationEvents?: string[];\n    configuration?: PreferenceSchema[];\n    configurationDefaults?: PreferenceSchemaProperties;\n    languages?: LanguageContribution[];\n    grammars?: GrammarsContribution[];\n    viewsContainers?: { [location: string]: ViewContainer[] };\n    views?: { [location: string]: View[] };\n    commands?: PluginCommand[]\n    menus?: { [location: string]: Menu[] };\n    keybindings?: Keybinding[];\n    debuggers?: DebuggerContribution[];\n    snippets?: SnippetContribution[];\n    themes?: ThemeContribution[];\n    iconThemes?: IconThemeContribution[];\n    colors?: ColorDefinition[];\n    taskDefinitions?: TaskDefinition[];\n    problemMatchers?: ProblemMatcherContribution[];\n    problemPatterns?: ProblemPatternContribution[];\n}\n\nexport interface SnippetContribution {\n    uri: string\n    source: string\n    language?: string\n}\n\nexport type UiTheme = 'vs' | 'vs-dark' | 'hc-black';\n\nexport interface ThemeContribution {\n    id?: string;\n    label?: string;\n    description?: string;\n    uri: string;\n    uiTheme?: UiTheme;\n}\n\nexport interface IconThemeContribution {\n    id: string;\n    label?: string;\n    description?: string;\n    uri: string;\n    uiTheme?: UiTheme;\n}\n\nexport interface GrammarsContribution {\n    format: 'json' | 'plist';\n    language?: string;\n    scope: string;\n    grammar?: string | object;\n    grammarLocation?: string;\n    embeddedLanguages?: ScopeMap;\n    tokenTypes?: ScopeMap;\n    injectTo?: string[];\n}\n\n/**\n * The language contribution\n */\nexport interface LanguageContribution {\n    id: string;\n    extensions?: string[];\n    filenames?: string[];\n    filenamePatterns?: string[];\n    firstLine?: string;\n    aliases?: string[];\n    mimetypes?: string[];\n    configuration?: LanguageConfiguration;\n}\n\nexport interface LanguageConfiguration {\n    brackets?: CharacterPair[];\n    indentationRules?: IndentationRules;\n    surroundingPairs?: AutoClosingPair[];\n    autoClosingPairs?: AutoClosingPairConditional[];\n    comments?: CommentRule;\n    folding?: FoldingRules;\n    wordPattern?: string;\n}\n\n/**\n * This interface describes a package.json debuggers contribution section object.\n */\nexport interface DebuggerContribution extends PlatformSpecificAdapterContribution {\n    type: string,\n    label?: string,\n    languages?: string[],\n    enableBreakpointsFor?: {\n        languageIds: string[]\n    },\n    configurationAttributes?: IJSONSchema[],\n    configurationSnippets?: IJSONSchemaSnippet[],\n    variables?: ScopeMap,\n    adapterExecutableCommand?: string\n    win?: PlatformSpecificAdapterContribution;\n    winx86?: PlatformSpecificAdapterContribution;\n    windows?: PlatformSpecificAdapterContribution;\n    osx?: PlatformSpecificAdapterContribution;\n    linux?: PlatformSpecificAdapterContribution;\n}\n\nexport interface IndentationRules {\n    increaseIndentPattern: string;\n    decreaseIndentPattern: string;\n    unIndentedLinePattern?: string;\n    indentNextLinePattern?: string;\n}\nexport interface AutoClosingPair {\n    close: string;\n    open: string;\n}\n\nexport interface AutoClosingPairConditional extends AutoClosingPair {\n    notIn?: string[];\n}\n\nexport interface FoldingMarkers {\n    start: string;\n    end: string;\n}\n\nexport interface FoldingRules {\n    offSide?: boolean;\n    markers?: FoldingMarkers;\n}\n\n/**\n * Views Containers contribution\n */\nexport interface ViewContainer {\n    id: string;\n    title: string;\n    iconUrl: string;\n}\n\n/**\n * View contribution\n */\nexport interface View {\n    id: string;\n    name: string;\n    when?: string;\n}\n\nexport interface PluginCommand {\n    command: string;\n    title: string;\n    category?: string;\n    iconUrl?: IconUrl;\n}\n\nexport type IconUrl = string | { light: string; dark: string; };\n\n/**\n * Menu contribution\n */\nexport interface Menu {\n    command: string;\n    alt?: string;\n    group?: string;\n    when?: string;\n}\n\n/**\n * Keybinding contribution\n */\nexport interface Keybinding {\n    keybinding?: string;\n    command: string;\n    when?: string;\n    mac?: string;\n    linux?: string;\n    win?: string;\n}\n\n/**\n * This interface describes a plugin lifecycle object.\n */\nexport interface PluginLifecycle {\n    startMethod: string;\n    stopMethod: string;\n    /**\n     * Frontend module name, frontend plugin should expose this name.\n     */\n    frontendModuleName?: string;\n    /**\n     * Path to the script which should do some initialization before frontend plugin is loaded.\n     */\n    frontendInitPath?: string;\n    /**\n     * Path to the script which should do some initialization before backend plugin is loaded.\n     */\n    backendInitPath?: string;\n}\n\n/**\n * The export function of initialization module of backend plugin.\n */\nexport interface BackendInitializationFn {\n    (apiFactory: PluginAPIFactory, plugin: Plugin): void;\n}\n\nexport interface BackendLoadingFn {\n    (rpc: RPCProtocol, plugin: Plugin): void;\n}\n\nexport interface PluginContext {\n    subscriptions: Disposable[];\n}\n\nexport interface ExtensionContext {\n    subscriptions: Disposable[];\n}\n\nexport interface PluginMetadata {\n    host: string;\n    model: PluginModel;\n    lifecycle: PluginLifecycle;\n}\n\nexport const MetadataProcessor = Symbol('MetadataProcessor');\nexport interface MetadataProcessor {\n    process(pluginMetadata: PluginMetadata): void;\n}\n\nexport function getPluginId(plugin: PluginPackage | PluginModel): string {\n    return `${plugin.publisher}_${plugin.name}`.replace(/\\W/g, '_');\n}\n\nexport function buildFrontendModuleName(plugin: PluginPackage | PluginModel): string {\n    return `${plugin.publisher}_${plugin.name}`.replace(/\\W/g, '_');\n}\n\nexport const HostedPluginClient = Symbol('HostedPluginClient');\nexport interface HostedPluginClient {\n    postMessage(message: string): Promise<void>;\n\n    log(logPart: LogPart): void;\n\n    onDidDeploy(): void;\n}\n\nexport interface PluginDependencies {\n    metadata: PluginMetadata\n    mapping?: Map<string, string>\n}\n\nexport const PluginDeployerHandler = Symbol('PluginDeployerHandler');\nexport interface PluginDeployerHandler {\n    deployFrontendPlugins(frontendPlugins: PluginDeployerEntry[]): Promise<void>;\n    deployBackendPlugins(backendPlugins: PluginDeployerEntry[]): Promise<void>;\n\n    undeployPlugin(pluginId: string): Promise<boolean>;\n\n    getPluginDependencies(pluginToBeInstalled: PluginDeployerEntry): Promise<PluginDependencies | undefined>\n}\n\nexport interface GetDeployedPluginsParams {\n    pluginIds: string[]\n}\n\nexport interface DeployedPlugin {\n    /**\n     * defaults to system\n     */\n    type?: PluginType;\n    metadata: PluginMetadata;\n    contributes?: PluginContribution;\n}\n\nexport const HostedPluginServer = Symbol('HostedPluginServer');\nexport interface HostedPluginServer extends JsonRpcServer<HostedPluginClient> {\n\n    getDeployedPluginIds(): Promise<string[]>;\n\n    getDeployedPlugins(params: GetDeployedPluginsParams): Promise<DeployedPlugin[]>;\n\n    getExtPluginAPI(): Promise<ExtPluginApi[]>;\n\n    onMessage(message: string): Promise<void>;\n\n}\n\nexport interface WorkspaceStorageKind {\n    workspace?: FileStat | undefined;\n    roots: FileStat[];\n}\nexport type GlobalStorageKind = undefined;\nexport type PluginStorageKind = GlobalStorageKind | WorkspaceStorageKind;\n\n/**\n * The JSON-RPC workspace interface.\n */\nexport const pluginServerJsonRpcPath = '/services/plugin-ext';\nexport const PluginServer = Symbol('PluginServer');\nexport interface PluginServer {\n\n    /**\n     * Deploy a plugin.\n     *\n     * @param type whether a plugin is installed by a system or a user, defaults to a user\n     */\n    deploy(pluginEntry: string, type?: PluginType): Promise<void>;\n\n    undeploy(pluginId: string): Promise<void>;\n\n    setStorageValue(key: string, value: KeysToAnyValues, kind: PluginStorageKind): Promise<boolean>;\n    getStorageValue(key: string, kind: PluginStorageKind): Promise<KeysToAnyValues>;\n    getAllStorageValues(kind: PluginStorageKind): Promise<KeysToKeysToAnyValue>;\n}\n\nexport const ServerPluginRunner = Symbol('ServerPluginRunner');\nexport interface ServerPluginRunner {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    acceptMessage(jsonMessage: any): boolean;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    onMessage(jsonMessage: any): void;\n    setClient(client: HostedPluginClient): void;\n    setDefault(defaultRunner: ServerPluginRunner): void;\n    clientClosed(): void;\n\n    /**\n     * Provides additional deployed plugins.\n     */\n    getExtraDeployedPlugins(): Promise<DeployedPlugin[]>;\n\n    /**\n     * Provides additional plugin ids.\n     */\n    getExtraDeployedPluginIds(): Promise<string[]>;\n\n}\n\nexport const PluginHostEnvironmentVariable = Symbol('PluginHostEnvironmentVariable');\nexport interface PluginHostEnvironmentVariable {\n    process(env: NodeJS.ProcessEnv): void;\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport URI from '@theia/core/lib/common/uri';\n\nexport interface UriComponents {\n    scheme: string;\n    authority: string;\n    path: string;\n    query: string;\n    fragment: string;\n    external?: string;\n}\n\n// some well known URI schemas\nexport namespace Schemes {\n    export const FILE = 'file';\n    export const UNTITLED = 'untitled';\n    export const HTTP: string = 'http';\n    export const HTTPS: string = 'https';\n    export const MAILTO: string = 'mailto';\n    export const DATA: string = 'data';\n    /**\n     * A schema is used for models that exist in memory\n     * only and that have no correspondence on a server or such.\n     */\n    export const IN_MEMORY: string = 'inmemory';\n    /** A schema is used for settings files. */\n    export const VSCODE: string = 'vscode';\n    /** A schema is used for internal private files. */\n    export const INTERNAL: string = 'private';\n    export const COMMAND: string = 'command';\n}\n\nexport function theiaUritoUriComponents(uri: URI): UriComponents {\n    return {\n        scheme: uri.scheme,\n        authority: uri.authority,\n        path: uri.path.toString(),\n        query: uri.query,\n        fragment: uri.fragment\n    };\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\nimport { DocumentsMain, MAIN_RPC_CONTEXT, DocumentsExt } from '../../common/plugin-api-rpc';\nimport { UriComponents } from '../../common/uri-components';\nimport { EditorsAndDocumentsMain } from './editors-and-documents-main';\nimport { DisposableCollection, Disposable } from '@theia/core';\nimport { MonacoEditorModel } from '@theia/monaco/lib/browser/monaco-editor-model';\nimport { RPCProtocol } from '../../common/rpc-protocol';\nimport { EditorModelService } from './text-editor-model-service';\nimport { UntitledResourceResolver } from './editor/untitled-resource';\nimport { EditorManager, EditorOpenerOptions } from '@theia/editor/lib/browser';\nimport URI from '@theia/core/lib/common/uri';\nimport CodeURI from 'vscode-uri';\nimport { ApplicationShell, Saveable } from '@theia/core/lib/browser';\nimport { TextDocumentShowOptions } from '../../common/plugin-api-rpc-model';\nimport { Range } from 'vscode-languageserver-types';\nimport { OpenerService } from '@theia/core/lib/browser/opener-service';\nimport { Reference } from '@theia/core/lib/common/reference';\nimport { dispose } from '../../common/disposable-util';\nimport { FileResourceResolver } from '@theia/filesystem/lib/browser';\n\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nexport class ModelReferenceCollection {\n\n    private data = new Array<{ length: number, dispose(): void }>();\n    private length = 0;\n\n    constructor(\n        private readonly maxAge: number = 1000 * 60 * 3,\n        private readonly maxLength: number = 1024 * 1024 * 80\n    ) { }\n\n    dispose(): void {\n        this.data = dispose(this.data) || [];\n    }\n\n    add(ref: Reference<MonacoEditorModel>): void {\n        const length = ref.object.textEditorModel.getValueLength();\n        const handle = setTimeout(_dispose, this.maxAge);\n        const entry = { length, dispose: _dispose };\n        const self = this;\n        function _dispose(): void {\n            const idx = self.data.indexOf(entry);\n            if (idx >= 0) {\n                self.length -= length;\n                ref.dispose();\n                clearTimeout(handle);\n                self.data.splice(idx, 1);\n            }\n        };\n\n        this.data.push(entry);\n        this.length += length;\n        this.cleanup();\n    }\n\n    private cleanup(): void {\n        while (this.length > this.maxLength) {\n            this.data[0].dispose();\n        }\n    }\n}\n\nexport class DocumentsMainImpl implements DocumentsMain, Disposable {\n\n    private readonly proxy: DocumentsExt;\n    private readonly syncedModels = new Map<string, Disposable>();\n    private readonly modelReferenceCache = new ModelReferenceCollection();\n\n    protected saveTimeout = 1750;\n\n    private readonly toDispose = new DisposableCollection(this.modelReferenceCache);\n\n    constructor(\n        editorsAndDocuments: EditorsAndDocumentsMain,\n        private readonly modelService: EditorModelService,\n        rpc: RPCProtocol,\n        private editorManager: EditorManager,\n        private openerService: OpenerService,\n        private shell: ApplicationShell,\n        private untitledResourceResolver: UntitledResourceResolver,\n        private fileResourceResolver: FileResourceResolver\n    ) {\n        this.proxy = rpc.getProxy(MAIN_RPC_CONTEXT.DOCUMENTS_EXT);\n\n        this.toDispose.push(editorsAndDocuments);\n        this.toDispose.push(editorsAndDocuments.onDocumentAdd(documents => documents.forEach(this.onModelAdded, this)));\n        this.toDispose.push(editorsAndDocuments.onDocumentRemove(documents => documents.forEach(this.onModelRemoved, this)));\n        this.toDispose.push(modelService.onModelModeChanged(this.onModelChanged, this));\n\n        this.toDispose.push(modelService.onModelSaved(m => {\n            this.proxy.$acceptModelSaved(m.textEditorModel.uri);\n        }));\n        this.toDispose.push(modelService.onModelWillSave(onWillSaveModelEvent => {\n            onWillSaveModelEvent.waitUntil(new Promise<monaco.editor.IIdentifiedSingleEditOperation[]>(async (resolve, reject) => {\n                setTimeout(() => reject(new Error(`Aborted onWillSaveTextDocument-event after ${this.saveTimeout}ms`)), this.saveTimeout);\n                const edits = await this.proxy.$acceptModelWillSave(onWillSaveModelEvent.model.textEditorModel.uri, onWillSaveModelEvent.reason, this.saveTimeout);\n                const editOperations: monaco.editor.IIdentifiedSingleEditOperation[] = [];\n                for (const edit of edits) {\n                    const { range, text } = edit;\n                    if (!range && !text) {\n                        continue;\n                    }\n                    if (range && range.startLineNumber === range.endLineNumber && range.startColumn === range.endColumn && !edit.text) {\n                        continue;\n                    }\n\n                    editOperations.push({\n                        range: range ? monaco.Range.lift(range) : onWillSaveModelEvent.model.textEditorModel.getFullModelRange(),\n                        /* eslint-disable-next-line no-null/no-null */\n                        text: text || null,\n                        forceMoveMarkers: edit.forceMoveMarkers\n                    });\n                }\n                resolve(editOperations);\n            }));\n        }));\n        this.toDispose.push(modelService.onModelDirtyChanged(m => {\n            this.proxy.$acceptDirtyStateChanged(m.textEditorModel.uri, m.dirty);\n        }));\n    }\n\n    dispose(): void {\n        this.toDispose.dispose();\n    }\n\n    private onModelChanged(event: { model: MonacoEditorModel, oldModeId: string }): void {\n        const modelUrl = event.model.textEditorModel.uri;\n        if (this.syncedModels.has(modelUrl.toString())) {\n            this.proxy.$acceptModelModeChanged(modelUrl, event.oldModeId, event.model.languageId);\n        }\n    }\n\n    private onModelAdded(model: MonacoEditorModel): void {\n        const modelUri = model.textEditorModel.uri;\n        const key = modelUri.toString();\n\n        const toDispose = new DisposableCollection(\n            model.textEditorModel.onDidChangeContent(e =>\n                this.proxy.$acceptModelChanged(modelUri, {\n                    eol: e.eol,\n                    versionId: e.versionId,\n                    changes: e.changes.map(c =>\n                        ({\n                            text: c.text,\n                            range: c.range,\n                            rangeLength: c.rangeLength,\n                            rangeOffset: c.rangeOffset\n                        }))\n                }, model.dirty)\n            ),\n            Disposable.create(() => this.syncedModels.delete(key))\n        );\n        this.syncedModels.set(key, toDispose);\n        this.toDispose.push(toDispose);\n    }\n\n    private onModelRemoved(url: monaco.Uri): void {\n        const model = this.syncedModels.get(url.toString());\n        if (model) {\n            model.dispose();\n        }\n    }\n\n    async $tryCreateDocument(options?: { language?: string; content?: string; }): Promise<UriComponents> {\n        const language = options && options.language;\n        const content = options && options.content;\n        const resource = await this.untitledResourceResolver.createUntitledResource(this.fileResourceResolver, content, language);\n        return monaco.Uri.parse(resource.uri.toString());\n    }\n\n    async $tryShowDocument(uri: UriComponents, options?: TextDocumentShowOptions): Promise<void> {\n        // Removing try-catch block here makes it not possible to handle errors.\n        // Following message is appeared in browser console\n        //   - Uncaught (in promise) Error: Cannot read property 'message' of undefined.\n        try {\n            const editorOptions = DocumentsMainImpl.toEditorOpenerOptions(this.shell, options);\n            const uriArg = new URI(CodeURI.revive(uri));\n            const opener = await this.openerService.getOpener(uriArg, editorOptions);\n            await opener.open(uriArg, editorOptions);\n        } catch (err) {\n            throw new Error(err);\n        }\n    }\n\n    async $trySaveDocument(uri: UriComponents): Promise<boolean> {\n        const widget = await this.editorManager.getByUri(new URI(CodeURI.revive(uri)));\n        if (widget) {\n            await Saveable.save(widget);\n            return true;\n        }\n\n        return false;\n    }\n\n    async $tryOpenDocument(uri: UriComponents): Promise<boolean> {\n        const ref = await this.modelService.createModelReference(new URI(CodeURI.revive(uri)));\n        if (ref.object) {\n            this.modelReferenceCache.add(ref);\n            return true;\n        } else {\n            ref.dispose();\n            return false;\n        }\n    }\n\n    async $tryCloseDocument(uri: UriComponents): Promise<boolean> {\n        const widget = await this.editorManager.getByUri(new URI(CodeURI.revive(uri)));\n        if (widget) {\n            await Saveable.save(widget);\n            widget.close();\n            return true;\n        }\n\n        return false;\n    }\n\n    static toEditorOpenerOptions(shell: ApplicationShell, options?: TextDocumentShowOptions): EditorOpenerOptions | undefined {\n        if (!options) {\n            return undefined;\n        }\n        let range: Range | undefined;\n        if (options.selection) {\n            const selection = options.selection;\n            range = {\n                start: { line: selection.startLineNumber - 1, character: selection.startColumn - 1 },\n                end: { line: selection.endLineNumber - 1, character: selection.endColumn - 1 }\n            };\n        }\n        /* fall back to side group -> split relative to the active widget */\n        let widgetOptions: ApplicationShell.WidgetOptions | undefined = { mode: 'split-right' };\n        const viewColumn = options.viewColumn;\n        if (viewColumn === undefined || viewColumn === -1) {\n            /* active group -> skip (default behaviour) */\n            widgetOptions = undefined;\n        } else if (viewColumn > 0) {\n            const tabBars = shell.mainAreaTabBars;\n            // convert to zero-based index\n            const tabBar = tabBars[viewColumn - 1];\n            if (tabBar && tabBar.currentTitle) {\n                widgetOptions = { ref: tabBar.currentTitle.owner };\n            }\n        }\n        return {\n            selection: range,\n            mode: options.preserveFocus ? 'reveal' : 'activate',\n            preview: options.preview,\n            widgetOptions\n        };\n    }\n\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { Emitter, Event } from '@theia/core/lib/common/event';\nimport { injectable, inject } from 'inversify';\nimport { TextDocumentContentChangeEvent } from 'vscode-languageserver-protocol';\nimport { Resource, ResourceResolver, ResourceVersion } from '@theia/core';\nimport URI from '@theia/core/lib/common/uri';\nimport { Schemes } from '../../../common/uri-components';\nimport { FileResource, FileResourceResolver } from '@theia/filesystem/lib/browser';\n\nlet index = 0;\n\n@injectable()\nexport class UntitledResourceResolver implements ResourceResolver {\n\n    @inject(FileResourceResolver)\n    protected readonly fileResourceResolver: FileResourceResolver;\n\n    protected readonly resources = new Map<string, UntitledResource>();\n\n    async resolve(uri: URI): Promise<UntitledResource> {\n        if (uri.scheme !== Schemes.UNTITLED) {\n            throw new Error('The given uri is not untitled file uri: ' + uri);\n        } else {\n            const untitledResource = this.resources.get(uri.toString());\n            if (!untitledResource) {\n                return this.createUntitledResource(this.fileResourceResolver, '', '', uri);\n            } else {\n                return untitledResource;\n            }\n        }\n    }\n\n    async  createUntitledResource(fileResourceResolver: FileResourceResolver, content?: string, language?: string, uri?: URI): Promise<UntitledResource> {\n        let extension;\n        if (language) {\n            for (const lang of monaco.languages.getLanguages()) {\n                if (lang.id === language) {\n                    if (lang.extensions) {\n                        extension = lang.extensions[0];\n                        break;\n                    }\n                }\n            }\n        }\n        return new UntitledResource(this.resources, uri ? uri : new URI().withScheme(Schemes.UNTITLED).withPath(`/Untitled-${index++}${extension ? extension : ''}`),\n            fileResourceResolver, content);\n    }\n}\n\nexport class UntitledResource implements Resource {\n\n    private fileResource?: FileResource;\n\n    protected readonly onDidChangeContentsEmitter = new Emitter<void>();\n    readonly onDidChangeContents: Event<void> = this.onDidChangeContentsEmitter.event;\n\n    constructor(private resources: Map<string, UntitledResource>, public uri: URI, private fileResourceResolver: FileResourceResolver, private content?: string) {\n        this.resources.set(this.uri.toString(), this);\n    }\n\n    dispose(): void {\n        this.resources.delete(this.uri.toString());\n        this.onDidChangeContentsEmitter.dispose();\n        if (this.fileResource) {\n            this.fileResource.dispose();\n        }\n    }\n\n    async readContents(options?: { encoding?: string | undefined; } | undefined): Promise<string> {\n        if (this.fileResource) {\n            return this.fileResource.readContents(options);\n        } else if (this.content) {\n            return this.content;\n        } else {\n            return '';\n        }\n    }\n\n    async saveContents(content: string, options?: { encoding?: string, overwriteEncoding?: string }): Promise<void> {\n        if (!this.fileResource) {\n            this.fileResource = await this.fileResourceResolver.resolve(new URI(this.uri.path.toString()));\n            if (this.fileResource.onDidChangeContents) {\n                this.fileResource.onDidChangeContents(() => this.fireDidChangeContents());\n            }\n        }\n        await this.fileResource.saveContents(content, options);\n    }\n\n    async saveContentChanges(changes: TextDocumentContentChangeEvent[], options?: { encoding?: string, overwriteEncoding?: string }): Promise<void> {\n        if (!this.fileResource) {\n            throw new Error('FileResource is not available for: ' + this.uri.path.toString());\n        }\n        await this.fileResource.saveContentChanges(changes, options);\n    }\n\n    async guessEncoding(): Promise<string | undefined> {\n        if (this.fileResource) {\n            return this.fileResource.guessEncoding();\n        }\n    }\n\n    protected fireDidChangeContents(): void {\n        this.onDidChangeContentsEmitter.fire(undefined);\n    }\n\n    get version(): ResourceVersion | undefined {\n        if (this.fileResource) {\n            return this.fileResource.version;\n        }\n        return undefined;\n    }\n}\n\nexport function createUntitledURI(language?: string): URI {\n    let extension;\n    if (language) {\n        for (const lang of monaco.languages.getLanguages()) {\n            if (lang.id === language) {\n                if (lang.extensions) {\n                    extension = lang.extensions[0];\n                    break;\n                }\n            }\n        }\n    }\n    return new URI().withScheme(Schemes.UNTITLED).withPath(`/Untitled-${index++}${extension ? extension : ''}`);\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\nimport CodeUri from 'vscode-uri';\nimport { injectable, inject } from 'inversify';\nimport { MenuPath, ILogger, CommandRegistry, Command, Mutable, MenuAction, SelectionService, CommandHandler, Disposable, DisposableCollection } from '@theia/core';\nimport { EDITOR_CONTEXT_MENU, EditorWidget } from '@theia/editor/lib/browser';\nimport { MenuModelRegistry } from '@theia/core/lib/common';\nimport { Emitter } from '@theia/core/lib/common/event';\nimport { TabBarToolbarRegistry, TabBarToolbarItem } from '@theia/core/lib/browser/shell/tab-bar-toolbar';\nimport { NAVIGATOR_CONTEXT_MENU } from '@theia/navigator/lib/browser/navigator-contribution';\nimport { QuickCommandService } from '@theia/core/lib/browser/quick-open/quick-command-service';\nimport { VIEW_ITEM_CONTEXT_MENU, TreeViewWidget, VIEW_ITEM_INLINE_MENU } from '../view/tree-view-widget';\nimport { PluginContribution, Menu, ScmCommandArg, TreeViewSelection } from '../../../common';\nimport { DebugStackFramesWidget } from '@theia/debug/lib/browser/view/debug-stack-frames-widget';\nimport { DebugThreadsWidget } from '@theia/debug/lib/browser/view/debug-threads-widget';\nimport { TreeWidgetSelection } from '@theia/core/lib/browser/tree/tree-widget-selection';\nimport { ScmWidget } from '@theia/scm/lib/browser/scm-widget';\nimport { ScmService } from '@theia/scm/lib/browser/scm-service';\nimport { ScmRepository } from '@theia/scm/lib/browser/scm-repository';\nimport { PluginScmProvider, PluginScmResourceGroup, PluginScmResource } from '../scm-main';\nimport { ResourceContextKey } from '@theia/core/lib/browser/resource-context-key';\nimport { PluginViewWidget } from '../view/plugin-view-widget';\nimport { ViewContextKeyService } from '../view/view-context-key-service';\nimport { WebviewWidget } from '../webview/webview';\nimport { Navigatable } from '@theia/core/lib/browser/navigatable';\nimport { ContextKeyService } from '@theia/core/lib/browser/context-key-service';\n\ntype CodeEditorWidget = EditorWidget | WebviewWidget;\nexport namespace CodeEditorWidget {\n    export function is(arg: any): arg is CodeEditorWidget {\n        return arg instanceof EditorWidget || arg instanceof WebviewWidget;\n    }\n    export function getResourceUri(editor: CodeEditorWidget): CodeUri | undefined {\n        const resourceUri = Navigatable.is(editor) && editor.getResourceUri();\n        return resourceUri ? resourceUri['codeUri'] : undefined;\n    }\n}\n\n@injectable()\nexport class MenusContributionPointHandler {\n\n    @inject(MenuModelRegistry)\n    protected readonly menuRegistry: MenuModelRegistry;\n\n    @inject(CommandRegistry)\n    protected readonly commands: CommandRegistry;\n\n    @inject(ILogger)\n    protected readonly logger: ILogger;\n\n    @inject(ScmService)\n    protected readonly scmService: ScmService;\n\n    @inject(QuickCommandService)\n    protected readonly quickCommandService: QuickCommandService;\n\n    @inject(TabBarToolbarRegistry)\n    protected readonly tabBarToolbar: TabBarToolbarRegistry;\n\n    @inject(SelectionService)\n    protected readonly selectionService: SelectionService;\n\n    @inject(ResourceContextKey)\n    protected readonly resourceContextKey: ResourceContextKey;\n\n    @inject(ViewContextKeyService)\n    protected readonly viewContextKeys: ViewContextKeyService;\n\n    @inject(ContextKeyService)\n    protected readonly contextKeyService: ContextKeyService;\n\n    handle(contributions: PluginContribution): Disposable {\n        const allMenus = contributions.menus;\n        if (!allMenus) {\n            return Disposable.NULL;\n        }\n        const toDispose = new DisposableCollection();\n        for (const location in allMenus) {\n            if (location === 'commandPalette') {\n                for (const menu of allMenus[location]) {\n                    if (menu.when) {\n                        toDispose.push(this.quickCommandService.pushCommandContext(menu.command, menu.when));\n                    }\n                }\n            } else if (location === 'editor/title') {\n                for (const action of allMenus[location]) {\n                    toDispose.push(this.registerTitleAction(location, action, {\n                        execute: widget => CodeEditorWidget.is(widget) && this.commands.executeCommand(action.command, CodeEditorWidget.getResourceUri(widget)),\n                        isEnabled: widget => CodeEditorWidget.is(widget) && this.commands.isEnabled(action.command, CodeEditorWidget.getResourceUri(widget)),\n                        isVisible: widget => CodeEditorWidget.is(widget) && this.commands.isVisible(action.command, CodeEditorWidget.getResourceUri(widget))\n                    }));\n                }\n            } else if (location === 'view/title') {\n                for (const action of allMenus[location]) {\n                    toDispose.push(this.registerTitleAction(location, { ...action, when: undefined }, {\n                        execute: widget => widget instanceof PluginViewWidget && this.commands.executeCommand(action.command),\n                        isEnabled: widget => widget instanceof PluginViewWidget &&\n                            this.viewContextKeys.with({ view: widget.options.viewId }, () =>\n                                this.commands.isEnabled(action.command) && this.viewContextKeys.match(action.when)),\n                        isVisible: widget => widget instanceof PluginViewWidget &&\n                            this.viewContextKeys.with({ view: widget.options.viewId }, () =>\n                                this.commands.isVisible(action.command) && this.viewContextKeys.match(action.when))\n                    }));\n                }\n            } else if (location === 'view/item/context') {\n                for (const menu of allMenus[location]) {\n                    const inline = menu.group && /^inline/.test(menu.group) || false;\n                    const menuPath = inline ? VIEW_ITEM_INLINE_MENU : VIEW_ITEM_CONTEXT_MENU;\n                    toDispose.push(this.registerTreeMenuAction(menuPath, menu));\n                }\n            } else if (location === 'scm/title') {\n                for (const action of allMenus[location]) {\n                    toDispose.push(this.registerScmTitleAction(location, action));\n                }\n            } else if (location === 'scm/resourceGroup/context') {\n                for (const menu of allMenus[location]) {\n                    const inline = menu.group && /^inline/.test(menu.group) || false;\n                    const menuPath = inline ? ScmWidget.RESOURCE_GROUP_INLINE_MENU : ScmWidget.RESOURCE_GROUP_CONTEXT_MENU;\n                    toDispose.push(this.registerScmMenuAction(menuPath, menu));\n                }\n            } else if (location === 'scm/resourceState/context') {\n                for (const menu of allMenus[location]) {\n                    const inline = menu.group && /^inline/.test(menu.group) || false;\n                    const menuPath = inline ? ScmWidget.RESOURCE_INLINE_MENU : ScmWidget.RESOURCE_CONTEXT_MENU;\n                    toDispose.push(this.registerScmMenuAction(menuPath, menu));\n                }\n            } else if (location === 'debug/callstack/context') {\n                for (const menu of allMenus[location]) {\n                    for (const menuPath of [DebugStackFramesWidget.CONTEXT_MENU, DebugThreadsWidget.CONTEXT_MENU]) {\n                        toDispose.push(this.registerMenuAction(menuPath, menu, command => ({\n                            execute: (...args) => this.commands.executeCommand(command, args[0]),\n                            isEnabled: (...args) => this.commands.isEnabled(command, args[0]),\n                            isVisible: (...args) => this.commands.isVisible(command, args[0])\n                        })));\n                    }\n                }\n            } else if (allMenus.hasOwnProperty(location)) {\n                const menuPaths = MenusContributionPointHandler.parseMenuPaths(location);\n                if (!menuPaths.length) {\n                    this.logger.warn(`Plugin contributes items to a menu with invalid identifier: ${location}`);\n                    continue;\n                }\n                const menus = allMenus[location];\n                menus.forEach(menu => {\n                    for (const menuPath of menuPaths) {\n                        toDispose.push(this.registerGlobalMenuAction(menuPath, menu));\n                    }\n                });\n            }\n        }\n        return toDispose;\n    }\n\n    protected static parseMenuPaths(value: string): MenuPath[] {\n        switch (value) {\n            case 'editor/context': return [EDITOR_CONTEXT_MENU];\n            case 'explorer/context': return [NAVIGATOR_CONTEXT_MENU];\n        }\n        return [];\n    }\n\n    protected registerTreeMenuAction(menuPath: MenuPath, menu: Menu): Disposable {\n        return this.registerMenuAction(menuPath, menu, command => ({\n            execute: (...args) => this.commands.executeCommand(command, ...this.toTreeArgs(...args)),\n            isEnabled: (...args) => this.commands.isEnabled(command, ...this.toTreeArgs(...args)),\n            isVisible: (...args) => this.commands.isVisible(command, ...this.toTreeArgs(...args))\n        }));\n    }\n    protected toTreeArgs(...args: any[]): any[] {\n        const treeArgs: any[] = [];\n        for (const arg of args) {\n            if (TreeViewSelection.is(arg)) {\n                treeArgs.push(arg);\n            }\n        }\n        return treeArgs;\n    }\n\n    protected registerTitleAction(location: string, action: Menu, handler: CommandHandler): Disposable {\n        const toDispose = new DisposableCollection();\n        const id = this.createSyntheticCommandId(action.command, { prefix: `__plugin.${location.replace('/', '.')}.action.` });\n        const command: Command = { id };\n        toDispose.push(this.commands.registerCommand(command, handler));\n\n        const { when } = action;\n        const whenKeys = when && this.contextKeyService.parseKeys(when);\n        let onDidChange;\n        if (whenKeys && whenKeys.size) {\n            const onDidChangeEmitter = new Emitter<void>();\n            toDispose.push(onDidChangeEmitter);\n            onDidChange = onDidChangeEmitter.event;\n            this.contextKeyService.onDidChange.maxListeners = this.contextKeyService.onDidChange.maxListeners + 1;\n            toDispose.push(this.contextKeyService.onDidChange(event => {\n                if (event.affects(whenKeys)) {\n                    onDidChangeEmitter.fire(undefined);\n                }\n            }));\n            toDispose.push(Disposable.create(() => {\n                this.contextKeyService.onDidChange.maxListeners = this.contextKeyService.onDidChange.maxListeners - 1;\n            }));\n        }\n\n        // handle group and priority\n        // if group is empty or white space is will be set to navigation\n        // ' ' => ['navigation', 0]\n        // 'navigation@1' => ['navigation', 1]\n        // '1_rest-client@2' => ['1_rest-client', 2]\n        // if priority is not a number it will be set to 0\n        // navigation@test => ['navigation', 0]\n        const [group, sort] = (action.group || 'navigation').split('@');\n        const item: Mutable<TabBarToolbarItem> = { id, command: id, group: group.trim() || 'navigation', priority: ~~sort || undefined, when, onDidChange };\n        toDispose.push(this.tabBarToolbar.registerItem(item));\n\n        toDispose.push(this.onDidRegisterCommand(action.command, pluginCommand => {\n            command.category = pluginCommand.category;\n            item.tooltip = pluginCommand.label;\n            if (group === 'navigation') {\n                command.iconClass = pluginCommand.iconClass;\n            }\n        }));\n        return toDispose;\n    }\n\n    protected registerScmTitleAction(location: string, action: Menu): Disposable {\n        const selectedRepository = () => this.toScmArgs(this.scmService.selectedRepository);\n        return this.registerTitleAction(location, action, {\n            execute: widget => widget instanceof ScmWidget && this.commands.executeCommand(action.command, selectedRepository()),\n            isEnabled: widget => widget instanceof ScmWidget && this.commands.isEnabled(action.command, selectedRepository()),\n            isVisible: widget => widget instanceof ScmWidget && this.commands.isVisible(action.command, selectedRepository())\n        });\n    }\n    protected registerScmMenuAction(menuPath: MenuPath, menu: Menu): Disposable {\n        return this.registerMenuAction(menuPath, menu, command => ({\n            execute: (...args) => this.commands.executeCommand(command, ...this.toScmArgs(...args)),\n            isEnabled: (...args) => this.commands.isEnabled(command, ...this.toScmArgs(...args)),\n            isVisible: (...args) => this.commands.isVisible(command, ...this.toScmArgs(...args))\n        }));\n    }\n    protected toScmArgs(...args: any[]): any[] {\n        const scmArgs: any[] = [];\n        for (const arg of args) {\n            const scmArg = this.toScmArg(arg);\n            if (scmArg) {\n                scmArgs.push(scmArg);\n            }\n        }\n        return scmArgs;\n    }\n    protected toScmArg(arg: any): ScmCommandArg | undefined {\n        if (arg instanceof ScmRepository && arg.provider instanceof PluginScmProvider) {\n            return {\n                sourceControlHandle: arg.provider.handle\n            };\n        }\n        if (arg instanceof PluginScmResourceGroup) {\n            return {\n                sourceControlHandle: arg.provider.handle,\n                resourceGroupHandle: arg.handle\n            };\n        }\n        if (arg instanceof PluginScmResource) {\n            return {\n                sourceControlHandle: arg.group.provider.handle,\n                resourceGroupHandle: arg.group.handle,\n                resourceStateHandle: arg.handle\n            };\n        }\n    }\n\n    protected registerGlobalMenuAction(menuPath: MenuPath, menu: Menu): Disposable {\n        const selectedResource = () => {\n            const selection = this.selectionService.selection;\n            if (TreeWidgetSelection.is(selection) && selection.source instanceof TreeViewWidget && selection[0]) {\n                return selection.source.toTreeViewSelection(selection[0]);\n            }\n            const uri = this.resourceContextKey.get();\n            return uri ? uri['codeUri'] : undefined;\n        };\n        return this.registerMenuAction(menuPath, menu, command => ({\n            execute: () => this.commands.executeCommand(command, selectedResource()),\n            isEnabled: () => this.commands.isEnabled(command, selectedResource()),\n            isVisible: () => this.commands.isVisible(command, selectedResource())\n        }));\n    }\n\n    protected registerMenuAction(menuPath: MenuPath, menu: Menu, handler: (command: string) => CommandHandler): Disposable {\n        const toDispose = new DisposableCollection();\n        const commandId = this.createSyntheticCommandId(menu.command, { prefix: '__plugin.menu.action.' });\n        const command: Command = { id: commandId };\n        toDispose.push(this.commands.registerCommand(command, handler(menu.command)));\n        toDispose.push(this.quickCommandService.pushCommandContext(commandId, 'false'));\n\n        let altId: string | undefined;\n        if (menu.alt) {\n            altId = this.createSyntheticCommandId(menu.alt, { prefix: '__plugin.menu.action.' });\n            const alt: Command = { id: altId };\n            toDispose.push(this.commands.registerCommand(alt, handler(menu.alt)));\n            toDispose.push(this.quickCommandService.pushCommandContext(altId, 'false'));\n            toDispose.push(this.onDidRegisterCommand(menu.alt, pluginCommand => {\n                alt.category = pluginCommand.category;\n                alt.label = pluginCommand.label;\n                if (inline) {\n                    alt.iconClass = pluginCommand.iconClass;\n                }\n            }));\n        }\n\n        const { when } = menu;\n        const [group = '', order = undefined] = (menu.group || '').split('@');\n        const action: MenuAction = { commandId, alt: altId, order, when };\n        const inline = /^inline/.test(group);\n        menuPath = inline ? menuPath : [...menuPath, group];\n        toDispose.push(this.menuRegistry.registerMenuAction(menuPath, action));\n\n        toDispose.push(this.onDidRegisterCommand(menu.command, pluginCommand => {\n            command.category = pluginCommand.category;\n            command.label = pluginCommand.label;\n            if (inline) {\n                command.iconClass = pluginCommand.iconClass;\n            }\n        }));\n        return toDispose;\n    }\n\n    protected createSyntheticCommandId(command: string, { prefix }: { prefix: string }): string {\n        let id = prefix + command;\n        let index = 0;\n        while (this.commands.getCommand(id)) {\n            id = prefix + command + ':' + index;\n            index++;\n        }\n        return id;\n    }\n\n    protected onDidRegisterCommand(id: string, cb: (command: Command) => void): Disposable {\n        const command = this.commands.getCommand(id);\n        if (command) {\n            cb(command);\n            return Disposable.NULL;\n        }\n        const toDispose = new DisposableCollection();\n        // Registering a menu action requires the related command to be already registered.\n        // But Theia plugin registers the commands dynamically via the Commands API.\n        // Let's wait for ~2 sec. It should be enough to finish registering all the contributed commands.\n        // FIXME: remove this workaround (timer) once the https://github.com/theia-ide/theia/issues/3344 is fixed\n        const handle = setTimeout(() => toDispose.push(this.onDidRegisterCommand(id, cb)), 2000);\n        toDispose.push(Disposable.create(() => clearTimeout(handle)));\n        return toDispose;\n    }\n\n}\n","/********************************************************************************\n * Copyright (C) 2019 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { injectable } from 'inversify';\nimport { Disposable, DisposableCollection } from '@theia/core/lib/common/disposable';\nimport { ThemeService, Theme } from '@theia/core/lib/browser/theming';\nimport { IconUrl } from '../../common/plugin-protocol';\nimport { Reference, SyncReferenceCollection } from '@theia/core/lib/common/reference';\n\nexport interface PluginIconKey {\n    url: IconUrl\n    size: number\n}\n\nexport interface PluginIcon extends Disposable {\n    readonly iconClass: string\n}\n\n@injectable()\nexport class PluginSharedStyle {\n\n    protected style: HTMLStyleElement;\n    protected readonly rules: {\n        selector: string;\n        body: (theme: Theme) => string\n    }[] = [];\n\n    constructor() {\n        this.update();\n        ThemeService.get().onThemeChange(() => this.update());\n    }\n\n    protected readonly toUpdate = new DisposableCollection();\n    protected update(): void {\n        this.toUpdate.dispose();\n\n        const style = this.style = document.createElement('style');\n        style.type = 'text/css';\n        style.media = 'screen';\n        document.getElementsByTagName('head')[0].appendChild(style);\n        this.toUpdate.push(Disposable.create(() =>\n            document.getElementsByTagName('head')[0].removeChild(style)\n        ));\n\n        for (const rule of this.rules) {\n            this.doInsertRule(rule);\n        }\n    }\n\n    insertRule(selector: string, body: (theme: Theme) => string): Disposable {\n        const rule = { selector, body };\n        this.rules.push(rule);\n        this.doInsertRule(rule);\n        return Disposable.create(() => {\n            const index = this.rules.indexOf(rule);\n            if (index !== -1) {\n                this.rules.splice(index, 1);\n                this.deleteRule(selector);\n            }\n        });\n    }\n    protected doInsertRule({ selector, body }: {\n        selector: string;\n        body: (theme: Theme) => string\n    }): void {\n        const sheet = (<CSSStyleSheet>this.style.sheet);\n        const cssBody = body(ThemeService.get().getCurrentTheme());\n        sheet.insertRule(selector + ' {\\n' + cssBody + '\\n}', 0);\n    }\n    deleteRule(selector: string): void {\n        const sheet = (<CSSStyleSheet>this.style.sheet);\n        const rules = sheet.rules || sheet.cssRules || [];\n        for (let i = rules.length - 1; i >= 0; i--) {\n            const rule = rules[i];\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            if ((<any>rule).selectorText.indexOf(selector) !== -1) {\n                sheet.deleteRule(i);\n            }\n        }\n    }\n\n    private readonly icons = new SyncReferenceCollection<PluginIconKey, PluginIcon>(key => this.createPluginIcon(key));\n    toIconClass(url: IconUrl, { size }: { size: number } = { size: 16 }): Reference<PluginIcon> {\n        return this.icons.acquire({ url, size });\n    }\n\n    private iconSequence = 0;\n    protected createPluginIcon(key: PluginIconKey): PluginIcon {\n        const iconUrl = key.url;\n        const size = key.size;\n        const darkIconUrl = typeof iconUrl === 'object' ? iconUrl.dark : iconUrl;\n        const lightIconUrl = typeof iconUrl === 'object' ? iconUrl.light : iconUrl;\n        const iconClass = 'plugin-icon-' + this.iconSequence++;\n        const toDispose = new DisposableCollection();\n        toDispose.push(this.insertRule('.' + iconClass, theme => `\n                display: inline-block;\n                background-position: 2px;\n                width: ${size}px;\n                height: ${size}px;\n                background: no-repeat url(\"${theme.type === 'light' ? lightIconUrl : darkIconUrl}\");\n                background-size: ${size}px;\n            `));\n        return {\n            iconClass,\n            dispose: () => toDispose.dispose()\n        };\n    }\n\n}\n","/********************************************************************************\n * Copyright (C) 2019 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport {\n    MAIN_RPC_CONTEXT,\n    ScmExt,\n    SourceControlGroupFeatures,\n    ScmMain,\n    SourceControlProviderFeatures,\n    SourceControlResourceState\n} from '../../common/plugin-api-rpc';\nimport { ScmProvider, ScmResource, ScmResourceDecorations, ScmResourceGroup, ScmCommand } from '@theia/scm/lib/browser/scm-provider';\nimport { ScmRepository } from '@theia/scm/lib/browser/scm-repository';\nimport { ScmService } from '@theia/scm/lib/browser/scm-service';\nimport { RPCProtocol } from '../../common/rpc-protocol';\nimport { interfaces } from 'inversify';\nimport { Emitter, Event } from '@theia/core/lib/common/event';\nimport { CancellationToken } from '@theia/core/lib/common/cancellation';\nimport { Disposable, DisposableCollection } from '@theia/core/lib/common/disposable';\nimport URI from '@theia/core/lib/common/uri';\nimport { ColorRegistry } from '@theia/core/lib/browser/color-registry';\n\nexport class ScmMainImpl implements ScmMain, Disposable {\n    private readonly proxy: ScmExt;\n    private readonly scmService: ScmService;\n    private readonly scmRepositoryMap = new Map<number, ScmRepository>();\n    private readonly colors: ColorRegistry;\n    private lastSelectedSourceControlHandle: number | undefined;\n\n    private readonly toDispose = new DisposableCollection();\n\n    constructor(rpc: RPCProtocol, container: interfaces.Container) {\n        this.proxy = rpc.getProxy(MAIN_RPC_CONTEXT.SCM_EXT);\n        this.scmService = container.get(ScmService);\n        this.colors = container.get(ColorRegistry);\n        this.toDispose.push(this.scmService.onDidChangeSelectedRepository(repository => this.updateSelectedRepository(repository)));\n    }\n\n    dispose(): void {\n        this.toDispose.dispose();\n    }\n\n    protected updateSelectedRepository(repository: ScmRepository | undefined): void {\n        const sourceControlHandle = repository ? this.getSourceControlHandle(repository) : undefined;\n        if (sourceControlHandle !== undefined) {\n            this.proxy.$setSourceControlSelection(sourceControlHandle, true);\n        }\n        if (this.lastSelectedSourceControlHandle !== undefined && this.lastSelectedSourceControlHandle !== sourceControlHandle) {\n            this.proxy.$setSourceControlSelection(this.lastSelectedSourceControlHandle, false);\n        }\n        this.lastSelectedSourceControlHandle = sourceControlHandle;\n    }\n\n    protected getSourceControlHandle(repository: ScmRepository): number | undefined {\n        return Array.from(this.scmRepositoryMap.keys()).find(key => {\n            const scmRepository = this.scmRepositoryMap.get(key);\n            return scmRepository !== undefined && scmRepository.provider.rootUri === repository.provider.rootUri;\n        });\n    }\n\n    async $registerSourceControl(sourceControlHandle: number, id: string, label: string, rootUri: string): Promise<void> {\n        const provider = new PluginScmProvider(this.proxy, sourceControlHandle, id, label, rootUri, this.colors);\n        const repository = this.scmService.registerScmProvider(provider);\n        repository.input.onDidChange(() =>\n            this.proxy.$updateInputBox(sourceControlHandle, repository.input.value)\n        );\n        this.scmRepositoryMap.set(sourceControlHandle, repository);\n        if (this.scmService.repositories.length === 1) {\n            this.updateSelectedRepository(repository);\n        }\n        this.toDispose.push(Disposable.create(() => this.$unregisterSourceControl(sourceControlHandle)));\n    }\n\n    async $updateSourceControl(sourceControlHandle: number, features: SourceControlProviderFeatures): Promise<void> {\n        const repository = this.scmRepositoryMap.get(sourceControlHandle);\n        if (repository) {\n            const provider = repository.provider as PluginScmProvider;\n            provider.updateSourceControl(features);\n        }\n    }\n\n    async $unregisterSourceControl(sourceControlHandle: number): Promise<void> {\n        const repository = this.scmRepositoryMap.get(sourceControlHandle);\n        if (repository) {\n            repository.dispose();\n            this.scmRepositoryMap.delete(sourceControlHandle);\n        }\n    }\n\n    async $setInputBoxPlaceholder(sourceControlHandle: number, placeholder: string): Promise<void> {\n        const repository = this.scmRepositoryMap.get(sourceControlHandle);\n        if (repository) {\n            repository.input.placeholder = placeholder;\n        }\n    }\n\n    async $setInputBoxValue(sourceControlHandle: number, value: string): Promise<void> {\n        const repository = this.scmRepositoryMap.get(sourceControlHandle);\n        if (repository) {\n            repository.input.value = value;\n        }\n    }\n\n    async $registerGroup(sourceControlHandle: number, groupHandle: number, id: string, label: string): Promise<void> {\n        const repository = this.scmRepositoryMap.get(sourceControlHandle);\n        if (repository) {\n            const provider = repository.provider as PluginScmProvider;\n            provider.registerGroup(groupHandle, id, label);\n        }\n    }\n\n    async $unregisterGroup(sourceControlHandle: number, groupHandle: number): Promise<void> {\n        const repository = this.scmRepositoryMap.get(sourceControlHandle);\n        if (repository) {\n            const provider = repository.provider as PluginScmProvider;\n            provider.unregisterGroup(groupHandle);\n        }\n    }\n\n    async $updateGroup(sourceControlHandle: number, groupHandle: number, features: SourceControlGroupFeatures): Promise<void> {\n        const repository = this.scmRepositoryMap.get(sourceControlHandle);\n        if (repository) {\n            const provider = repository.provider as PluginScmProvider;\n            provider.updateGroup(groupHandle, features);\n        }\n    }\n\n    async $updateGroupLabel(sourceControlHandle: number, groupHandle: number, label: string): Promise<void> {\n        const repository = this.scmRepositoryMap.get(sourceControlHandle);\n        if (repository) {\n            const provider = repository.provider as PluginScmProvider;\n            provider.updateGroupLabel(groupHandle, label);\n        }\n    }\n\n    async $updateResourceState(sourceControlHandle: number, groupHandle: number, resources: SourceControlResourceState[]): Promise<void> {\n        const repository = this.scmRepositoryMap.get(sourceControlHandle);\n        if (repository) {\n            const provider = repository.provider as PluginScmProvider;\n            provider.updateGroupResourceStates(sourceControlHandle, groupHandle, resources);\n        }\n    }\n}\nexport class PluginScmProvider implements ScmProvider {\n    private onDidChangeEmitter = new Emitter<void>();\n    private onDidChangeCommitTemplateEmitter = new Emitter<string>();\n    private onDidChangeStatusBarCommandsEmitter = new Emitter<ScmCommand[] | undefined>();\n    private features: SourceControlProviderFeatures = {};\n    private groupsMap: Map<number, PluginScmResourceGroup> = new Map();\n    private disposableCollection: DisposableCollection = new DisposableCollection();\n\n    constructor(\n        private readonly proxy: ScmExt,\n        readonly handle: number,\n        readonly id: string,\n        readonly label: string,\n        readonly rootUri: string,\n        protected readonly colors: ColorRegistry\n    ) {\n        this.disposableCollection.push(this.onDidChangeEmitter);\n        this.disposableCollection.push(this.onDidChangeCommitTemplateEmitter);\n        this.disposableCollection.push(this.onDidChangeStatusBarCommandsEmitter);\n    }\n\n    protected fireDidChange(): void {\n        this.onDidChangeEmitter.fire(undefined);\n    }\n\n    get groups(): ScmResourceGroup[] {\n        return Array.from(this.groupsMap.values());\n    }\n\n    get commitTemplate(): string | undefined {\n        return this.features.commitTemplate;\n    }\n\n    get acceptInputCommand(): ScmCommand | undefined {\n        const command = this.features.acceptInputCommand;\n        if (command) {\n            const scmCommand: ScmCommand = command;\n            scmCommand.command = command.id;\n            return command;\n        }\n    }\n\n    get statusBarCommands(): ScmCommand[] | undefined {\n        const commands = this.features.statusBarCommands;\n        if (commands) {\n            return commands.map(command => {\n                const scmCommand: ScmCommand = command;\n                scmCommand.command = command.id;\n                return scmCommand;\n            });\n        }\n    }\n\n    get count(): number | undefined {\n        return this.features.count;\n    }\n\n    get onDidChangeCommitTemplate(): Event<string> {\n        return this.onDidChangeCommitTemplateEmitter.event;\n    }\n\n    get onDidChangeStatusBarCommands(): Event<ScmCommand[] | undefined> {\n        return this.onDidChangeStatusBarCommandsEmitter.event;\n    }\n\n    get onDidChange(): Event<void> {\n        return this.onDidChangeEmitter.event;\n    }\n\n    dispose(): void {\n        this.disposableCollection.dispose();\n    }\n\n    updateSourceControl(features: SourceControlProviderFeatures): void {\n        if (features.acceptInputCommand) {\n            this.features.acceptInputCommand = features.acceptInputCommand;\n        }\n        if (features.commitTemplate) {\n            this.features.commitTemplate = features.commitTemplate;\n        }\n        if (features.count) {\n            this.features.count = features.count;\n        }\n        if (features.hasQuickDiffProvider !== undefined) {\n            this.features.hasQuickDiffProvider = features.hasQuickDiffProvider;\n        }\n        if (features.statusBarCommands) {\n            this.features.statusBarCommands = features.statusBarCommands;\n        }\n        this.fireDidChange();\n\n        if (features.commitTemplate) {\n            this.onDidChangeCommitTemplateEmitter.fire(features.commitTemplate);\n        }\n        if (features.statusBarCommands) {\n            this.onDidChangeStatusBarCommandsEmitter.fire(features.statusBarCommands);\n        }\n    }\n\n    async getOriginalResource(uri: URI): Promise<URI | undefined> {\n        if (this.features.hasQuickDiffProvider) {\n            const result = await this.proxy.$provideOriginalResource(this.handle, uri.toString(), CancellationToken.None);\n            if (result) {\n                return new URI(result.path);\n            }\n        }\n    }\n\n    registerGroup(groupHandle: number, id: string, label: string): void {\n        const group = new PluginScmResourceGroup(\n            groupHandle,\n            this,\n            { hideWhenEmpty: undefined },\n            label,\n            id\n        );\n        this.groupsMap.set(groupHandle, group);\n        this.fireDidChange();\n    }\n\n    unregisterGroup(groupHandle: number): void {\n        const group = this.groupsMap.get(groupHandle);\n        if (group) {\n            group.dispose();\n            this.groupsMap.delete(groupHandle);\n            this.fireDidChange();\n        }\n    }\n\n    updateGroup(groupHandle: number, features: SourceControlGroupFeatures): void {\n        const group = this.groupsMap.get(groupHandle);\n        if (group) {\n            group.updateGroup(features);\n            this.fireDidChange();\n        }\n    }\n\n    updateGroupLabel(groupHandle: number, label: string): void {\n        const group = this.groupsMap.get(groupHandle);\n        if (group) {\n            group.updateGroupLabel(label);\n            this.fireDidChange();\n        }\n    }\n\n    async updateGroupResourceStates(sourceControlHandle: number, groupHandle: number, resources: SourceControlResourceState[]): Promise<void> {\n        const group = this.groupsMap.get(groupHandle);\n        if (group) {\n            group.updateResources(await Promise.all(resources.map(async resource => {\n                const resourceUri = new URI(resource.resourceUri);\n                let scmDecorations;\n                const decorations = resource.decorations;\n                if (decorations) {\n                    const colorVariable = resource.colorId && this.colors.toCssVariableName(resource.colorId);\n                    scmDecorations = {\n                        tooltip: decorations.tooltip,\n                        letter: resource.letter,\n                        color: colorVariable && `var(${colorVariable})`\n                    };\n                }\n                return new PluginScmResource(\n                    this.proxy,\n                    resource.handle,\n                    group,\n                    resourceUri,\n                    group,\n                    scmDecorations);\n            })));\n            this.fireDidChange();\n        }\n    }\n\n}\n\nexport class PluginScmResourceGroup implements ScmResourceGroup {\n\n    private _resources: PluginScmResource[] = [];\n\n    constructor(\n        readonly handle: number,\n        public provider: PluginScmProvider,\n        public features: SourceControlGroupFeatures,\n        public label: string,\n        readonly id: string\n    ) {\n    }\n\n    get resources(): PluginScmResource[] {\n        return this._resources;\n    }\n\n    get hideWhenEmpty(): boolean | undefined {\n        return this.features.hideWhenEmpty;\n    }\n\n    updateGroup(features: SourceControlGroupFeatures): void {\n        this.features = features;\n    }\n\n    updateGroupLabel(label: string): void {\n        this.label = label;\n    }\n\n    updateResources(resources: PluginScmResource[]): void {\n        this._resources = resources;\n    }\n\n    dispose(): void { }\n\n}\n\nexport class PluginScmResource implements ScmResource {\n    constructor(\n        private proxy: ScmExt,\n        readonly handle: number,\n        readonly group: PluginScmResourceGroup,\n        public sourceUri: URI,\n        public resourceGroup: ScmResourceGroup,\n        public decorations?: ScmResourceDecorations\n    ) { }\n\n    open(): Promise<void> {\n        return this.proxy.$executeResourceCommand(this.group.provider.handle, this.group.handle, this.handle);\n    }\n}\n","/********************************************************************************\n * Copyright (C) 2019 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { injectable, inject, postConstruct } from 'inversify';\nimport { Panel, Widget } from '@phosphor/widgets';\nimport { MenuModelRegistry } from '@theia/core/lib/common/menu';\nimport { CommandRegistry } from '@theia/core/lib/common/command';\nimport { ViewContextKeyService } from './view-context-key-service';\nimport { StatefulWidget } from '@theia/core/lib/browser/shell/shell-layout-restorer';\nimport { Message } from '@phosphor/messaging';\nimport { TreeViewWidget } from './tree-view-widget';\n\n@injectable()\nexport class PluginViewWidgetIdentifier {\n    id: string;\n    viewId: string;\n}\n\n@injectable()\nexport class PluginViewWidget extends Panel implements StatefulWidget {\n\n    @inject(MenuModelRegistry)\n    protected readonly menus: MenuModelRegistry;\n\n    @inject(CommandRegistry)\n    protected readonly commands: CommandRegistry;\n\n    @inject(ViewContextKeyService)\n    protected readonly contextKeys: ViewContextKeyService;\n\n    @inject(PluginViewWidgetIdentifier)\n    readonly options: PluginViewWidgetIdentifier;\n\n    constructor() {\n        super();\n        this.node.tabIndex = -1;\n        this.node.style.height = '100%';\n    }\n\n    @postConstruct()\n    protected init(): void {\n        this.id = this.options.id;\n    }\n\n    protected onActivateRequest(msg: Message): void {\n        super.onActivateRequest(msg);\n        const widget = this.widgets[0];\n        if (widget) {\n            widget.activate();\n            this.updateWidgetMessage();\n        } else {\n            this.node.focus();\n        }\n    }\n\n    storeState(): PluginViewWidget.State {\n        return {\n            label: this.title.label,\n            message: this.message,\n            widgets: this.widgets\n        };\n    }\n\n    restoreState(state: PluginViewWidget.State): void {\n        this.title.label = state.label;\n        this.message = state.message;\n        for (const widget of state.widgets) {\n            this.addWidget(widget);\n        }\n    }\n\n    protected _suppressUpdateViewVisibility = false;\n    set suppressUpdateViewVisibility(suppressUpdateViewVisibility: boolean) {\n        this._suppressUpdateViewVisibility = !this.updatingViewVisibility && suppressUpdateViewVisibility;\n    }\n\n    protected updatingViewVisibility = false;\n    updateViewVisibility(cb: () => void): void {\n        if (this._suppressUpdateViewVisibility) {\n            return;\n        }\n        try {\n            this.updatingViewVisibility = true;\n            cb();\n        } finally {\n            this.updatingViewVisibility = false;\n        }\n    }\n\n    private _message: string | undefined;\n    get message(): string | undefined {\n        return this._message;\n    }\n\n    set message(message: string | undefined) {\n        this._message = message;\n        this.updateWidgetMessage();\n    }\n\n    private updateWidgetMessage(): void {\n        const widget = this.widgets[0];\n        if (widget) {\n            if (widget instanceof TreeViewWidget) {\n                widget.message = this._message;\n            }\n        }\n    }\n\n    addWidget(widget: Widget): void {\n        super.addWidget(widget);\n        this.updateWidgetMessage();\n    }\n\n    insertWidget(index: number, widget: Widget): void {\n        super.insertWidget(index, widget);\n        this.updateWidgetMessage();\n    }\n}\nexport namespace PluginViewWidget {\n    export interface State {\n        label: string\n        message?: string;\n        widgets: ReadonlyArray<Widget>\n    }\n}\n","/********************************************************************************\n * Copyright (C) 2018-2019 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport URI from 'vscode-uri';\nimport { injectable, inject, postConstruct } from 'inversify';\nimport { TreeViewsExt, TreeViewSelection } from '../../../common/plugin-api-rpc';\nimport { Command } from '../../../common/plugin-api-rpc-model';\nimport {\n    TreeWidget,\n    TreeNode,\n    NodeProps,\n    SelectableTreeNode,\n    ExpandableTreeNode,\n    CompositeTreeNode,\n    TreeImpl,\n    TREE_NODE_SEGMENT_CLASS,\n    TREE_NODE_SEGMENT_GROW_CLASS,\n    TREE_NODE_TAIL_CLASS,\n    TreeModelImpl\n} from '@theia/core/lib/browser';\nimport { TreeViewItem, TreeViewItemCollapsibleState } from '../../../common/plugin-api-rpc';\nimport { MenuPath, MenuModelRegistry, ActionMenuNode } from '@theia/core/lib/common/menu';\nimport * as React from 'react';\nimport { PluginSharedStyle } from '../plugin-shared-style';\nimport { ViewContextKeyService } from './view-context-key-service';\nimport { Widget } from '@theia/core/lib/browser/widgets/widget';\nimport { CommandRegistry } from '@theia/core/lib/common/command';\nimport { Emitter } from '@theia/core/lib/common/event';\nimport { MessageService } from '@theia/core/lib/common/message-service';\nimport { View } from '../../../common/plugin-protocol';\nimport CoreURI from '@theia/core/lib/common/uri';\n\nexport const TREE_NODE_HYPERLINK = 'theia-TreeNodeHyperlink';\nexport const VIEW_ITEM_CONTEXT_MENU: MenuPath = ['view-item-context-menu'];\nexport const VIEW_ITEM_INLINE_MENU: MenuPath = ['view-item-inline-menu'];\n\nexport interface SelectionEventHandler {\n    readonly node: SelectableTreeNode;\n    readonly contextSelection: boolean;\n}\n\nexport interface TreeViewNode extends SelectableTreeNode {\n    contextValue?: string;\n    command?: Command;\n    resourceUri?: string;\n    themeIconId?: 'folder' | 'file';\n    tooltip?: string;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    description?: string | boolean | any;\n}\nexport namespace TreeViewNode {\n    export function is(arg: TreeNode | undefined): arg is TreeViewNode {\n        return !!arg && SelectableTreeNode.is(arg) && !ExpandableTreeNode.is(arg) && !CompositeTreeNode.is(arg);\n    }\n}\n\nexport interface CompositeTreeViewNode extends TreeViewNode, ExpandableTreeNode, CompositeTreeNode {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    description?: string | boolean | any;\n}\nexport namespace CompositeTreeViewNode {\n    export function is(arg: TreeNode | undefined): arg is CompositeTreeViewNode {\n        return !!arg && SelectableTreeNode.is(arg) && ExpandableTreeNode.is(arg) && CompositeTreeNode.is(arg);\n    }\n}\n\n@injectable()\nexport class TreeViewWidgetIdentifier {\n    id: string;\n}\n\n@injectable()\nexport class PluginTree extends TreeImpl {\n\n    @inject(PluginSharedStyle)\n    protected readonly sharedStyle: PluginSharedStyle;\n\n    @inject(TreeViewWidgetIdentifier)\n    protected readonly identifier: TreeViewWidgetIdentifier;\n\n    @inject(MessageService)\n    protected readonly notification: MessageService;\n\n    private _proxy: TreeViewsExt | undefined;\n    private _viewInfo: View | undefined;\n\n    set proxy(proxy: TreeViewsExt | undefined) {\n        this._proxy = proxy;\n    }\n\n    set viewInfo(viewInfo: View) {\n        this._viewInfo = viewInfo;\n    }\n\n    protected async resolveChildren(parent: CompositeTreeNode): Promise<TreeNode[]> {\n        if (!this._proxy) {\n            return super.resolveChildren(parent);\n        }\n        const children = await this.fetchChildren(this._proxy, parent);\n        return children.map(value => this.createTreeNode(value, parent));\n    }\n\n    protected async fetchChildren(proxy: TreeViewsExt, parent: CompositeTreeNode): Promise<TreeViewItem[]> {\n        try {\n            const children = await proxy.$getChildren(this.identifier.id, parent.id);\n            return children || [];\n        } catch (e) {\n            if (e) {\n                console.error(`Failed to fetch children for '${this.identifier.id}'`, e);\n                const label = this._viewInfo ? this._viewInfo.name : this.identifier.id;\n                this.notification.error(`${label}: ${e.message}`);\n            }\n            return [];\n        }\n    }\n\n    protected createTreeNode(item: TreeViewItem, parent: CompositeTreeNode): TreeNode {\n        const icon = this.toIconClass(item);\n        const resourceUri = item.resourceUri && URI.revive(item.resourceUri).toString();\n        const themeIconId = item.themeIconId ? item.themeIconId : item.collapsibleState !== TreeViewItemCollapsibleState.None ? 'folder' : 'file';\n        const update: Partial<TreeViewNode> = {\n            name: item.label,\n            icon,\n            description: item.description,\n            themeIconId,\n            resourceUri,\n            tooltip: item.tooltip,\n            contextValue: item.contextValue\n        };\n        const node = this.getNode(item.id);\n        if (item.collapsibleState !== undefined && item.collapsibleState !== TreeViewItemCollapsibleState.None) {\n            if (CompositeTreeViewNode.is(node)) {\n                return Object.assign(node, update);\n            }\n            return Object.assign({\n                id: item.id,\n                parent,\n                visible: true,\n                selected: false,\n                expanded: TreeViewItemCollapsibleState.Expanded === item.collapsibleState,\n                children: []\n            }, update);\n        }\n        if (TreeViewNode.is(node)) {\n            return Object.assign(node, update, { command: item.command });\n        }\n        return Object.assign({\n            id: item.id,\n            parent,\n            visible: true,\n            selected: false,\n            command: item.command\n        }, update);\n    }\n\n    protected toIconClass(item: TreeViewItem): string | undefined {\n        if (item.icon) {\n            return 'fa ' + item.icon;\n        }\n        if (item.iconUrl) {\n            const reference = this.sharedStyle.toIconClass(item.iconUrl);\n            this.toDispose.push(reference);\n            return reference.object.iconClass;\n        }\n        return undefined;\n    }\n\n}\n\n@injectable()\nexport class PluginTreeModel extends TreeModelImpl {\n\n    @inject(PluginTree)\n    protected readonly tree: PluginTree;\n\n    set proxy(proxy: TreeViewsExt | undefined) {\n        this.tree.proxy = proxy;\n    }\n\n    set viewInfo(viewInfo: View) {\n        this.tree.viewInfo = viewInfo;\n    }\n\n}\n\n@injectable()\nexport class TreeViewWidget extends TreeWidget {\n\n    protected _contextSelection = false;\n\n    @inject(MenuModelRegistry)\n    protected readonly menus: MenuModelRegistry;\n\n    @inject(CommandRegistry)\n    protected readonly commands: CommandRegistry;\n\n    @inject(ViewContextKeyService)\n    protected readonly contextKeys: ViewContextKeyService;\n\n    @inject(TreeViewWidgetIdentifier)\n    readonly identifier: TreeViewWidgetIdentifier;\n\n    @inject(PluginTreeModel)\n    readonly model: PluginTreeModel;\n\n    protected readonly onDidChangeVisibilityEmitter = new Emitter<boolean>();\n    readonly onDidChangeVisibility = this.onDidChangeVisibilityEmitter.event;\n\n    @postConstruct()\n    protected init(): void {\n        super.init();\n        this.id = this.identifier.id;\n        this.addClass('theia-tree-view');\n        this.node.style.height = '100%';\n        this.toDispose.push(this.onDidChangeVisibilityEmitter);\n    }\n\n    protected renderIcon(node: TreeNode, props: NodeProps): React.ReactNode {\n        const icon = this.toNodeIcon(node);\n        if (icon) {\n            return <div className={icon + ' theia-tree-view-icon'}></div>;\n        }\n        return undefined;\n    }\n\n    protected renderCaption(node: TreeViewNode, props: NodeProps): React.ReactNode {\n        const classes = [TREE_NODE_SEGMENT_CLASS];\n        if (!this.hasTrailingSuffixes(node)) {\n            classes.push(TREE_NODE_SEGMENT_GROW_CLASS);\n        }\n        const className = classes.join(' ');\n        const title = node.tooltip ||\n            (node.resourceUri && this.labelProvider.getLongName(new CoreURI(node.resourceUri)))\n            || this.toNodeName(node);\n        const attrs = this.decorateCaption(node, {\n            className, id: node.id,\n            title\n        });\n\n        const children = this.getCaption(node);\n        return React.createElement('div', attrs, ...children);\n    }\n\n    protected getCaption(node: TreeNode): React.ReactNode {\n        const nodes: React.ReactNode[] = [];\n\n        const name = this.toNodeName(node) || '';\n        const description = this.toNodeDescription(node);\n\n        let work = name;\n\n        const regex = /\\[([^\\[]+)\\]\\(([^\\)]+)\\)/g;\n        const matchResult = work.match(regex);\n\n        if (matchResult) {\n            matchResult.forEach((match, index) => {\n                nodes.push(<span key={`m${index}`}>{work.substring(0, work.indexOf(match))}</span>);\n\n                const execResult = regex.exec(name);\n                nodes.push(<a key={`l${index}`}\n                    href={execResult![2]}\n                    target='_blank'\n                    className={TREE_NODE_HYPERLINK}\n                    onClick={e => e.stopPropagation()}>{execResult![1]}</a>\n                );\n\n                work = work.substring(work.indexOf(match) + match.length);\n            });\n        }\n\n        return <div className='noWrapInfo'>\n            {...nodes}\n            {work && <span>{work}</span>}\n            {description && <span className='theia-tree-view-description'>\n                {description}\n            </span>}\n        </div>;\n    }\n\n    protected renderTailDecorations(node: TreeViewNode, props: NodeProps): React.ReactNode {\n        if (this.model.selectedNodes.every(selected => selected.id !== node.id) && node.id !== this.hoverNodeId) {\n            return false;\n        }\n        return this.contextKeys.with({ view: this.id, viewItem: node.contextValue }, () => {\n            const menu = this.menus.getMenu(VIEW_ITEM_INLINE_MENU);\n            const arg = this.toTreeViewSelection(node);\n            return <React.Fragment>\n                {menu.children.map((item, index) => item instanceof ActionMenuNode && this.renderInlineCommand(item, index, arg))}\n            </React.Fragment>;\n        });\n    }\n\n    toTreeViewSelection(node: TreeNode): TreeViewSelection {\n        return { treeViewId: this.id, treeItemId: node.id };\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    protected renderInlineCommand(node: ActionMenuNode, index: number, arg: any): React.ReactNode {\n        const { icon } = node;\n        if (!icon || !this.commands.isVisible(node.action.commandId, arg) || !this.contextKeys.match(node.action.when)) {\n            return false;\n        }\n        const className = [TREE_NODE_SEGMENT_CLASS, TREE_NODE_TAIL_CLASS, icon, 'theia-tree-view-inline-action'].join(' ');\n        return <div key={index} className={className} title={node.label} onClick={e => {\n            e.stopPropagation();\n            this.commands.executeCommand(node.action.commandId, arg);\n        }} />;\n    }\n\n    protected hoverNodeId: string | undefined;\n    protected setHoverNodeId(hoverNodeId: string | undefined): void {\n        this.hoverNodeId = hoverNodeId;\n        this.update();\n    }\n\n    protected createNodeAttributes(node: TreeNode, props: NodeProps): React.Attributes & React.HTMLAttributes<HTMLElement> {\n        return {\n            ...super.createNodeAttributes(node, props),\n            onMouseOver: () => this.setHoverNodeId(node.id),\n            onMouseOut: () => this.setHoverNodeId(undefined)\n        };\n    }\n\n    protected toContextMenuArgs(node: SelectableTreeNode): [TreeViewSelection] {\n        return [this.toTreeViewSelection(node)];\n    }\n\n    setFlag(flag: Widget.Flag): void {\n        super.setFlag(flag);\n        if (flag === Widget.Flag.IsVisible) {\n            this.onDidChangeVisibilityEmitter.fire(this.isVisible);\n        }\n    }\n\n    clearFlag(flag: Widget.Flag): void {\n        super.clearFlag(flag);\n        if (flag === Widget.Flag.IsVisible) {\n            this.onDidChangeVisibilityEmitter.fire(this.isVisible);\n        }\n    }\n\n    handleEnter(event: KeyboardEvent): void {\n        super.handleEnter(event);\n        this.tryExecuteCommand();\n    }\n\n    handleClickEvent(node: TreeNode, event: React.MouseEvent<HTMLElement>): void {\n        super.handleClickEvent(node, event);\n        this.tryExecuteCommand(node);\n    }\n\n    // execute TreeItem.command if present\n    protected tryExecuteCommand(node?: TreeNode): void {\n        const treeNodes = (node ? [node] : this.model.selectedNodes) as TreeViewNode[];\n        for (const treeNode of treeNodes) {\n            if (treeNode && treeNode.command) {\n                this.commands.executeCommand(treeNode.command.id, ...(treeNode.command.arguments || []));\n            }\n        }\n    }\n\n    private _message: string | undefined;\n    get message(): string | undefined {\n        return this._message;\n    }\n\n    set message(message: string | undefined) {\n        this._message = message;\n        this.update();\n    }\n\n    protected render(): React.ReactNode {\n        return React.createElement('div', this.createContainerAttributes(), this.renderSearchInfo(), this.renderTree(this.model));\n    }\n\n    protected renderSearchInfo(): React.ReactNode {\n        if (this._message) {\n            return <div className='theia-TreeViewInfo'>{this._message}</div>;\n        }\n        return undefined;\n    }\n}\n","/********************************************************************************\n * Copyright (C) 2019 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { injectable, postConstruct, inject } from 'inversify';\nimport { ContextKey, ContextKeyService } from '@theia/core/lib/browser/context-key-service';\n\n@injectable()\nexport class ViewContextKeyService {\n\n    protected _view: ContextKey<string>;\n    get view(): ContextKey<string> {\n        return this._view;\n    }\n\n    protected _viewItem: ContextKey<string>;\n    get viewItem(): ContextKey<string> {\n        return this._viewItem;\n    }\n\n    protected _activeViewlet: ContextKey<string>;\n    /**\n     * Viewlet is a tab in the left area in VS Code. Active means visible in this context.\n     *\n     * In VS Code there can be only one visible viewlet at any time.\n     * It is not true for Theia, since views can be layed-out again to different areas.\n     * So only last visible view will be an active viewlet.\n     */\n    get activeViewlet(): ContextKey<string> {\n        return this._activeViewlet;\n    }\n\n    protected _activePanel: ContextKey<string>;\n    /**\n     * Panel is a tab in the bottom area in VS Code. Active means visible in this context.\n     *\n     * In VS Code there can be only one visible panel at any time.\n     * It is not true for Theia, since views can be layed-out again to different areas.\n     * So only last visible view will be an active panel.\n     */\n    get activePanel(): ContextKey<string> {\n        return this._activePanel;\n    }\n\n    protected _focusedView: ContextKey<string>;\n    get focusedView(): ContextKey<string> {\n        return this._focusedView;\n    }\n\n    @inject(ContextKeyService)\n    protected readonly contextKeyService: ContextKeyService;\n\n    @postConstruct()\n    protected init(): void {\n        this._view = this.contextKeyService.createKey('view', '');\n        this._viewItem = this.contextKeyService.createKey('viewItem', '');\n        this._activeViewlet = this.contextKeyService.createKey('activeViewlet', '');\n        this._activePanel = this.contextKeyService.createKey('activePanel', '');\n        this._focusedView = this.contextKeyService.createKey('focusedView', '');\n    }\n\n    match(expression: string | undefined): boolean {\n        return !expression || this.contextKeyService.match(expression);\n    }\n\n    with<T>(input: { view?: string, viewItem?: string }, cb: () => T): T {\n        const view = this.view.get();\n        const viewItem = this.viewItem.get();\n        this.view.set(input.view);\n        this.viewItem.set(input.viewItem);\n        try {\n            return cb();\n        } finally {\n            this.view.set(view);\n            this.viewItem.set(viewItem);\n        }\n    }\n\n}\n","/********************************************************************************\n * Copyright (C) 2019 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { injectable, inject, postConstruct } from 'inversify';\nimport { Endpoint } from '@theia/core/lib/browser/endpoint';\nimport { Deferred } from '@theia/core/lib/common/promise-util';\nimport { EnvVariablesServer } from '@theia/core/lib/common/env-variables';\nimport URI from '@theia/core/lib/common/uri';\nimport { WebviewExternalEndpoint } from '../../common/webview-protocol';\n\n@injectable()\nexport class WebviewEnvironment {\n\n    @inject(EnvVariablesServer)\n    protected readonly environments: EnvVariablesServer;\n\n    protected readonly externalEndpointHost = new Deferred<string>();\n\n    @postConstruct()\n    protected async init(): Promise<void> {\n        try {\n            const variable = await this.environments.getValue(WebviewExternalEndpoint.pattern);\n            const value = variable && variable.value || WebviewExternalEndpoint.defaultPattern;\n            this.externalEndpointHost.resolve(value.replace('{{hostname}}', window.location.host || 'localhost'));\n        } catch (e) {\n            this.externalEndpointHost.reject(e);\n        }\n    }\n\n    async externalEndpointUrl(): Promise<URI> {\n        const host = await this.externalEndpointHost.promise;\n        return new Endpoint({\n            host,\n            path: '/webview'\n        }).getRestUrl();\n    }\n\n    async externalEndpoint(): Promise<string> {\n        return (await this.externalEndpointUrl()).toString(true);\n    }\n\n    async resourceRoot(): Promise<string> {\n        return (await this.externalEndpointUrl()).resolve('theia-resource/{{resource}}').toString(true);\n    }\n\n    async cspSource(): Promise<string> {\n        return (await this.externalEndpointUrl()).withPath('').withQuery('').withFragment('').toString(true).replace('{{uuid}}', '*');\n    }\n\n}\n","/********************************************************************************\n * Copyright (C) 2019 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { interfaces } from 'inversify';\nimport {\n    createPreferenceProxy,\n    PreferenceProxy,\n    PreferenceService,\n    PreferenceContribution,\n    PreferenceSchema\n} from '@theia/core/lib/browser/preferences';\n\nexport const WebviewConfigSchema: PreferenceSchema = {\n    'type': 'object',\n    'properties': {\n        'webview.trace': {\n            'type': 'string',\n            'enum': ['off', 'on', 'verbose'],\n            'description': 'Controls communication tracing with webviews.',\n            'default': 'off'\n        }\n    }\n};\n\nexport interface WebviewConfiguration {\n    'webview.trace': 'off' | 'on' | 'verbose'\n}\n\nexport const WebviewPreferences = Symbol('WebviewPreferences');\nexport type WebviewPreferences = PreferenceProxy<WebviewConfiguration>;\n\nexport function createWebviewPreferences(preferences: PreferenceService): WebviewPreferences {\n    return createPreferenceProxy(preferences, WebviewConfigSchema);\n}\n\nexport function bindWebviewPreferences(bind: interfaces.Bind): void {\n    bind(WebviewPreferences).toDynamicValue(ctx => {\n        const preferences = ctx.container.get<PreferenceService>(PreferenceService);\n        return createWebviewPreferences(preferences);\n    });\n\n    bind(PreferenceContribution).toConstantValue({ schema: WebviewConfigSchema });\n}\n","/********************************************************************************\n * Copyright (C) 2019 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { injectable } from 'inversify';\nimport { Deferred } from '@theia/core/lib/common/promise-util';\nimport { MaybePromise } from '@theia/core/lib/common/types';\n\nexport interface WebviewResourceResponse {\n    eTag: string | undefined,\n    body(): MaybePromise<Uint8Array>\n}\n\n/**\n * Browser based cache of webview resources across all instances.\n */\n@injectable()\nexport class WebviewResourceCache {\n\n    protected readonly cache = new Deferred<Cache | undefined>();\n\n    constructor() {\n        this.resolveCache();\n    }\n\n    protected async resolveCache(): Promise<void> {\n        try {\n            this.cache.resolve(await caches.open('webview:v1'));\n        } catch (e) {\n            console.error('Failed to enable webview caching: ', e);\n            this.cache.resolve(undefined);\n        }\n    }\n\n    async match(url: string): Promise<WebviewResourceResponse | undefined> {\n        const cache = await this.cache.promise;\n        if (!cache) {\n            return undefined;\n        }\n        const response = await cache.match(url);\n        if (!response) {\n            return undefined;\n        }\n        return {\n            eTag: response.headers.get('ETag') || undefined,\n            body: async () => {\n                const buffer = await response.arrayBuffer();\n                return new Uint8Array(buffer);\n            }\n        };\n    }\n\n    async delete(url: string): Promise<boolean> {\n        const cache = await this.cache.promise;\n        if (!cache) {\n            return false;\n        }\n        return cache.delete(url);\n    }\n\n    async put(url: string, response: WebviewResourceResponse): Promise<void> {\n        if (!response.eTag) {\n            return;\n        }\n        const cache = await this.cache.promise;\n        if (!cache) {\n            return;\n        }\n        const body = await response.body();\n        await cache.put(url, new Response(body, {\n            status: 200,\n            headers: { 'ETag': response.eTag }\n        }));\n    }\n\n}\n","/********************************************************************************\n * Copyright (C) 2019 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n// copied and modified from https://github.com/microsoft/vscode/blob/ba40bd16433d5a817bfae15f3b4350e18f144af4/src/vs/workbench/contrib/webview/common/themeing.ts\n\nimport { inject, postConstruct, injectable } from 'inversify';\nimport { Emitter } from '@theia/core/lib/common/event';\nimport { EditorPreferences, EditorConfiguration } from '@theia/editor/lib/browser/editor-preferences';\nimport { ThemeService } from '@theia/core/lib/browser/theming';\nimport { ColorRegistry } from '@theia/core/lib/browser/color-registry';\nimport { ColorApplicationContribution } from '@theia/core/lib/browser/color-application-contribution';\n\nexport type WebviewThemeType = 'vscode-light' | 'vscode-dark' | 'vscode-high-contrast';\nexport interface WebviewThemeData {\n    readonly activeTheme: WebviewThemeType;\n    readonly styles: { readonly [key: string]: string | number; };\n}\n\n@injectable()\nexport class WebviewThemeDataProvider {\n\n    protected readonly onDidChangeThemeDataEmitter = new Emitter<void>();\n    readonly onDidChangeThemeData = this.onDidChangeThemeDataEmitter.event;\n\n    @inject(EditorPreferences)\n    protected readonly editorPreferences: EditorPreferences;\n\n    @inject(ColorRegistry)\n    protected readonly colors: ColorRegistry;\n\n    @inject(ColorApplicationContribution)\n    protected readonly colorContribution: ColorApplicationContribution;\n\n    protected themeData: WebviewThemeData | undefined;\n\n    protected readonly editorStyles = new Map<keyof EditorConfiguration, string>([\n        ['editor.fontFamily', 'editor-font-family'],\n        ['editor.fontWeight', 'editor-font-weight'],\n        ['editor.fontSize', 'editor-font-size']\n    ]);\n\n    @postConstruct()\n    protected init(): void {\n        this.colorContribution.onDidChange(() => this.reset());\n\n        this.editorPreferences.onPreferenceChanged(e => {\n            if (this.editorStyles.has(e.preferenceName)) {\n                this.reset();\n            }\n        });\n    }\n\n    protected reset(): void {\n        if (this.themeData) {\n            this.themeData = undefined;\n            this.onDidChangeThemeDataEmitter.fire(undefined);\n        }\n    }\n\n    getThemeData(): WebviewThemeData {\n        if (!this.themeData) {\n            this.themeData = this.computeThemeData();\n        }\n        return this.themeData;\n    }\n\n    protected computeThemeData(): WebviewThemeData {\n        const styles: { [key: string]: string | number; } = {};\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const addStyle = (id: string, rawValue: any) => {\n            if (rawValue) {\n                const value = typeof rawValue === 'number' || typeof rawValue === 'string' ? rawValue : String(rawValue);\n                styles[this.colors.toCssVariableName(id).substr(2)] = value;\n                styles[this.colors.toCssVariableName(id, 'vscode').substr(2)] = value;\n            }\n        };\n\n        addStyle('font-family', '-apple-system, BlinkMacSystemFont, \"Segoe WPC\", \"Segoe UI\", \"Ubuntu\", \"Droid Sans\", sans-serif');\n        addStyle('font-weight', 'normal');\n        addStyle('font-size', '13px');\n        this.editorStyles.forEach((value, key) => addStyle(value, this.editorPreferences[key]));\n\n        for (const id of this.colors.getColors()) {\n            const color = this.colors.getCurrentColor(id);\n            if (color) {\n                addStyle(id, color.toString());\n            }\n        }\n\n        const activeTheme = this.getActiveTheme();\n        return { styles, activeTheme };\n    }\n\n    protected getActiveTheme(): WebviewThemeType {\n        const theme = ThemeService.get().getCurrentTheme();\n        switch (theme.type) {\n            case 'light': return 'vscode-light';\n            case 'dark': return 'vscode-dark';\n            default: return 'vscode-high-contrast';\n        }\n    }\n\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n/*---------------------------------------------------------------------------------------------\n*  Copyright (c) Microsoft Corporation. All rights reserved.\n*  Licensed under the MIT License. See License.txt in the project root for license information.\n*--------------------------------------------------------------------------------------------*/\n// copied and modified from https://github.com/microsoft/vscode/blob/ba40bd16433d5a817bfae15f3b4350e18f144af4/src/vs/workbench/contrib/webview/browser/baseWebviewElement.ts\n// copied and modified from https://github.com/microsoft/vscode/blob/ba40bd16433d5a817bfae15f3b4350e18f144af4/src/vs/workbench/contrib/webview/browser/webviewElement.ts#\n\nimport * as mime from 'mime';\nimport { JSONExt } from '@phosphor/coreutils/lib/json';\nimport { injectable, inject, postConstruct } from 'inversify';\nimport { WebviewPanelOptions, WebviewPortMapping } from '@theia/plugin';\nimport { BaseWidget, Message } from '@theia/core/lib/browser/widgets/widget';\nimport { Disposable, DisposableCollection } from '@theia/core/lib/common/disposable';\nimport { ApplicationShellMouseTracker } from '@theia/core/lib/browser/shell/application-shell-mouse-tracker';\nimport { StatefulWidget } from '@theia/core/lib/browser/shell/shell-layout-restorer';\nimport { WebviewPanelViewState } from '../../../common/plugin-api-rpc';\nimport { IconUrl } from '../../../common/plugin-protocol';\nimport { Deferred } from '@theia/core/lib/common/promise-util';\nimport { WebviewEnvironment } from './webview-environment';\nimport URI from '@theia/core/lib/common/uri';\nimport { Emitter } from '@theia/core/lib/common/event';\nimport { open, OpenerService } from '@theia/core/lib/browser/opener-service';\nimport { KeybindingRegistry } from '@theia/core/lib/browser/keybinding';\nimport { Schemes } from '../../../common/uri-components';\nimport { PluginSharedStyle } from '../plugin-shared-style';\nimport { WebviewThemeDataProvider } from './webview-theme-data-provider';\nimport { ExternalUriService } from '@theia/core/lib/browser/external-uri-service';\nimport { OutputChannelManager } from '@theia/output/lib/common/output-channel';\nimport { WebviewPreferences } from './webview-preferences';\nimport { WebviewResourceLoader } from '../../common/webview-protocol';\nimport { WebviewResourceCache } from './webview-resource-cache';\nimport { Endpoint } from '@theia/core/lib/browser/endpoint';\n\n// Style from core\nconst TRANSPARENT_OVERLAY_STYLE = 'theia-transparent-overlay';\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\nexport const enum WebviewMessageChannels {\n    onmessage = 'onmessage',\n    didClickLink = 'did-click-link',\n    didFocus = 'did-focus',\n    didBlur = 'did-blur',\n    doUpdateState = 'do-update-state',\n    doReload = 'do-reload',\n    loadResource = 'load-resource',\n    loadLocalhost = 'load-localhost',\n    webviewReady = 'webview-ready',\n    didKeydown = 'did-keydown'\n}\n\nexport interface WebviewContentOptions {\n    readonly allowScripts?: boolean;\n    readonly localResourceRoots?: ReadonlyArray<string>;\n    readonly portMapping?: ReadonlyArray<WebviewPortMapping>;\n    readonly enableCommandUris?: boolean;\n}\n\n@injectable()\nexport class WebviewWidgetIdentifier {\n    id: string;\n}\n\nexport const WebviewWidgetExternalEndpoint = Symbol('WebviewWidgetExternalEndpoint');\n\n@injectable()\nexport class WebviewWidget extends BaseWidget implements StatefulWidget {\n\n    private static readonly standardSupportedLinkSchemes = new Set([\n        Schemes.HTTP,\n        Schemes.HTTPS,\n        Schemes.MAILTO,\n        Schemes.VSCODE\n    ]);\n\n    static FACTORY_ID = 'plugin-webview';\n\n    protected element: HTMLIFrameElement | undefined;\n\n    // eslint-disable-next-line max-len\n    // XXX This is a hack to be able to tack the mouse events when drag and dropping the widgets.\n    // On `mousedown` we put a transparent div over the `iframe` to avoid losing the mouse tacking.\n    protected transparentOverlay: HTMLElement;\n\n    @inject(WebviewWidgetIdentifier)\n    readonly identifier: WebviewWidgetIdentifier;\n\n    @inject(WebviewWidgetExternalEndpoint)\n    readonly externalEndpoint: string;\n\n    @inject(ApplicationShellMouseTracker)\n    protected readonly mouseTracker: ApplicationShellMouseTracker;\n\n    @inject(WebviewEnvironment)\n    protected readonly environment: WebviewEnvironment;\n\n    @inject(OpenerService)\n    protected readonly openerService: OpenerService;\n\n    @inject(KeybindingRegistry)\n    protected readonly keybindings: KeybindingRegistry;\n\n    @inject(PluginSharedStyle)\n    protected readonly sharedStyle: PluginSharedStyle;\n\n    @inject(WebviewThemeDataProvider)\n    protected readonly themeDataProvider: WebviewThemeDataProvider;\n\n    @inject(ExternalUriService)\n    protected readonly externalUriService: ExternalUriService;\n\n    @inject(OutputChannelManager)\n    protected readonly outputManager: OutputChannelManager;\n\n    @inject(WebviewPreferences)\n    protected readonly preferences: WebviewPreferences;\n\n    @inject(WebviewResourceLoader)\n    protected readonly resourceLoader: WebviewResourceLoader;\n\n    @inject(WebviewResourceCache)\n    protected readonly resourceCache: WebviewResourceCache;\n\n    viewState: WebviewPanelViewState = {\n        visible: false,\n        active: false,\n        position: 0\n    };\n\n    protected html = '';\n\n    protected _contentOptions: WebviewContentOptions = {};\n    get contentOptions(): WebviewContentOptions {\n        return this._contentOptions;\n    }\n\n    protected _state: string | undefined;\n    get state(): string | undefined {\n        return this._state;\n    }\n\n    viewType: string;\n    options: WebviewPanelOptions = {};\n\n    protected ready = new Deferred<void>();\n\n    protected readonly onMessageEmitter = new Emitter<any>();\n    readonly onMessage = this.onMessageEmitter.event;\n    protected readonly pendingMessages: any[] = [];\n\n    protected readonly toHide = new DisposableCollection();\n    protected hideTimeout: any | number | undefined;\n\n    @postConstruct()\n    protected init(): void {\n        this.node.tabIndex = 0;\n        this.id = WebviewWidget.FACTORY_ID + ':' + this.identifier.id;\n        this.title.closable = true;\n        this.addClass(WebviewWidget.Styles.WEBVIEW);\n\n        this.toDispose.push(this.onMessageEmitter);\n\n        this.transparentOverlay = document.createElement('div');\n        this.transparentOverlay.classList.add(TRANSPARENT_OVERLAY_STYLE);\n        this.transparentOverlay.style.display = 'none';\n        this.node.appendChild(this.transparentOverlay);\n\n        this.toDispose.push(this.mouseTracker.onMousedown(() => {\n            if (this.element && this.element.style.display !== 'none') {\n                this.transparentOverlay.style.display = 'block';\n            }\n        }));\n        this.toDispose.push(this.mouseTracker.onMouseup(() => {\n            if (this.element && this.element.style.display !== 'none') {\n                this.transparentOverlay.style.display = 'none';\n            }\n        }));\n    }\n\n    protected onBeforeAttach(msg: Message): void {\n        super.onBeforeAttach(msg);\n        this.doShow();\n        // iframe has to be reloaded when moved to another DOM element\n        this.toDisposeOnDetach.push(Disposable.create(() => this.forceHide()));\n    }\n\n    protected onBeforeShow(msg: Message): void {\n        super.onBeforeShow(msg);\n        this.doShow();\n    }\n\n    protected onAfterHide(msg: Message): void {\n        super.onAfterHide(msg);\n        this.doHide();\n    }\n\n    protected doHide(): void {\n        if (this.options.retainContextWhenHidden !== true) {\n            if (this.hideTimeout === undefined) {\n                // avoid removing iframe if a widget moved quickly\n                this.hideTimeout = setTimeout(() => this.forceHide(), 50);\n            }\n        }\n    }\n\n    protected forceHide(): void {\n        clearTimeout(this.hideTimeout);\n        this.hideTimeout = undefined;\n        this.toHide.dispose();\n    }\n\n    protected doShow(): void {\n        clearTimeout(this.hideTimeout);\n        this.hideTimeout = undefined;\n        if (!this.toHide.disposed) {\n            return;\n        }\n        this.toDispose.push(this.toHide);\n\n        const element = document.createElement('iframe');\n        element.className = 'webview';\n        element.sandbox.add('allow-scripts', 'allow-forms', 'allow-same-origin');\n        element.setAttribute('src', `${this.externalEndpoint}/index.html?id=${this.identifier.id}`);\n        element.style.border = 'none';\n        element.style.width = '100%';\n        element.style.height = '100%';\n        this.element = element;\n        this.node.appendChild(this.element);\n        this.toHide.push(Disposable.create(() => {\n            if (this.element) {\n                this.element.remove();\n                this.element = undefined;\n            }\n        }));\n\n        const oldReady = this.ready;\n        const ready = new Deferred<void>();\n        ready.promise.then(() => oldReady.resolve());\n        this.ready = ready;\n        this.toHide.push(Disposable.create(() => this.ready = new Deferred<void>()));\n        const subscription = this.on(WebviewMessageChannels.webviewReady, () => {\n            subscription.dispose();\n            ready.resolve();\n        });\n        this.toHide.push(subscription);\n\n        this.toHide.push(this.on(WebviewMessageChannels.onmessage, (data: any) => this.onMessageEmitter.fire(data)));\n        this.toHide.push(this.on(WebviewMessageChannels.didClickLink, (uri: string) => this.openLink(new URI(uri))));\n        this.toHide.push(this.on(WebviewMessageChannels.doUpdateState, (state: any) => {\n            this._state = state;\n        }));\n        this.toHide.push(this.on(WebviewMessageChannels.didFocus, () =>\n            // emulate the webview focus without actually changing focus\n            this.node.dispatchEvent(new FocusEvent('focus'))\n        ));\n        this.toHide.push(this.on(WebviewMessageChannels.didBlur, () => {\n            /* no-op: webview loses focus only if another element gains focus in the main window */\n        }));\n        this.toHide.push(this.on(WebviewMessageChannels.doReload, () => this.reload()));\n        this.toHide.push(this.on(WebviewMessageChannels.loadResource, (entry: any) => this.loadResource(entry.path)));\n        this.toHide.push(this.on(WebviewMessageChannels.loadLocalhost, (entry: any) =>\n            this.loadLocalhost(entry.origin)\n        ));\n        this.toHide.push(this.on(WebviewMessageChannels.didKeydown, (data: KeyboardEvent) => {\n            // Electron: workaround for https://github.com/electron/electron/issues/14258\n            // We have to detect keyboard events in the <webview> and dispatch them to our\n            // keybinding service because these events do not bubble to the parent window anymore.\n            this.dispatchKeyDown(data);\n        }));\n\n        this.style();\n        this.toHide.push(this.themeDataProvider.onDidChangeThemeData(() => this.style()));\n\n        this.doUpdateContent();\n        while (this.pendingMessages.length) {\n            this.sendMessage(this.pendingMessages.shift());\n        }\n    }\n\n    protected async loadLocalhost(origin: string): Promise<void> {\n        const redirect = await this.getRedirect(origin);\n        return this.doSend('did-load-localhost', { origin, location: redirect });\n    }\n\n    protected async getRedirect(url: string): Promise<string | undefined> {\n        const uri = new URI(url);\n        const localhost = this.externalUriService.parseLocalhost(uri);\n        if (!localhost) {\n            return undefined;\n        }\n\n        if (this._contentOptions.portMapping) {\n            for (const mapping of this._contentOptions.portMapping) {\n                if (mapping.webviewPort === localhost.port) {\n                    if (mapping.webviewPort !== mapping.extensionHostPort) {\n                        return this.toRemoteUrl(\n                            uri.withAuthority(`${localhost.address}:${mapping.extensionHostPort}`)\n                        );\n                    }\n                }\n            }\n        }\n\n        return this.toRemoteUrl(uri);\n    }\n\n    protected async toRemoteUrl(localUri: URI): Promise<string> {\n        const remoteUri = await this.externalUriService.resolve(localUri);\n        const remoteUrl = remoteUri.toString();\n        if (remoteUrl[remoteUrl.length - 1] === '/') {\n            return remoteUrl.slice(0, remoteUrl.length - 1);\n        }\n        return remoteUrl;\n    }\n\n    setContentOptions(contentOptions: WebviewContentOptions): void {\n        if (JSONExt.deepEqual(<any>this.contentOptions, <any>contentOptions)) {\n            return;\n        }\n        this._contentOptions = contentOptions;\n        this.doUpdateContent();\n    }\n\n    protected iconUrl: IconUrl | undefined;\n    protected readonly toDisposeOnIcon = new DisposableCollection();\n    setIconUrl(iconUrl: IconUrl | undefined): void {\n        if ((this.iconUrl && iconUrl && JSONExt.deepEqual(this.iconUrl, iconUrl)) || (this.iconUrl === iconUrl)) {\n            return;\n        }\n        this.toDisposeOnIcon.dispose();\n        this.toDispose.push(this.toDisposeOnIcon);\n        this.iconUrl = iconUrl;\n        if (iconUrl) {\n            const darkIconUrl = typeof iconUrl === 'object' ? iconUrl.dark : iconUrl;\n            const lightIconUrl = typeof iconUrl === 'object' ? iconUrl.light : iconUrl;\n            const iconClass = `webview-${this.identifier.id}-file-icon`;\n            this.toDisposeOnIcon.push(this.sharedStyle.insertRule(\n                `.theia-webview-icon.${iconClass}::before`,\n                theme => `background-image: url(${theme.type === 'light' ? lightIconUrl : darkIconUrl});`\n            ));\n            this.title.iconClass = `theia-webview-icon ${iconClass}`;\n        } else {\n            this.title.iconClass = '';\n        }\n    }\n\n    setHTML(value: string): void {\n        this.html = this.preprocessHtml(value);\n        this.doUpdateContent();\n    }\n\n    protected preprocessHtml(value: string): string {\n        return value\n            .replace(/([\"'])(?:vscode|theia)-resource:(\\/\\/([^\\s\\/'\"]+?)(?=\\/))?([^\\s'\"]+?)([\"'])/gi, (_, startQuote, _1, scheme, path, endQuote) => {\n                if (scheme) {\n                    return `${startQuote}${this.externalEndpoint}/theia-resource/${scheme}${path}${endQuote}`;\n                }\n                return `${startQuote}${this.externalEndpoint}/theia-resource/file${path}${endQuote}`;\n            });\n    }\n\n    protected onActivateRequest(msg: Message): void {\n        super.onActivateRequest(msg);\n        this.focus();\n    }\n\n    focus(): void {\n        this.node.focus();\n        if (this.element) {\n            this.doSend('focus');\n        }\n    }\n\n    reload(): void {\n        this.doUpdateContent();\n    }\n\n    protected style(): void {\n        const { styles, activeTheme } = this.themeDataProvider.getThemeData();\n        this.doSend('styles', { styles, activeTheme });\n    }\n\n    protected dispatchKeyDown(event: KeyboardEventInit): void {\n        // Create a fake KeyboardEvent from the data provided\n        const emulatedKeyboardEvent = new KeyboardEvent('keydown', event);\n        // Force override the target\n        Object.defineProperty(emulatedKeyboardEvent, 'target', {\n            get: () => this.element,\n        });\n        // And re-dispatch\n        this.keybindings.run(emulatedKeyboardEvent);\n    }\n\n    protected openLink(link: URI): void {\n        const supported = this.toSupportedLink(link);\n        if (supported) {\n            open(this.openerService, supported);\n        }\n    }\n\n    protected toSupportedLink(link: URI): URI | undefined {\n        if (WebviewWidget.standardSupportedLinkSchemes.has(link.scheme)) {\n            const linkAsString = link.toString();\n            for (const resourceRoot of [this.externalEndpoint + '/theia-resource', this.externalEndpoint + '/vscode-resource']) {\n                if (linkAsString.startsWith(resourceRoot + '/')) {\n                    return this.normalizeRequestUri(linkAsString.substr(resourceRoot.length));\n                }\n            }\n            return link;\n        }\n        if (!!this.contentOptions.enableCommandUris && link.scheme === Schemes.COMMAND) {\n            return link;\n        }\n        return undefined;\n    }\n\n    protected async loadResource(requestPath: string): Promise<void> {\n        const normalizedUri = this.normalizeRequestUri(requestPath);\n        // browser cache does not support file scheme, normalize to current endpoint scheme and host\n        const cacheUrl = new Endpoint({ path: normalizedUri.path.toString() }).getRestUrl().toString();\n\n        try {\n            if (this.contentOptions.localResourceRoots) {\n                for (const root of this.contentOptions.localResourceRoots) {\n                    if (!new URI(root).path.isEqualOrParent(normalizedUri.path)) {\n                        continue;\n                    }\n                    let cached = await this.resourceCache.match(cacheUrl);\n                    const response = await this.resourceLoader.load({ uri: normalizedUri.toString(), eTag: cached && cached.eTag });\n                    if (response) {\n                        const { buffer, eTag } = response;\n                        cached = { body: () => new Uint8Array(buffer), eTag: eTag };\n                        this.resourceCache.put(cacheUrl, cached);\n                    }\n                    if (cached) {\n                        const data = await cached.body();\n                        return this.doSend('did-load-resource', {\n                            status: 200,\n                            path: requestPath,\n                            mime: mime.getType(normalizedUri.path.toString()) || 'application/octet-stream',\n                            data\n                        });\n                    }\n                }\n            }\n        } catch {\n            // no-op\n        }\n\n        this.resourceCache.delete(cacheUrl);\n        return this.doSend('did-load-resource', {\n            status: 404,\n            path: requestPath\n        });\n    }\n\n    protected normalizeRequestUri(requestPath: string): URI {\n        const normalizedPath = decodeURIComponent(requestPath);\n        const requestUri = new URI(normalizedPath.replace(/^\\/(\\w+)\\/(.+)$/, (_, scheme, path) => scheme + ':/' + path));\n        if (requestUri.scheme !== 'theia-resource' && requestUri.scheme !== 'vscode-resource') {\n            return requestUri;\n        }\n\n        // Modern vscode-resources uris put the scheme of the requested resource as the authority\n        if (requestUri.authority) {\n            return new URI(requestUri.authority + ':' + requestUri.path);\n        }\n\n        // Old style vscode-resource uris lose the scheme of the resource which means they are unable to\n        // load a mix of local and remote content properly.\n        return requestUri.withScheme('file');\n    }\n\n    sendMessage(data: any): void {\n        if (this.element) {\n            this.doSend('message', data);\n        } else {\n            this.pendingMessages.push(data);\n        }\n    }\n\n    protected doUpdateContent(): void {\n        this.doSend('content', {\n            contents: this.html,\n            options: this.contentOptions,\n            state: this.state\n        });\n    }\n\n    storeState(): WebviewWidget.State {\n        return {\n            viewType: this.viewType,\n            title: this.title.label,\n            iconUrl: this.iconUrl,\n            options: this.options,\n            contentOptions: this.contentOptions,\n            state: this.state\n        };\n    }\n\n    restoreState(oldState: WebviewWidget.State): void {\n        const { viewType, title, iconUrl, options, contentOptions, state } = oldState;\n        this.viewType = viewType;\n        this.title.label = title;\n        this.setIconUrl(iconUrl);\n        this.options = options;\n        this._contentOptions = contentOptions;\n        this._state = state;\n    }\n\n    protected async doSend(channel: string, data?: any): Promise<void> {\n        if (!this.element) {\n            return;\n        }\n        try {\n            await this.ready.promise;\n            this.postMessage(channel, data);\n        } catch (e) {\n            console.error(e);\n        }\n    }\n\n    protected postMessage(channel: string, data?: any): void {\n        if (this.element) {\n            this.trace('out', channel, data);\n            this.element.contentWindow!.postMessage({ channel, args: data }, '*');\n        }\n    }\n\n    protected on<T = unknown>(channel: WebviewMessageChannels, handler: (data: T) => void): Disposable {\n        const listener = (e: any) => {\n            if (!e || !e.data || e.data.target !== this.identifier.id) {\n                return;\n            }\n            if (e.data.channel === channel) {\n                this.trace('in', e.data.channel, e.data.data);\n                handler(e.data.data);\n            }\n        };\n        window.addEventListener('message', listener);\n        return Disposable.create(() =>\n            window.removeEventListener('message', listener)\n        );\n    }\n\n    protected trace(kind: 'in' | 'out', channel: string, data?: any): void {\n        const value = this.preferences['webview.trace'];\n        if (value === 'off') {\n            return;\n        }\n        const output = this.outputManager.getChannel('webviews');\n        output.append('\\n' + this.identifier.id);\n        output.append(kind === 'out' ? ' => ' : ' <= ');\n        output.append(channel);\n        if (value === 'verbose') {\n            if (data) {\n                output.append('\\n' + JSON.stringify(data, undefined, 2));\n            }\n        }\n    }\n\n}\nexport namespace WebviewWidget {\n    export namespace Styles {\n        export const WEBVIEW = 'theia-webview';\n    }\n    export interface State {\n        viewType: string\n        title: string\n        iconUrl?: IconUrl\n        options: WebviewPanelOptions\n        contentOptions: WebviewContentOptions\n        state?: string\n    }\n}\n","/********************************************************************************\n * Copyright (C) 2019 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\n/**\n * Each webview should be deployed on a unique origin (https://developer.mozilla.org/en-US/docs/Web/Security/Same-origin_policy)\n * to ensure isolation from browser shared state as cookies, local storage and so on.\n *\n * Use `THEIA_WEBVIEW_EXTERNAL_ENDPOINT` to customize the hostname pattern of a origin.\n * By default is `{{uuid}}.webview.{{hostname}}`. Where `{{uuid}}` is a placeholder for a webview global id.\n */\nexport namespace WebviewExternalEndpoint {\n    export const pattern = 'THEIA_WEBVIEW_EXTERNAL_ENDPOINT';\n    export const defaultPattern = '{{uuid}}.webview.{{hostname}}';\n}\n\nexport interface LoadWebviewResourceParams {\n    uri: string\n    eTag?: string\n}\n\nexport interface LoadWebviewResourceResult {\n    buffer: number[]\n    eTag: string\n}\n\nexport const WebviewResourceLoader = Symbol('WebviewResourceLoader');\nexport interface WebviewResourceLoader {\n    /**\n     * Loads initial webview resource data.\n     * Returns `undefined` if a resource has not beed modified.\n     * Throws if a resource cannot be loaded.\n     */\n    load(params: LoadWebviewResourceParams): Promise<LoadWebviewResourceResult | undefined>\n}\nexport const WebviewResourceLoaderPath = '/services/webview-resource-loader';\n","'use strict';\n\n/**\n * @param typeMap [Object] Map of MIME type -> Array[extensions]\n * @param ...\n */\nfunction Mime() {\n  this._types = Object.create(null);\n  this._extensions = Object.create(null);\n\n  for (var i = 0; i < arguments.length; i++) {\n    this.define(arguments[i]);\n  }\n\n  this.define = this.define.bind(this);\n  this.getType = this.getType.bind(this);\n  this.getExtension = this.getExtension.bind(this);\n}\n\n/**\n * Define mimetype -> extension mappings.  Each key is a mime-type that maps\n * to an array of extensions associated with the type.  The first extension is\n * used as the default extension for the type.\n *\n * e.g. mime.define({'audio/ogg', ['oga', 'ogg', 'spx']});\n *\n * If a type declares an extension that has already been defined, an error will\n * be thrown.  To suppress this error and force the extension to be associated\n * with the new type, pass `force`=true.  Alternatively, you may prefix the\n * extension with \"*\" to map the type to extension, without mapping the\n * extension to the type.\n *\n * e.g. mime.define({'audio/wav', ['wav']}, {'audio/x-wav', ['*wav']});\n *\n *\n * @param map (Object) type definitions\n * @param force (Boolean) if true, force overriding of existing definitions\n */\nMime.prototype.define = function(typeMap, force) {\n  for (var type in typeMap) {\n    var extensions = typeMap[type].map(function(t) {return t.toLowerCase()});\n    type = type.toLowerCase();\n\n    for (var i = 0; i < extensions.length; i++) {\n      var ext = extensions[i];\n\n      // '*' prefix = not the preferred type for this extension.  So fixup the\n      // extension, and skip it.\n      if (ext[0] == '*') {\n        continue;\n      }\n\n      if (!force && (ext in this._types)) {\n        throw new Error(\n          'Attempt to change mapping for \"' + ext +\n          '\" extension from \"' + this._types[ext] + '\" to \"' + type +\n          '\". Pass `force=true` to allow this, otherwise remove \"' + ext +\n          '\" from the list of extensions for \"' + type + '\".'\n        );\n      }\n\n      this._types[ext] = type;\n    }\n\n    // Use first extension as default\n    if (force || !this._extensions[type]) {\n      var ext = extensions[0];\n      this._extensions[type] = (ext[0] != '*') ? ext : ext.substr(1)\n    }\n  }\n};\n\n/**\n * Lookup a mime type based on extension\n */\nMime.prototype.getType = function(path) {\n  path = String(path);\n  var last = path.replace(/^.*[/\\\\]/, '').toLowerCase();\n  var ext = last.replace(/^.*\\./, '').toLowerCase();\n\n  var hasPath = last.length < path.length;\n  var hasDot = ext.length < last.length - 1;\n\n  return (hasDot || !hasPath) && this._types[ext] || null;\n};\n\n/**\n * Return file extension associated with a mime type\n */\nMime.prototype.getExtension = function(type) {\n  type = /^\\s*([^;\\s]*)/.test(type) && RegExp.$1;\n  return type && this._extensions[type.toLowerCase()] || null;\n};\n\nmodule.exports = Mime;\n","'use strict';\n\nvar Mime = require('./Mime');\nmodule.exports = new Mime(require('./types/standard'), require('./types/other'));\n","module.exports = {\"application/prs.cww\":[\"cww\"],\"application/vnd.3gpp.pic-bw-large\":[\"plb\"],\"application/vnd.3gpp.pic-bw-small\":[\"psb\"],\"application/vnd.3gpp.pic-bw-var\":[\"pvb\"],\"application/vnd.3gpp2.tcap\":[\"tcap\"],\"application/vnd.3m.post-it-notes\":[\"pwn\"],\"application/vnd.accpac.simply.aso\":[\"aso\"],\"application/vnd.accpac.simply.imp\":[\"imp\"],\"application/vnd.acucobol\":[\"acu\"],\"application/vnd.acucorp\":[\"atc\",\"acutc\"],\"application/vnd.adobe.air-application-installer-package+zip\":[\"air\"],\"application/vnd.adobe.formscentral.fcdt\":[\"fcdt\"],\"application/vnd.adobe.fxp\":[\"fxp\",\"fxpl\"],\"application/vnd.adobe.xdp+xml\":[\"xdp\"],\"application/vnd.adobe.xfdf\":[\"xfdf\"],\"application/vnd.ahead.space\":[\"ahead\"],\"application/vnd.airzip.filesecure.azf\":[\"azf\"],\"application/vnd.airzip.filesecure.azs\":[\"azs\"],\"application/vnd.amazon.ebook\":[\"azw\"],\"application/vnd.americandynamics.acc\":[\"acc\"],\"application/vnd.amiga.ami\":[\"ami\"],\"application/vnd.android.package-archive\":[\"apk\"],\"application/vnd.anser-web-certificate-issue-initiation\":[\"cii\"],\"application/vnd.anser-web-funds-transfer-initiation\":[\"fti\"],\"application/vnd.antix.game-component\":[\"atx\"],\"application/vnd.apple.installer+xml\":[\"mpkg\"],\"application/vnd.apple.keynote\":[\"keynote\"],\"application/vnd.apple.mpegurl\":[\"m3u8\"],\"application/vnd.apple.numbers\":[\"numbers\"],\"application/vnd.apple.pages\":[\"pages\"],\"application/vnd.apple.pkpass\":[\"pkpass\"],\"application/vnd.aristanetworks.swi\":[\"swi\"],\"application/vnd.astraea-software.iota\":[\"iota\"],\"application/vnd.audiograph\":[\"aep\"],\"application/vnd.blueice.multipass\":[\"mpm\"],\"application/vnd.bmi\":[\"bmi\"],\"application/vnd.businessobjects\":[\"rep\"],\"application/vnd.chemdraw+xml\":[\"cdxml\"],\"application/vnd.chipnuts.karaoke-mmd\":[\"mmd\"],\"application/vnd.cinderella\":[\"cdy\"],\"application/vnd.citationstyles.style+xml\":[\"csl\"],\"application/vnd.claymore\":[\"cla\"],\"application/vnd.cloanto.rp9\":[\"rp9\"],\"application/vnd.clonk.c4group\":[\"c4g\",\"c4d\",\"c4f\",\"c4p\",\"c4u\"],\"application/vnd.cluetrust.cartomobile-config\":[\"c11amc\"],\"application/vnd.cluetrust.cartomobile-config-pkg\":[\"c11amz\"],\"application/vnd.commonspace\":[\"csp\"],\"application/vnd.contact.cmsg\":[\"cdbcmsg\"],\"application/vnd.cosmocaller\":[\"cmc\"],\"application/vnd.crick.clicker\":[\"clkx\"],\"application/vnd.crick.clicker.keyboard\":[\"clkk\"],\"application/vnd.crick.clicker.palette\":[\"clkp\"],\"application/vnd.crick.clicker.template\":[\"clkt\"],\"application/vnd.crick.clicker.wordbank\":[\"clkw\"],\"application/vnd.criticaltools.wbs+xml\":[\"wbs\"],\"application/vnd.ctc-posml\":[\"pml\"],\"application/vnd.cups-ppd\":[\"ppd\"],\"application/vnd.curl.car\":[\"car\"],\"application/vnd.curl.pcurl\":[\"pcurl\"],\"application/vnd.dart\":[\"dart\"],\"application/vnd.data-vision.rdz\":[\"rdz\"],\"application/vnd.dece.data\":[\"uvf\",\"uvvf\",\"uvd\",\"uvvd\"],\"application/vnd.dece.ttml+xml\":[\"uvt\",\"uvvt\"],\"application/vnd.dece.unspecified\":[\"uvx\",\"uvvx\"],\"application/vnd.dece.zip\":[\"uvz\",\"uvvz\"],\"application/vnd.denovo.fcselayout-link\":[\"fe_launch\"],\"application/vnd.dna\":[\"dna\"],\"application/vnd.dolby.mlp\":[\"mlp\"],\"application/vnd.dpgraph\":[\"dpg\"],\"application/vnd.dreamfactory\":[\"dfac\"],\"application/vnd.ds-keypoint\":[\"kpxx\"],\"application/vnd.dvb.ait\":[\"ait\"],\"application/vnd.dvb.service\":[\"svc\"],\"application/vnd.dynageo\":[\"geo\"],\"application/vnd.ecowin.chart\":[\"mag\"],\"application/vnd.enliven\":[\"nml\"],\"application/vnd.epson.esf\":[\"esf\"],\"application/vnd.epson.msf\":[\"msf\"],\"application/vnd.epson.quickanime\":[\"qam\"],\"application/vnd.epson.salt\":[\"slt\"],\"application/vnd.epson.ssf\":[\"ssf\"],\"application/vnd.eszigno3+xml\":[\"es3\",\"et3\"],\"application/vnd.ezpix-album\":[\"ez2\"],\"application/vnd.ezpix-package\":[\"ez3\"],\"application/vnd.fdf\":[\"fdf\"],\"application/vnd.fdsn.mseed\":[\"mseed\"],\"application/vnd.fdsn.seed\":[\"seed\",\"dataless\"],\"application/vnd.flographit\":[\"gph\"],\"application/vnd.fluxtime.clip\":[\"ftc\"],\"application/vnd.framemaker\":[\"fm\",\"frame\",\"maker\",\"book\"],\"application/vnd.frogans.fnc\":[\"fnc\"],\"application/vnd.frogans.ltf\":[\"ltf\"],\"application/vnd.fsc.weblaunch\":[\"fsc\"],\"application/vnd.fujitsu.oasys\":[\"oas\"],\"application/vnd.fujitsu.oasys2\":[\"oa2\"],\"application/vnd.fujitsu.oasys3\":[\"oa3\"],\"application/vnd.fujitsu.oasysgp\":[\"fg5\"],\"application/vnd.fujitsu.oasysprs\":[\"bh2\"],\"application/vnd.fujixerox.ddd\":[\"ddd\"],\"application/vnd.fujixerox.docuworks\":[\"xdw\"],\"application/vnd.fujixerox.docuworks.binder\":[\"xbd\"],\"application/vnd.fuzzysheet\":[\"fzs\"],\"application/vnd.genomatix.tuxedo\":[\"txd\"],\"application/vnd.geogebra.file\":[\"ggb\"],\"application/vnd.geogebra.tool\":[\"ggt\"],\"application/vnd.geometry-explorer\":[\"gex\",\"gre\"],\"application/vnd.geonext\":[\"gxt\"],\"application/vnd.geoplan\":[\"g2w\"],\"application/vnd.geospace\":[\"g3w\"],\"application/vnd.gmx\":[\"gmx\"],\"application/vnd.google-apps.document\":[\"gdoc\"],\"application/vnd.google-apps.presentation\":[\"gslides\"],\"application/vnd.google-apps.spreadsheet\":[\"gsheet\"],\"application/vnd.google-earth.kml+xml\":[\"kml\"],\"application/vnd.google-earth.kmz\":[\"kmz\"],\"application/vnd.grafeq\":[\"gqf\",\"gqs\"],\"application/vnd.groove-account\":[\"gac\"],\"application/vnd.groove-help\":[\"ghf\"],\"application/vnd.groove-identity-message\":[\"gim\"],\"application/vnd.groove-injector\":[\"grv\"],\"application/vnd.groove-tool-message\":[\"gtm\"],\"application/vnd.groove-tool-template\":[\"tpl\"],\"application/vnd.groove-vcard\":[\"vcg\"],\"application/vnd.hal+xml\":[\"hal\"],\"application/vnd.handheld-entertainment+xml\":[\"zmm\"],\"application/vnd.hbci\":[\"hbci\"],\"application/vnd.hhe.lesson-player\":[\"les\"],\"application/vnd.hp-hpgl\":[\"hpgl\"],\"application/vnd.hp-hpid\":[\"hpid\"],\"application/vnd.hp-hps\":[\"hps\"],\"application/vnd.hp-jlyt\":[\"jlt\"],\"application/vnd.hp-pcl\":[\"pcl\"],\"application/vnd.hp-pclxl\":[\"pclxl\"],\"application/vnd.hydrostatix.sof-data\":[\"sfd-hdstx\"],\"application/vnd.ibm.minipay\":[\"mpy\"],\"application/vnd.ibm.modcap\":[\"afp\",\"listafp\",\"list3820\"],\"application/vnd.ibm.rights-management\":[\"irm\"],\"application/vnd.ibm.secure-container\":[\"sc\"],\"application/vnd.iccprofile\":[\"icc\",\"icm\"],\"application/vnd.igloader\":[\"igl\"],\"application/vnd.immervision-ivp\":[\"ivp\"],\"application/vnd.immervision-ivu\":[\"ivu\"],\"application/vnd.insors.igm\":[\"igm\"],\"application/vnd.intercon.formnet\":[\"xpw\",\"xpx\"],\"application/vnd.intergeo\":[\"i2g\"],\"application/vnd.intu.qbo\":[\"qbo\"],\"application/vnd.intu.qfx\":[\"qfx\"],\"application/vnd.ipunplugged.rcprofile\":[\"rcprofile\"],\"application/vnd.irepository.package+xml\":[\"irp\"],\"application/vnd.is-xpr\":[\"xpr\"],\"application/vnd.isac.fcs\":[\"fcs\"],\"application/vnd.jam\":[\"jam\"],\"application/vnd.jcp.javame.midlet-rms\":[\"rms\"],\"application/vnd.jisp\":[\"jisp\"],\"application/vnd.joost.joda-archive\":[\"joda\"],\"application/vnd.kahootz\":[\"ktz\",\"ktr\"],\"application/vnd.kde.karbon\":[\"karbon\"],\"application/vnd.kde.kchart\":[\"chrt\"],\"application/vnd.kde.kformula\":[\"kfo\"],\"application/vnd.kde.kivio\":[\"flw\"],\"application/vnd.kde.kontour\":[\"kon\"],\"application/vnd.kde.kpresenter\":[\"kpr\",\"kpt\"],\"application/vnd.kde.kspread\":[\"ksp\"],\"application/vnd.kde.kword\":[\"kwd\",\"kwt\"],\"application/vnd.kenameaapp\":[\"htke\"],\"application/vnd.kidspiration\":[\"kia\"],\"application/vnd.kinar\":[\"kne\",\"knp\"],\"application/vnd.koan\":[\"skp\",\"skd\",\"skt\",\"skm\"],\"application/vnd.kodak-descriptor\":[\"sse\"],\"application/vnd.las.las+xml\":[\"lasxml\"],\"application/vnd.llamagraphics.life-balance.desktop\":[\"lbd\"],\"application/vnd.llamagraphics.life-balance.exchange+xml\":[\"lbe\"],\"application/vnd.lotus-1-2-3\":[\"123\"],\"application/vnd.lotus-approach\":[\"apr\"],\"application/vnd.lotus-freelance\":[\"pre\"],\"application/vnd.lotus-notes\":[\"nsf\"],\"application/vnd.lotus-organizer\":[\"org\"],\"application/vnd.lotus-screencam\":[\"scm\"],\"application/vnd.lotus-wordpro\":[\"lwp\"],\"application/vnd.macports.portpkg\":[\"portpkg\"],\"application/vnd.mcd\":[\"mcd\"],\"application/vnd.medcalcdata\":[\"mc1\"],\"application/vnd.mediastation.cdkey\":[\"cdkey\"],\"application/vnd.mfer\":[\"mwf\"],\"application/vnd.mfmp\":[\"mfm\"],\"application/vnd.micrografx.flo\":[\"flo\"],\"application/vnd.micrografx.igx\":[\"igx\"],\"application/vnd.mif\":[\"mif\"],\"application/vnd.mobius.daf\":[\"daf\"],\"application/vnd.mobius.dis\":[\"dis\"],\"application/vnd.mobius.mbk\":[\"mbk\"],\"application/vnd.mobius.mqy\":[\"mqy\"],\"application/vnd.mobius.msl\":[\"msl\"],\"application/vnd.mobius.plc\":[\"plc\"],\"application/vnd.mobius.txf\":[\"txf\"],\"application/vnd.mophun.application\":[\"mpn\"],\"application/vnd.mophun.certificate\":[\"mpc\"],\"application/vnd.mozilla.xul+xml\":[\"xul\"],\"application/vnd.ms-artgalry\":[\"cil\"],\"application/vnd.ms-cab-compressed\":[\"cab\"],\"application/vnd.ms-excel\":[\"xls\",\"xlm\",\"xla\",\"xlc\",\"xlt\",\"xlw\"],\"application/vnd.ms-excel.addin.macroenabled.12\":[\"xlam\"],\"application/vnd.ms-excel.sheet.binary.macroenabled.12\":[\"xlsb\"],\"application/vnd.ms-excel.sheet.macroenabled.12\":[\"xlsm\"],\"application/vnd.ms-excel.template.macroenabled.12\":[\"xltm\"],\"application/vnd.ms-fontobject\":[\"eot\"],\"application/vnd.ms-htmlhelp\":[\"chm\"],\"application/vnd.ms-ims\":[\"ims\"],\"application/vnd.ms-lrm\":[\"lrm\"],\"application/vnd.ms-officetheme\":[\"thmx\"],\"application/vnd.ms-outlook\":[\"msg\"],\"application/vnd.ms-pki.seccat\":[\"cat\"],\"application/vnd.ms-pki.stl\":[\"*stl\"],\"application/vnd.ms-powerpoint\":[\"ppt\",\"pps\",\"pot\"],\"application/vnd.ms-powerpoint.addin.macroenabled.12\":[\"ppam\"],\"application/vnd.ms-powerpoint.presentation.macroenabled.12\":[\"pptm\"],\"application/vnd.ms-powerpoint.slide.macroenabled.12\":[\"sldm\"],\"application/vnd.ms-powerpoint.slideshow.macroenabled.12\":[\"ppsm\"],\"application/vnd.ms-powerpoint.template.macroenabled.12\":[\"potm\"],\"application/vnd.ms-project\":[\"mpp\",\"mpt\"],\"application/vnd.ms-word.document.macroenabled.12\":[\"docm\"],\"application/vnd.ms-word.template.macroenabled.12\":[\"dotm\"],\"application/vnd.ms-works\":[\"wps\",\"wks\",\"wcm\",\"wdb\"],\"application/vnd.ms-wpl\":[\"wpl\"],\"application/vnd.ms-xpsdocument\":[\"xps\"],\"application/vnd.mseq\":[\"mseq\"],\"application/vnd.musician\":[\"mus\"],\"application/vnd.muvee.style\":[\"msty\"],\"application/vnd.mynfc\":[\"taglet\"],\"application/vnd.neurolanguage.nlu\":[\"nlu\"],\"application/vnd.nitf\":[\"ntf\",\"nitf\"],\"application/vnd.noblenet-directory\":[\"nnd\"],\"application/vnd.noblenet-sealer\":[\"nns\"],\"application/vnd.noblenet-web\":[\"nnw\"],\"application/vnd.nokia.n-gage.data\":[\"ngdat\"],\"application/vnd.nokia.n-gage.symbian.install\":[\"n-gage\"],\"application/vnd.nokia.radio-preset\":[\"rpst\"],\"application/vnd.nokia.radio-presets\":[\"rpss\"],\"application/vnd.novadigm.edm\":[\"edm\"],\"application/vnd.novadigm.edx\":[\"edx\"],\"application/vnd.novadigm.ext\":[\"ext\"],\"application/vnd.oasis.opendocument.chart\":[\"odc\"],\"application/vnd.oasis.opendocument.chart-template\":[\"otc\"],\"application/vnd.oasis.opendocument.database\":[\"odb\"],\"application/vnd.oasis.opendocument.formula\":[\"odf\"],\"application/vnd.oasis.opendocument.formula-template\":[\"odft\"],\"application/vnd.oasis.opendocument.graphics\":[\"odg\"],\"application/vnd.oasis.opendocument.graphics-template\":[\"otg\"],\"application/vnd.oasis.opendocument.image\":[\"odi\"],\"application/vnd.oasis.opendocument.image-template\":[\"oti\"],\"application/vnd.oasis.opendocument.presentation\":[\"odp\"],\"application/vnd.oasis.opendocument.presentation-template\":[\"otp\"],\"application/vnd.oasis.opendocument.spreadsheet\":[\"ods\"],\"application/vnd.oasis.opendocument.spreadsheet-template\":[\"ots\"],\"application/vnd.oasis.opendocument.text\":[\"odt\"],\"application/vnd.oasis.opendocument.text-master\":[\"odm\"],\"application/vnd.oasis.opendocument.text-template\":[\"ott\"],\"application/vnd.oasis.opendocument.text-web\":[\"oth\"],\"application/vnd.olpc-sugar\":[\"xo\"],\"application/vnd.oma.dd2+xml\":[\"dd2\"],\"application/vnd.openofficeorg.extension\":[\"oxt\"],\"application/vnd.openxmlformats-officedocument.presentationml.presentation\":[\"pptx\"],\"application/vnd.openxmlformats-officedocument.presentationml.slide\":[\"sldx\"],\"application/vnd.openxmlformats-officedocument.presentationml.slideshow\":[\"ppsx\"],\"application/vnd.openxmlformats-officedocument.presentationml.template\":[\"potx\"],\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\":[\"xlsx\"],\"application/vnd.openxmlformats-officedocument.spreadsheetml.template\":[\"xltx\"],\"application/vnd.openxmlformats-officedocument.wordprocessingml.document\":[\"docx\"],\"application/vnd.openxmlformats-officedocument.wordprocessingml.template\":[\"dotx\"],\"application/vnd.osgeo.mapguide.package\":[\"mgp\"],\"application/vnd.osgi.dp\":[\"dp\"],\"application/vnd.osgi.subsystem\":[\"esa\"],\"application/vnd.palm\":[\"pdb\",\"pqa\",\"oprc\"],\"application/vnd.pawaafile\":[\"paw\"],\"application/vnd.pg.format\":[\"str\"],\"application/vnd.pg.osasli\":[\"ei6\"],\"application/vnd.picsel\":[\"efif\"],\"application/vnd.pmi.widget\":[\"wg\"],\"application/vnd.pocketlearn\":[\"plf\"],\"application/vnd.powerbuilder6\":[\"pbd\"],\"application/vnd.previewsystems.box\":[\"box\"],\"application/vnd.proteus.magazine\":[\"mgz\"],\"application/vnd.publishare-delta-tree\":[\"qps\"],\"application/vnd.pvi.ptid1\":[\"ptid\"],\"application/vnd.quark.quarkxpress\":[\"qxd\",\"qxt\",\"qwd\",\"qwt\",\"qxl\",\"qxb\"],\"application/vnd.realvnc.bed\":[\"bed\"],\"application/vnd.recordare.musicxml\":[\"mxl\"],\"application/vnd.recordare.musicxml+xml\":[\"musicxml\"],\"application/vnd.rig.cryptonote\":[\"cryptonote\"],\"application/vnd.rim.cod\":[\"cod\"],\"application/vnd.rn-realmedia\":[\"rm\"],\"application/vnd.rn-realmedia-vbr\":[\"rmvb\"],\"application/vnd.route66.link66+xml\":[\"link66\"],\"application/vnd.sailingtracker.track\":[\"st\"],\"application/vnd.seemail\":[\"see\"],\"application/vnd.sema\":[\"sema\"],\"application/vnd.semd\":[\"semd\"],\"application/vnd.semf\":[\"semf\"],\"application/vnd.shana.informed.formdata\":[\"ifm\"],\"application/vnd.shana.informed.formtemplate\":[\"itp\"],\"application/vnd.shana.informed.interchange\":[\"iif\"],\"application/vnd.shana.informed.package\":[\"ipk\"],\"application/vnd.simtech-mindmapper\":[\"twd\",\"twds\"],\"application/vnd.smaf\":[\"mmf\"],\"application/vnd.smart.teacher\":[\"teacher\"],\"application/vnd.solent.sdkm+xml\":[\"sdkm\",\"sdkd\"],\"application/vnd.spotfire.dxp\":[\"dxp\"],\"application/vnd.spotfire.sfs\":[\"sfs\"],\"application/vnd.stardivision.calc\":[\"sdc\"],\"application/vnd.stardivision.draw\":[\"sda\"],\"application/vnd.stardivision.impress\":[\"sdd\"],\"application/vnd.stardivision.math\":[\"smf\"],\"application/vnd.stardivision.writer\":[\"sdw\",\"vor\"],\"application/vnd.stardivision.writer-global\":[\"sgl\"],\"application/vnd.stepmania.package\":[\"smzip\"],\"application/vnd.stepmania.stepchart\":[\"sm\"],\"application/vnd.sun.wadl+xml\":[\"wadl\"],\"application/vnd.sun.xml.calc\":[\"sxc\"],\"application/vnd.sun.xml.calc.template\":[\"stc\"],\"application/vnd.sun.xml.draw\":[\"sxd\"],\"application/vnd.sun.xml.draw.template\":[\"std\"],\"application/vnd.sun.xml.impress\":[\"sxi\"],\"application/vnd.sun.xml.impress.template\":[\"sti\"],\"application/vnd.sun.xml.math\":[\"sxm\"],\"application/vnd.sun.xml.writer\":[\"sxw\"],\"application/vnd.sun.xml.writer.global\":[\"sxg\"],\"application/vnd.sun.xml.writer.template\":[\"stw\"],\"application/vnd.sus-calendar\":[\"sus\",\"susp\"],\"application/vnd.svd\":[\"svd\"],\"application/vnd.symbian.install\":[\"sis\",\"sisx\"],\"application/vnd.syncml+xml\":[\"xsm\"],\"application/vnd.syncml.dm+wbxml\":[\"bdm\"],\"application/vnd.syncml.dm+xml\":[\"xdm\"],\"application/vnd.tao.intent-module-archive\":[\"tao\"],\"application/vnd.tcpdump.pcap\":[\"pcap\",\"cap\",\"dmp\"],\"application/vnd.tmobile-livetv\":[\"tmo\"],\"application/vnd.trid.tpt\":[\"tpt\"],\"application/vnd.triscape.mxs\":[\"mxs\"],\"application/vnd.trueapp\":[\"tra\"],\"application/vnd.ufdl\":[\"ufd\",\"ufdl\"],\"application/vnd.uiq.theme\":[\"utz\"],\"application/vnd.umajin\":[\"umj\"],\"application/vnd.unity\":[\"unityweb\"],\"application/vnd.uoml+xml\":[\"uoml\"],\"application/vnd.vcx\":[\"vcx\"],\"application/vnd.visio\":[\"vsd\",\"vst\",\"vss\",\"vsw\"],\"application/vnd.visionary\":[\"vis\"],\"application/vnd.vsf\":[\"vsf\"],\"application/vnd.wap.wbxml\":[\"wbxml\"],\"application/vnd.wap.wmlc\":[\"wmlc\"],\"application/vnd.wap.wmlscriptc\":[\"wmlsc\"],\"application/vnd.webturbo\":[\"wtb\"],\"application/vnd.wolfram.player\":[\"nbp\"],\"application/vnd.wordperfect\":[\"wpd\"],\"application/vnd.wqd\":[\"wqd\"],\"application/vnd.wt.stf\":[\"stf\"],\"application/vnd.xara\":[\"xar\"],\"application/vnd.xfdl\":[\"xfdl\"],\"application/vnd.yamaha.hv-dic\":[\"hvd\"],\"application/vnd.yamaha.hv-script\":[\"hvs\"],\"application/vnd.yamaha.hv-voice\":[\"hvp\"],\"application/vnd.yamaha.openscoreformat\":[\"osf\"],\"application/vnd.yamaha.openscoreformat.osfpvg+xml\":[\"osfpvg\"],\"application/vnd.yamaha.smaf-audio\":[\"saf\"],\"application/vnd.yamaha.smaf-phrase\":[\"spf\"],\"application/vnd.yellowriver-custom-menu\":[\"cmp\"],\"application/vnd.zul\":[\"zir\",\"zirz\"],\"application/vnd.zzazz.deck+xml\":[\"zaz\"],\"application/x-7z-compressed\":[\"7z\"],\"application/x-abiword\":[\"abw\"],\"application/x-ace-compressed\":[\"ace\"],\"application/x-apple-diskimage\":[\"*dmg\"],\"application/x-arj\":[\"arj\"],\"application/x-authorware-bin\":[\"aab\",\"x32\",\"u32\",\"vox\"],\"application/x-authorware-map\":[\"aam\"],\"application/x-authorware-seg\":[\"aas\"],\"application/x-bcpio\":[\"bcpio\"],\"application/x-bdoc\":[\"*bdoc\"],\"application/x-bittorrent\":[\"torrent\"],\"application/x-blorb\":[\"blb\",\"blorb\"],\"application/x-bzip\":[\"bz\"],\"application/x-bzip2\":[\"bz2\",\"boz\"],\"application/x-cbr\":[\"cbr\",\"cba\",\"cbt\",\"cbz\",\"cb7\"],\"application/x-cdlink\":[\"vcd\"],\"application/x-cfs-compressed\":[\"cfs\"],\"application/x-chat\":[\"chat\"],\"application/x-chess-pgn\":[\"pgn\"],\"application/x-chrome-extension\":[\"crx\"],\"application/x-cocoa\":[\"cco\"],\"application/x-conference\":[\"nsc\"],\"application/x-cpio\":[\"cpio\"],\"application/x-csh\":[\"csh\"],\"application/x-debian-package\":[\"*deb\",\"udeb\"],\"application/x-dgc-compressed\":[\"dgc\"],\"application/x-director\":[\"dir\",\"dcr\",\"dxr\",\"cst\",\"cct\",\"cxt\",\"w3d\",\"fgd\",\"swa\"],\"application/x-doom\":[\"wad\"],\"application/x-dtbncx+xml\":[\"ncx\"],\"application/x-dtbook+xml\":[\"dtb\"],\"application/x-dtbresource+xml\":[\"res\"],\"application/x-dvi\":[\"dvi\"],\"application/x-envoy\":[\"evy\"],\"application/x-eva\":[\"eva\"],\"application/x-font-bdf\":[\"bdf\"],\"application/x-font-ghostscript\":[\"gsf\"],\"application/x-font-linux-psf\":[\"psf\"],\"application/x-font-pcf\":[\"pcf\"],\"application/x-font-snf\":[\"snf\"],\"application/x-font-type1\":[\"pfa\",\"pfb\",\"pfm\",\"afm\"],\"application/x-freearc\":[\"arc\"],\"application/x-futuresplash\":[\"spl\"],\"application/x-gca-compressed\":[\"gca\"],\"application/x-glulx\":[\"ulx\"],\"application/x-gnumeric\":[\"gnumeric\"],\"application/x-gramps-xml\":[\"gramps\"],\"application/x-gtar\":[\"gtar\"],\"application/x-hdf\":[\"hdf\"],\"application/x-httpd-php\":[\"php\"],\"application/x-install-instructions\":[\"install\"],\"application/x-iso9660-image\":[\"*iso\"],\"application/x-java-archive-diff\":[\"jardiff\"],\"application/x-java-jnlp-file\":[\"jnlp\"],\"application/x-latex\":[\"latex\"],\"application/x-lua-bytecode\":[\"luac\"],\"application/x-lzh-compressed\":[\"lzh\",\"lha\"],\"application/x-makeself\":[\"run\"],\"application/x-mie\":[\"mie\"],\"application/x-mobipocket-ebook\":[\"prc\",\"mobi\"],\"application/x-ms-application\":[\"application\"],\"application/x-ms-shortcut\":[\"lnk\"],\"application/x-ms-wmd\":[\"wmd\"],\"application/x-ms-wmz\":[\"wmz\"],\"application/x-ms-xbap\":[\"xbap\"],\"application/x-msaccess\":[\"mdb\"],\"application/x-msbinder\":[\"obd\"],\"application/x-mscardfile\":[\"crd\"],\"application/x-msclip\":[\"clp\"],\"application/x-msdos-program\":[\"*exe\"],\"application/x-msdownload\":[\"*exe\",\"*dll\",\"com\",\"bat\",\"*msi\"],\"application/x-msmediaview\":[\"mvb\",\"m13\",\"m14\"],\"application/x-msmetafile\":[\"*wmf\",\"*wmz\",\"*emf\",\"emz\"],\"application/x-msmoney\":[\"mny\"],\"application/x-mspublisher\":[\"pub\"],\"application/x-msschedule\":[\"scd\"],\"application/x-msterminal\":[\"trm\"],\"application/x-mswrite\":[\"wri\"],\"application/x-netcdf\":[\"nc\",\"cdf\"],\"application/x-ns-proxy-autoconfig\":[\"pac\"],\"application/x-nzb\":[\"nzb\"],\"application/x-perl\":[\"pl\",\"pm\"],\"application/x-pilot\":[\"*prc\",\"*pdb\"],\"application/x-pkcs12\":[\"p12\",\"pfx\"],\"application/x-pkcs7-certificates\":[\"p7b\",\"spc\"],\"application/x-pkcs7-certreqresp\":[\"p7r\"],\"application/x-rar-compressed\":[\"rar\"],\"application/x-redhat-package-manager\":[\"rpm\"],\"application/x-research-info-systems\":[\"ris\"],\"application/x-sea\":[\"sea\"],\"application/x-sh\":[\"sh\"],\"application/x-shar\":[\"shar\"],\"application/x-shockwave-flash\":[\"swf\"],\"application/x-silverlight-app\":[\"xap\"],\"application/x-sql\":[\"sql\"],\"application/x-stuffit\":[\"sit\"],\"application/x-stuffitx\":[\"sitx\"],\"application/x-subrip\":[\"srt\"],\"application/x-sv4cpio\":[\"sv4cpio\"],\"application/x-sv4crc\":[\"sv4crc\"],\"application/x-t3vm-image\":[\"t3\"],\"application/x-tads\":[\"gam\"],\"application/x-tar\":[\"tar\"],\"application/x-tcl\":[\"tcl\",\"tk\"],\"application/x-tex\":[\"tex\"],\"application/x-tex-tfm\":[\"tfm\"],\"application/x-texinfo\":[\"texinfo\",\"texi\"],\"application/x-tgif\":[\"obj\"],\"application/x-ustar\":[\"ustar\"],\"application/x-virtualbox-hdd\":[\"hdd\"],\"application/x-virtualbox-ova\":[\"ova\"],\"application/x-virtualbox-ovf\":[\"ovf\"],\"application/x-virtualbox-vbox\":[\"vbox\"],\"application/x-virtualbox-vbox-extpack\":[\"vbox-extpack\"],\"application/x-virtualbox-vdi\":[\"vdi\"],\"application/x-virtualbox-vhd\":[\"vhd\"],\"application/x-virtualbox-vmdk\":[\"vmdk\"],\"application/x-wais-source\":[\"src\"],\"application/x-web-app-manifest+json\":[\"webapp\"],\"application/x-x509-ca-cert\":[\"der\",\"crt\",\"pem\"],\"application/x-xfig\":[\"fig\"],\"application/x-xliff+xml\":[\"xlf\"],\"application/x-xpinstall\":[\"xpi\"],\"application/x-xz\":[\"xz\"],\"application/x-zmachine\":[\"z1\",\"z2\",\"z3\",\"z4\",\"z5\",\"z6\",\"z7\",\"z8\"],\"audio/vnd.dece.audio\":[\"uva\",\"uvva\"],\"audio/vnd.digital-winds\":[\"eol\"],\"audio/vnd.dra\":[\"dra\"],\"audio/vnd.dts\":[\"dts\"],\"audio/vnd.dts.hd\":[\"dtshd\"],\"audio/vnd.lucent.voice\":[\"lvp\"],\"audio/vnd.ms-playready.media.pya\":[\"pya\"],\"audio/vnd.nuera.ecelp4800\":[\"ecelp4800\"],\"audio/vnd.nuera.ecelp7470\":[\"ecelp7470\"],\"audio/vnd.nuera.ecelp9600\":[\"ecelp9600\"],\"audio/vnd.rip\":[\"rip\"],\"audio/x-aac\":[\"aac\"],\"audio/x-aiff\":[\"aif\",\"aiff\",\"aifc\"],\"audio/x-caf\":[\"caf\"],\"audio/x-flac\":[\"flac\"],\"audio/x-m4a\":[\"*m4a\"],\"audio/x-matroska\":[\"mka\"],\"audio/x-mpegurl\":[\"m3u\"],\"audio/x-ms-wax\":[\"wax\"],\"audio/x-ms-wma\":[\"wma\"],\"audio/x-pn-realaudio\":[\"ram\",\"ra\"],\"audio/x-pn-realaudio-plugin\":[\"rmp\"],\"audio/x-realaudio\":[\"*ra\"],\"audio/x-wav\":[\"*wav\"],\"chemical/x-cdx\":[\"cdx\"],\"chemical/x-cif\":[\"cif\"],\"chemical/x-cmdf\":[\"cmdf\"],\"chemical/x-cml\":[\"cml\"],\"chemical/x-csml\":[\"csml\"],\"chemical/x-xyz\":[\"xyz\"],\"image/prs.btif\":[\"btif\"],\"image/prs.pti\":[\"pti\"],\"image/vnd.adobe.photoshop\":[\"psd\"],\"image/vnd.airzip.accelerator.azv\":[\"azv\"],\"image/vnd.dece.graphic\":[\"uvi\",\"uvvi\",\"uvg\",\"uvvg\"],\"image/vnd.djvu\":[\"djvu\",\"djv\"],\"image/vnd.dvb.subtitle\":[\"*sub\"],\"image/vnd.dwg\":[\"dwg\"],\"image/vnd.dxf\":[\"dxf\"],\"image/vnd.fastbidsheet\":[\"fbs\"],\"image/vnd.fpx\":[\"fpx\"],\"image/vnd.fst\":[\"fst\"],\"image/vnd.fujixerox.edmics-mmr\":[\"mmr\"],\"image/vnd.fujixerox.edmics-rlc\":[\"rlc\"],\"image/vnd.microsoft.icon\":[\"ico\"],\"image/vnd.ms-modi\":[\"mdi\"],\"image/vnd.ms-photo\":[\"wdp\"],\"image/vnd.net-fpx\":[\"npx\"],\"image/vnd.tencent.tap\":[\"tap\"],\"image/vnd.valve.source.texture\":[\"vtf\"],\"image/vnd.wap.wbmp\":[\"wbmp\"],\"image/vnd.xiff\":[\"xif\"],\"image/vnd.zbrush.pcx\":[\"pcx\"],\"image/x-3ds\":[\"3ds\"],\"image/x-cmu-raster\":[\"ras\"],\"image/x-cmx\":[\"cmx\"],\"image/x-freehand\":[\"fh\",\"fhc\",\"fh4\",\"fh5\",\"fh7\"],\"image/x-icon\":[\"*ico\"],\"image/x-jng\":[\"jng\"],\"image/x-mrsid-image\":[\"sid\"],\"image/x-ms-bmp\":[\"*bmp\"],\"image/x-pcx\":[\"*pcx\"],\"image/x-pict\":[\"pic\",\"pct\"],\"image/x-portable-anymap\":[\"pnm\"],\"image/x-portable-bitmap\":[\"pbm\"],\"image/x-portable-graymap\":[\"pgm\"],\"image/x-portable-pixmap\":[\"ppm\"],\"image/x-rgb\":[\"rgb\"],\"image/x-tga\":[\"tga\"],\"image/x-xbitmap\":[\"xbm\"],\"image/x-xpixmap\":[\"xpm\"],\"image/x-xwindowdump\":[\"xwd\"],\"message/vnd.wfa.wsc\":[\"wsc\"],\"model/vnd.collada+xml\":[\"dae\"],\"model/vnd.dwf\":[\"dwf\"],\"model/vnd.gdl\":[\"gdl\"],\"model/vnd.gtw\":[\"gtw\"],\"model/vnd.mts\":[\"mts\"],\"model/vnd.opengex\":[\"ogex\"],\"model/vnd.parasolid.transmit.binary\":[\"x_b\"],\"model/vnd.parasolid.transmit.text\":[\"x_t\"],\"model/vnd.usdz+zip\":[\"usdz\"],\"model/vnd.valve.source.compiled-map\":[\"bsp\"],\"model/vnd.vtu\":[\"vtu\"],\"text/prs.lines.tag\":[\"dsc\"],\"text/vnd.curl\":[\"curl\"],\"text/vnd.curl.dcurl\":[\"dcurl\"],\"text/vnd.curl.mcurl\":[\"mcurl\"],\"text/vnd.curl.scurl\":[\"scurl\"],\"text/vnd.dvb.subtitle\":[\"sub\"],\"text/vnd.fly\":[\"fly\"],\"text/vnd.fmi.flexstor\":[\"flx\"],\"text/vnd.graphviz\":[\"gv\"],\"text/vnd.in3d.3dml\":[\"3dml\"],\"text/vnd.in3d.spot\":[\"spot\"],\"text/vnd.sun.j2me.app-descriptor\":[\"jad\"],\"text/vnd.wap.wml\":[\"wml\"],\"text/vnd.wap.wmlscript\":[\"wmls\"],\"text/x-asm\":[\"s\",\"asm\"],\"text/x-c\":[\"c\",\"cc\",\"cxx\",\"cpp\",\"h\",\"hh\",\"dic\"],\"text/x-component\":[\"htc\"],\"text/x-fortran\":[\"f\",\"for\",\"f77\",\"f90\"],\"text/x-handlebars-template\":[\"hbs\"],\"text/x-java-source\":[\"java\"],\"text/x-lua\":[\"lua\"],\"text/x-markdown\":[\"mkd\"],\"text/x-nfo\":[\"nfo\"],\"text/x-opml\":[\"opml\"],\"text/x-org\":[\"*org\"],\"text/x-pascal\":[\"p\",\"pas\"],\"text/x-processing\":[\"pde\"],\"text/x-sass\":[\"sass\"],\"text/x-scss\":[\"scss\"],\"text/x-setext\":[\"etx\"],\"text/x-sfv\":[\"sfv\"],\"text/x-suse-ymp\":[\"ymp\"],\"text/x-uuencode\":[\"uu\"],\"text/x-vcalendar\":[\"vcs\"],\"text/x-vcard\":[\"vcf\"],\"video/vnd.dece.hd\":[\"uvh\",\"uvvh\"],\"video/vnd.dece.mobile\":[\"uvm\",\"uvvm\"],\"video/vnd.dece.pd\":[\"uvp\",\"uvvp\"],\"video/vnd.dece.sd\":[\"uvs\",\"uvvs\"],\"video/vnd.dece.video\":[\"uvv\",\"uvvv\"],\"video/vnd.dvb.file\":[\"dvb\"],\"video/vnd.fvt\":[\"fvt\"],\"video/vnd.mpegurl\":[\"mxu\",\"m4u\"],\"video/vnd.ms-playready.media.pyv\":[\"pyv\"],\"video/vnd.uvvu.mp4\":[\"uvu\",\"uvvu\"],\"video/vnd.vivo\":[\"viv\"],\"video/x-f4v\":[\"f4v\"],\"video/x-fli\":[\"fli\"],\"video/x-flv\":[\"flv\"],\"video/x-m4v\":[\"m4v\"],\"video/x-matroska\":[\"mkv\",\"mk3d\",\"mks\"],\"video/x-mng\":[\"mng\"],\"video/x-ms-asf\":[\"asf\",\"asx\"],\"video/x-ms-vob\":[\"vob\"],\"video/x-ms-wm\":[\"wm\"],\"video/x-ms-wmv\":[\"wmv\"],\"video/x-ms-wmx\":[\"wmx\"],\"video/x-ms-wvx\":[\"wvx\"],\"video/x-msvideo\":[\"avi\"],\"video/x-sgi-movie\":[\"movie\"],\"video/x-smv\":[\"smv\"],\"x-conference/x-cooltalk\":[\"ice\"]};","module.exports = {\"application/andrew-inset\":[\"ez\"],\"application/applixware\":[\"aw\"],\"application/atom+xml\":[\"atom\"],\"application/atomcat+xml\":[\"atomcat\"],\"application/atomsvc+xml\":[\"atomsvc\"],\"application/bdoc\":[\"bdoc\"],\"application/ccxml+xml\":[\"ccxml\"],\"application/cdmi-capability\":[\"cdmia\"],\"application/cdmi-container\":[\"cdmic\"],\"application/cdmi-domain\":[\"cdmid\"],\"application/cdmi-object\":[\"cdmio\"],\"application/cdmi-queue\":[\"cdmiq\"],\"application/cu-seeme\":[\"cu\"],\"application/dash+xml\":[\"mpd\"],\"application/davmount+xml\":[\"davmount\"],\"application/docbook+xml\":[\"dbk\"],\"application/dssc+der\":[\"dssc\"],\"application/dssc+xml\":[\"xdssc\"],\"application/ecmascript\":[\"ecma\",\"es\"],\"application/emma+xml\":[\"emma\"],\"application/epub+zip\":[\"epub\"],\"application/exi\":[\"exi\"],\"application/font-tdpfr\":[\"pfr\"],\"application/geo+json\":[\"geojson\"],\"application/gml+xml\":[\"gml\"],\"application/gpx+xml\":[\"gpx\"],\"application/gxf\":[\"gxf\"],\"application/gzip\":[\"gz\"],\"application/hjson\":[\"hjson\"],\"application/hyperstudio\":[\"stk\"],\"application/inkml+xml\":[\"ink\",\"inkml\"],\"application/ipfix\":[\"ipfix\"],\"application/java-archive\":[\"jar\",\"war\",\"ear\"],\"application/java-serialized-object\":[\"ser\"],\"application/java-vm\":[\"class\"],\"application/javascript\":[\"js\",\"mjs\"],\"application/json\":[\"json\",\"map\"],\"application/json5\":[\"json5\"],\"application/jsonml+json\":[\"jsonml\"],\"application/ld+json\":[\"jsonld\"],\"application/lost+xml\":[\"lostxml\"],\"application/mac-binhex40\":[\"hqx\"],\"application/mac-compactpro\":[\"cpt\"],\"application/mads+xml\":[\"mads\"],\"application/manifest+json\":[\"webmanifest\"],\"application/marc\":[\"mrc\"],\"application/marcxml+xml\":[\"mrcx\"],\"application/mathematica\":[\"ma\",\"nb\",\"mb\"],\"application/mathml+xml\":[\"mathml\"],\"application/mbox\":[\"mbox\"],\"application/mediaservercontrol+xml\":[\"mscml\"],\"application/metalink+xml\":[\"metalink\"],\"application/metalink4+xml\":[\"meta4\"],\"application/mets+xml\":[\"mets\"],\"application/mods+xml\":[\"mods\"],\"application/mp21\":[\"m21\",\"mp21\"],\"application/mp4\":[\"mp4s\",\"m4p\"],\"application/msword\":[\"doc\",\"dot\"],\"application/mxf\":[\"mxf\"],\"application/n-quads\":[\"nq\"],\"application/n-triples\":[\"nt\"],\"application/octet-stream\":[\"bin\",\"dms\",\"lrf\",\"mar\",\"so\",\"dist\",\"distz\",\"pkg\",\"bpk\",\"dump\",\"elc\",\"deploy\",\"exe\",\"dll\",\"deb\",\"dmg\",\"iso\",\"img\",\"msi\",\"msp\",\"msm\",\"buffer\"],\"application/oda\":[\"oda\"],\"application/oebps-package+xml\":[\"opf\"],\"application/ogg\":[\"ogx\"],\"application/omdoc+xml\":[\"omdoc\"],\"application/onenote\":[\"onetoc\",\"onetoc2\",\"onetmp\",\"onepkg\"],\"application/oxps\":[\"oxps\"],\"application/patch-ops-error+xml\":[\"xer\"],\"application/pdf\":[\"pdf\"],\"application/pgp-encrypted\":[\"pgp\"],\"application/pgp-signature\":[\"asc\",\"sig\"],\"application/pics-rules\":[\"prf\"],\"application/pkcs10\":[\"p10\"],\"application/pkcs7-mime\":[\"p7m\",\"p7c\"],\"application/pkcs7-signature\":[\"p7s\"],\"application/pkcs8\":[\"p8\"],\"application/pkix-attr-cert\":[\"ac\"],\"application/pkix-cert\":[\"cer\"],\"application/pkix-crl\":[\"crl\"],\"application/pkix-pkipath\":[\"pkipath\"],\"application/pkixcmp\":[\"pki\"],\"application/pls+xml\":[\"pls\"],\"application/postscript\":[\"ai\",\"eps\",\"ps\"],\"application/pskc+xml\":[\"pskcxml\"],\"application/raml+yaml\":[\"raml\"],\"application/rdf+xml\":[\"rdf\",\"owl\"],\"application/reginfo+xml\":[\"rif\"],\"application/relax-ng-compact-syntax\":[\"rnc\"],\"application/resource-lists+xml\":[\"rl\"],\"application/resource-lists-diff+xml\":[\"rld\"],\"application/rls-services+xml\":[\"rs\"],\"application/rpki-ghostbusters\":[\"gbr\"],\"application/rpki-manifest\":[\"mft\"],\"application/rpki-roa\":[\"roa\"],\"application/rsd+xml\":[\"rsd\"],\"application/rss+xml\":[\"rss\"],\"application/rtf\":[\"rtf\"],\"application/sbml+xml\":[\"sbml\"],\"application/scvp-cv-request\":[\"scq\"],\"application/scvp-cv-response\":[\"scs\"],\"application/scvp-vp-request\":[\"spq\"],\"application/scvp-vp-response\":[\"spp\"],\"application/sdp\":[\"sdp\"],\"application/set-payment-initiation\":[\"setpay\"],\"application/set-registration-initiation\":[\"setreg\"],\"application/shf+xml\":[\"shf\"],\"application/sieve\":[\"siv\",\"sieve\"],\"application/smil+xml\":[\"smi\",\"smil\"],\"application/sparql-query\":[\"rq\"],\"application/sparql-results+xml\":[\"srx\"],\"application/srgs\":[\"gram\"],\"application/srgs+xml\":[\"grxml\"],\"application/sru+xml\":[\"sru\"],\"application/ssdl+xml\":[\"ssdl\"],\"application/ssml+xml\":[\"ssml\"],\"application/tei+xml\":[\"tei\",\"teicorpus\"],\"application/thraud+xml\":[\"tfi\"],\"application/timestamped-data\":[\"tsd\"],\"application/voicexml+xml\":[\"vxml\"],\"application/wasm\":[\"wasm\"],\"application/widget\":[\"wgt\"],\"application/winhlp\":[\"hlp\"],\"application/wsdl+xml\":[\"wsdl\"],\"application/wspolicy+xml\":[\"wspolicy\"],\"application/xaml+xml\":[\"xaml\"],\"application/xcap-diff+xml\":[\"xdf\"],\"application/xenc+xml\":[\"xenc\"],\"application/xhtml+xml\":[\"xhtml\",\"xht\"],\"application/xml\":[\"xml\",\"xsl\",\"xsd\",\"rng\"],\"application/xml-dtd\":[\"dtd\"],\"application/xop+xml\":[\"xop\"],\"application/xproc+xml\":[\"xpl\"],\"application/xslt+xml\":[\"xslt\"],\"application/xspf+xml\":[\"xspf\"],\"application/xv+xml\":[\"mxml\",\"xhvml\",\"xvml\",\"xvm\"],\"application/yang\":[\"yang\"],\"application/yin+xml\":[\"yin\"],\"application/zip\":[\"zip\"],\"audio/3gpp\":[\"*3gpp\"],\"audio/adpcm\":[\"adp\"],\"audio/basic\":[\"au\",\"snd\"],\"audio/midi\":[\"mid\",\"midi\",\"kar\",\"rmi\"],\"audio/mp3\":[\"*mp3\"],\"audio/mp4\":[\"m4a\",\"mp4a\"],\"audio/mpeg\":[\"mpga\",\"mp2\",\"mp2a\",\"mp3\",\"m2a\",\"m3a\"],\"audio/ogg\":[\"oga\",\"ogg\",\"spx\"],\"audio/s3m\":[\"s3m\"],\"audio/silk\":[\"sil\"],\"audio/wav\":[\"wav\"],\"audio/wave\":[\"*wav\"],\"audio/webm\":[\"weba\"],\"audio/xm\":[\"xm\"],\"font/collection\":[\"ttc\"],\"font/otf\":[\"otf\"],\"font/ttf\":[\"ttf\"],\"font/woff\":[\"woff\"],\"font/woff2\":[\"woff2\"],\"image/aces\":[\"exr\"],\"image/apng\":[\"apng\"],\"image/bmp\":[\"bmp\"],\"image/cgm\":[\"cgm\"],\"image/dicom-rle\":[\"drle\"],\"image/emf\":[\"emf\"],\"image/fits\":[\"fits\"],\"image/g3fax\":[\"g3\"],\"image/gif\":[\"gif\"],\"image/heic\":[\"heic\"],\"image/heic-sequence\":[\"heics\"],\"image/heif\":[\"heif\"],\"image/heif-sequence\":[\"heifs\"],\"image/ief\":[\"ief\"],\"image/jls\":[\"jls\"],\"image/jp2\":[\"jp2\",\"jpg2\"],\"image/jpeg\":[\"jpeg\",\"jpg\",\"jpe\"],\"image/jpm\":[\"jpm\"],\"image/jpx\":[\"jpx\",\"jpf\"],\"image/jxr\":[\"jxr\"],\"image/ktx\":[\"ktx\"],\"image/png\":[\"png\"],\"image/sgi\":[\"sgi\"],\"image/svg+xml\":[\"svg\",\"svgz\"],\"image/t38\":[\"t38\"],\"image/tiff\":[\"tif\",\"tiff\"],\"image/tiff-fx\":[\"tfx\"],\"image/webp\":[\"webp\"],\"image/wmf\":[\"wmf\"],\"message/disposition-notification\":[\"disposition-notification\"],\"message/global\":[\"u8msg\"],\"message/global-delivery-status\":[\"u8dsn\"],\"message/global-disposition-notification\":[\"u8mdn\"],\"message/global-headers\":[\"u8hdr\"],\"message/rfc822\":[\"eml\",\"mime\"],\"model/3mf\":[\"3mf\"],\"model/gltf+json\":[\"gltf\"],\"model/gltf-binary\":[\"glb\"],\"model/iges\":[\"igs\",\"iges\"],\"model/mesh\":[\"msh\",\"mesh\",\"silo\"],\"model/stl\":[\"stl\"],\"model/vrml\":[\"wrl\",\"vrml\"],\"model/x3d+binary\":[\"*x3db\",\"x3dbz\"],\"model/x3d+fastinfoset\":[\"x3db\"],\"model/x3d+vrml\":[\"*x3dv\",\"x3dvz\"],\"model/x3d+xml\":[\"x3d\",\"x3dz\"],\"model/x3d-vrml\":[\"x3dv\"],\"text/cache-manifest\":[\"appcache\",\"manifest\"],\"text/calendar\":[\"ics\",\"ifb\"],\"text/coffeescript\":[\"coffee\",\"litcoffee\"],\"text/css\":[\"css\"],\"text/csv\":[\"csv\"],\"text/html\":[\"html\",\"htm\",\"shtml\"],\"text/jade\":[\"jade\"],\"text/jsx\":[\"jsx\"],\"text/less\":[\"less\"],\"text/markdown\":[\"markdown\",\"md\"],\"text/mathml\":[\"mml\"],\"text/mdx\":[\"mdx\"],\"text/n3\":[\"n3\"],\"text/plain\":[\"txt\",\"text\",\"conf\",\"def\",\"list\",\"log\",\"in\",\"ini\"],\"text/richtext\":[\"rtx\"],\"text/rtf\":[\"*rtf\"],\"text/sgml\":[\"sgml\",\"sgm\"],\"text/shex\":[\"shex\"],\"text/slim\":[\"slim\",\"slm\"],\"text/stylus\":[\"stylus\",\"styl\"],\"text/tab-separated-values\":[\"tsv\"],\"text/troff\":[\"t\",\"tr\",\"roff\",\"man\",\"me\",\"ms\"],\"text/turtle\":[\"ttl\"],\"text/uri-list\":[\"uri\",\"uris\",\"urls\"],\"text/vcard\":[\"vcard\"],\"text/vtt\":[\"vtt\"],\"text/xml\":[\"*xml\"],\"text/yaml\":[\"yaml\",\"yml\"],\"video/3gpp\":[\"3gp\",\"3gpp\"],\"video/3gpp2\":[\"3g2\"],\"video/h261\":[\"h261\"],\"video/h263\":[\"h263\"],\"video/h264\":[\"h264\"],\"video/jpeg\":[\"jpgv\"],\"video/jpm\":[\"*jpm\",\"jpgm\"],\"video/mj2\":[\"mj2\",\"mjp2\"],\"video/mp2t\":[\"ts\"],\"video/mp4\":[\"mp4\",\"mp4v\",\"mpg4\"],\"video/mpeg\":[\"mpeg\",\"mpg\",\"mpe\",\"m1v\",\"m2v\"],\"video/ogg\":[\"ogv\"],\"video/quicktime\":[\"qt\",\"mov\"],\"video/webm\":[\"webm\"]};"],"sourceRoot":""}